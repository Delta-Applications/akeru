const ConferenceGroupUI=function(){const n=document.getElementById("group-call-details"),t=document.getElementById("group-call-details-list"),l=document.getElementById("group-call"),a=l.querySelector(".numberWrapper .number bdi"),r=l.querySelector(".additionalContactInfo .tel-type"),o=document.querySelector("#group-call > .duration"),s=o.querySelector("span"),i=window.api.l10n.get;function c(){var e=CallsHandler.getConferenceStartTime();CallScreen.createTicker(o,e)}function d(){n.classList.remove("display"),CallScreenHelper.render()}function u(){t.innerHTML=""}function p(){if("voice-over-cellular"!==CallsHandler.imsRegState&&"voice-over-wifi"!==CallsHandler.imsRegState&&"video-over-cellular"!==CallsHandler.imsRegState&&"video-over-wifi"!==CallsHandler.imsRegState)return!1;var[e]=t.childNodes;return 0===t.childElementCount||void 0===e.endCall}return{updateGroupInformation:function(){let e=0;if(CallScreen.updateCallsDisplay(),d(),p()){const n=CallsHandler.getImsGroupDetailsText();n&&(a.textContent=n,e=n.split(",").length)}else a.textContent=CallsHandler.getGroupDetailsText(),e=ConferenceGroupHandler.conferenceGroupLength;l.classList.add("additionalInfo"),r.textContent=i("conference-call-num",{num:e})},show:function(e){l.hidden=!1,l.classList.remove("ended"),l.classList.remove("held"),l.querySelector(".callended").classList.add("hidden"),o.classList.remove("isHeld"),c();const n=l.querySelector(".status-icon");""===e?delete n.dataset.index:n.dataset.index=e,CallScreen.updateCallsDisplay(),CallScreen.rendVoWifiQuality(l,!0);var{duration:e}=o.dataset;e&&document.body.classList.contains("single-line")&&Utils.prettyDuration(s,+e)},hold:function(){l.classList.add("held"),o.classList.add("isHeld"),CallScreen.updateCallsDisplay(),CallScreen.rendVoWifiQuality(l,!1);var{duration:e}=o.dataset;e&&document.body.classList.contains("single-line")&&Utils.prettyDuration(s,+e,"callHeldDuration")},end:function(){document.body.classList.contains("single-line")&&({duration:e}=o.dataset,e?Utils.prettyDuration(s,+e,"callEndedDuration"):s.textContent=i("callEnded")),l.classList.add("ended"),l.classList.remove("held"),l.querySelector(".callended").classList.remove("hidden"),CallScreen.stopTicker(o),CallScreen.showRecIndicator(l,!1),CallsHandler.clearConferenceStartTime(),u(),CallScreen.rendVoWifiQuality(l,!1);var e=CallsHandler.isAnyOpenCalls?CallScreen.callEndPromptTime:CallScreen.callNodeHideTime;setTimeout(()=>{CallsHandler.conferenceCallEnd(),l.hidden=!0,CallScreen.updateCallsDisplay()},e)},addCall:function(e){return e=function(e){const n=document.createElement("li");n.classList.add("conference_group_list"),n.classList.add("p-pri");const t=document.createElement("div");return t.textContent=e,n.appendChild(t),n}(e),t.appendChild(e),e},addImsCall:function(e,n){return n=function(e,n){const t=document.createElement("li");t.classList.add("conference_group_list"),t.classList.add("p-pri"),t.dataset.telenumber=e;const l=document.createElement("div");l.textContent=""===n?e:n;return t.appendChild(l),t}(e,n),t.appendChild(n),n},createTicker:c,removeCall:function(e){t.contains(e)&&t.removeChild(e)},showGroupDetails:function(){NavigationManager.reset(".conference_group_list"),n.classList.add("display")},hideGroupDetails:d,isGroupDetailsShown:function(){return n.classList.contains("display")},markCallsAsEnded:function(){const n=t.getElementsByTagName("li");for(let e=0;e<n.length;e++)n[e].dataset.groupHangup="groupHangup"},endCall:function(){d();const e=n.querySelector(".focus");e.endCall?e.endCall():ConferenceGroupHandler.hangUpFromCallMap(e)},separateCall:function(){d();const e=n.querySelector(".focus");e.separateCall?e.separateCall():ConferenceGroupHandler.separateCallFromCallMap(e)},removeDetails:u,isImsconferenceGroup:p,showRecIndicator:function(e){CallScreen.showRecIndicator(l,e)},get currentDuration(){return o.dataset.duration},get focusedItem(){return n.querySelector(".focus")}}}();window.ConferenceGroupUI=ConferenceGroupUI;