const DialerHelper=function(){const e=document.getElementById("dialer-helper"),l=document.getElementById("dialer-number-input");let n=null,i="",s="";const r={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","*":"*",0:"0","#":"#"},a=["*","+",","];let o=null,c=0;function t(){u()&&(i="",DtmfHelper.enableDtmf(),n.style.visibility="visible",e.classList.remove("display"),document.body.focus(),CallScreenHelper.render(),l.removeEventListener("keydown",f))}function u(){return e.classList.contains("display")}function d(){0!==i.length&&(CallsHandler.dial(i),t())}function f(e){var n,t=CallScreen.translateKey(e.key);"ArrowLeft"!==t&&"ArrowRight"!==t&&(e.stopPropagation(),e.preventDefault(),"Call"===t?d():"Backspace"===t&&CallScreen.isEndCallKeyExisted()?y():r[t]&&("*"===t?(n=new Date,"*"===o&&n-c<1e3?(e=a.indexOf(l.value[l.selectionEnd-1]),p(a[(e+1)%a.length])):m(t),c=n):m(t),o=t))}function p(e){var n=l.selectionEnd;if(n){const{value:t}=l;i=t.substr(0,n-1)+e+t.substr(n),s=e?n:n-1,v()}}function m(e){var n=l.selectionEnd;const{value:t}=l;i=t.substr(0,n)+e+t.substr(n),s=n+1,v()}function v(){l.value=i,l.selectionEnd=s,FontSizeManager.adaptToSpace({scenario:FontSizeManager.DIAL_PAD,view:l,forceMaxFontSize:!1,ellipsisSide:"begin",noEllipsis:!0}),n.style.visibility=i.length?"visible":"hidden"}function y(){i.length?p(""):t()}return{showDialerHelper:function(){i="",s=0,DtmfHelper.disableDtmf(),e.classList.add("display"),n=document.getElementById("software-keys-center"),v(),l.focus(),l.addEventListener("keydown",f)},isDialerHelperShown:u,hideDialerHelper:t,callNumber:d,clearPhoneNumber:y,focus:function(){u()&&(l.focus(),setTimeout(()=>{u()&&document.activeElement!==l&&l.focus()},1e3))}}}();window.DialerHelper=DialerHelper;