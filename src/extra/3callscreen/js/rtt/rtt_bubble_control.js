!function(e){const l=45;function i(e){e&&(e.scrollTop=e.scrollHeight-e.clientHeight)}function d(e,t){t?e.classList.add("arrow-down"):e.classList.remove("arrow-down")}window.addEventListener("rttViewChange",function(e){const t=e.detail.curRttView;var o;t&&(o=t.querySelector(".message-list"),"ArrowUp"===e.detail.key?(e=o).scrollTop<l?e.scrollTop=0:e.scrollTop-=l:(o=o).scrollTop+o.clientHeight+l>=o.scrollHeight?(d(o.parentElement,!1),i(o)):o.scrollTop+=l)}),e.RttBubbleControl={updateMessage:function(t,o){const l=document.querySelector(`.rtt-view[call-id="${t}"]`);var n=RttCache.getMessage(t,o);if(l&&n){const c=l.querySelector(".message-list");let e=!1;(t=c).scrollHeight===t.scrollTop+t.clientHeight&&(e=!0);const s=l.querySelector(`[id="${o}"].message`);if(s){const r=s.querySelector(".message-content-body");r.textContent=n.body,"sent"===n.direction&&(s.offsetTop-c.offsetTop<c.scrollTop||s.offsetTop-c.offsetTop+s.clientHeight>c.scrollTop+c.clientHeight)&&(s.scrollIntoView(!1),e=!1),(t=n)&&t.body||s.parentNode.removeChild(s)}else{o=function(e,t){const o=document.createElement("li");o.className=`navigable message ${t.direction}`,o.id=e;const l=document.getElementById("bubble-template").cloneNode(!0);l.id="",l.hidden=!1,o.appendChild(l);const n=l.querySelector(".message-content-body");return n.textContent=t.body,o}(o,n);c.appendChild(o),e||"received"!==n.direction||d(c.parentElement,!0)}e&&(i(c),d(c.parentElement,!1))}},setMessageColor:function(e,o,l,n){let c=document.querySelector('.rtt-view[call-id="'+e+'"]');if(c){let t=c.querySelector('[id="'+o+'"].message');if(t){let e=t.querySelector(".message-content-body");e.style.backgroundColor=l,e.style.color=n}}}}}(window);