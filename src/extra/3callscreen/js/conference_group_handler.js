const ConferenceGroupHandler=function(){const c=new Map,{telephony:r}=window.navigator.b2g;function o(r){let o=null;return c.forEach((e,n)=>{e===r&&(o=n)}),o}return r.conferenceGroup&&(r.conferenceGroup.oncallschanged=function(){CallsHandler.isMergeRequsted=!1,ConferenceGroupUI.updateGroupInformation(),ConferenceGroupUI.isImsconferenceGroup()?(function(){if(r.conferenceGroup.calls.length){const[e]=r.conferenceGroup.calls;e.onstatechange=()=>{"bad"===e.vowifiQuality&&CallScreen.remindBadWfc()}}}(),r.conferenceGroup.calls.length&&ConferenceGroupUI.createTicker()):2<=r.conferenceGroup.calls.length&&CallsHandler.checkCalls()},r.conferenceGroup.onstatechange=function(){CallsHandler.isMergeRequsted=!1;var{calls:n}=r.conferenceGroup;switch(DUMP(`onStateChange length: ${n.length} state: ${r.conferenceGroup.state}`),r.conferenceGroup.state){case"resuming":case"connected":{let e="";n.length&&(e=CallScreen.getSimNum(n[0])),ConferenceGroupUI.show(e),CallRecording.autoCallRec();break}case"held":ConferenceGroupUI.hold();break;case"":ConferenceGroupUI.end(),c.clear(),CallsHandler.checkCalls()}},r.conferenceGroup.onerror=function(e){CallsHandler.isMergeRequsted=!1;let n="conferenceRemoveError";"add"===e.name&&(n="conferenceAddError");CallScreen.showToast({messageL10nId:n})}),{addToGroupDetails:function(e){return ConferenceGroupUI.addCall(e)},addToImsGroupDetails:function(e,n){return ConferenceGroupUI.addImsCall(e,n)},removeFromGroupDetails:function(e){ConferenceGroupUI.removeCall(e)},signalConferenceEnded:function(){ConferenceGroupUI.markCallsAsEnded()},hangUpFromCallMap:function(e){const n=o(e);n&&n.hangUp()},separateCallFromCallMap:function(e){var n=o(e);n&&(r.conferenceGroup.remove(n),ConferenceGroupUI.removeCall(e),c.delete(n))},get conferenceGroupLength(){return r.conferenceGroup.calls.length},get imsCallsItem(){return c},get currentDuration(){return ConferenceGroupUI.currentDuration}}}();window.ConferenceGroupHandler=ConferenceGroupHandler;