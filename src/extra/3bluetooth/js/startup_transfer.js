const servicesArray=["settingsService"];let Transfer=null,TransferData=null,init=!1;window.libSession.initService(servicesArray).then(()=>{SettingsObserver.init(),window.api.l10n.once(()=>{Transfer=new TransferManager,init=!0,Transfer.init(),TransferData&&Transfer.activityHandler(TransferData)})}),navigator.serviceWorker.addEventListener("message",e=>{window.keepSWStateInterval=setInterval(()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({isDummy:!0})},3e5);var{category:r,type:a,data:e}=e.data;"systemmessage"===r&&"activity"===a&&(TransferData=e,init&&Transfer.activityHandler(TransferData))});