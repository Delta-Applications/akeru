!function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],d=0,h=[];d<s.length;d++)i=s[d],a[i]&&h.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);h.length;)h.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={6:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,r){n=a[e]=[t,r]});t.push(n[2]=r);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+""+({}[e]||e)+".bundle.js"}(e);var c=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",c.name="ChunkLoadError",c.type=r,c.request=o,n[1](c)}a[e]=void 0}};var l=setTimeout(function(){o({type:"timeout",target:s})},12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="dist/",i.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([245,1]),n()}({11:function(e,t,n){"use strict";var r={_providers:new Map,_services:new Map,_requestsByService:new Map,_requestsByProvider:new Map,request:function(e){var t=e.split(":"),n=Array.prototype.slice.call(arguments,1),r=this;if(t.length>1){var a=t[0],o=t[1];return this._providers.get(a)?new Promise(function(e,t){var i=r._providers.get(a)[o].apply(r._providers.get(a),n);r._unwrapPromise(i,e,t)}):new Promise(function(e,t){r._requestsByProvider.has(a)||r._requestsByProvider.set(a,[]),r._requestsByProvider.get(a).push({service:o,resolve:e,reject:t,args:n})})}if(this._services.has(e)){var i=this._services.get(e);return new Promise(function(t,a){var o=t(i[e].apply(i,n));r._unwrapPromise(o,t,a)})}return new Promise(function(t,a){r._requestsByService.has(e)||r._requestsByService.set(e,[]),r._requestsByService.get(e).push({service:e,args:n,resolve:t,reject:a})})},register:function(e,t){var n=this;this._providers.has(t.name)||this._providers.set(t.name,t),this._requestsByProvider.has(t.name)&&(this._requestsByProvider.get(t.name).forEach(function(e){n.debug("resolving..",t,t.name,e.service,e.args);var r="function"==typeof t[e.service]?t[e.service].apply(t,e.args):t[e.service];n._unwrapPromise(r,e.resolve,e.reject)}),this._requestsByProvider.delete(t.name)),this._services.has(e)||(this._services.set(e,t),this._requestsByService.has(e)&&(this._requestsByService.get(e).forEach(function(e){var r=t[e.service].apply(t,e.args);n._unwrapPromise(r,e.resolve,e.reject)}),this._requestsByService.delete(e)))},_unwrapPromise:function(e,t,n){e&&e.then&&e.catch?e.then(function(e){t(e)}).catch(function(e){n(e)}):t(e)},unregister:function(e,t){this._providers.delete(t.name);var n=this._services.get(e);n&&t===n&&this._services.delete(e)},_states:new Map,_statesByState:new Map,registerState:function(e,t){this._states.set(t.name,t),this._statesByState.set(e,t)},unregisterState:function(e,t){this._states.delete(t.name),this._statesByState.get(e)===t&&this._statesByState.delete(e)},query:function(e){var t,n,r=e.split(".");if(r.length>1?(n=this._states.get(r[0]),t=r[1]):(t=r[0],n=this._statesByState.get(t)),n){if("function"==typeof n[t]){var a=Array.prototype.slice.call(arguments,1);return n[t].apply(n,a)}return n[t]}},get applicationReady(){return window.applications&&window.applications.ready},isBusyLoading:function(){var e=this.currentApp;return e&&!e.loaded},_start:(new Date).getTime()/1e3,currentTime:function(){return((new Date).getTime()/1e3-this._start).toFixed(3)},debug:function(){console.log("[System]["+window.Service.currentTime()+"]"+Array.slice(arguments).concat())},get runningFTU(){return void 0!==window.FtuLauncher&&window.FtuLauncher.isFtuRunning()},get manifestURL(){return window.location.href.replace("index.html","manifest.webapp")},get currentApp(){return void 0===window.appWindowManager?null:window.appWindowManager.getActiveApp()}};t.a=r},163:function(e,t,n){"use strict";var r=n(95),a=n(49),o="RSA-OAEP",i="AES-GCM";function s(e,t){return new Promise(function(n,r){var a=e.encrypted,s=e.symmetricKey,c=e.iv;window.crypto.subtle.unwrapKey("raw",s,t.privateKey,{name:o,hash:{name:"SHA-256"}},{name:"AES-GCM",length:256},!1,["decrypt"]).then(function(e){var t=new TextDecoder;window.crypto.subtle.decrypt({name:i,iv:c},e,a).then(function(e){n(JSON.parse(t.decode(e)))},function(e){console.error("decryptResponse: ",e),r(e)})},function(e){console.error("unwrapKey: ",e),r(e)})})}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=new(function(e){var t,n;function a(){var t;return l(c(t=e.call(this)||this),"mAuthenticators",void 0),l(c(t),"mAccounts",void 0),t.navAccountManager=navigator.accountManager,t._logger=new r.a("AccountManager","trace"),t._logger.info("account manager start.........................."),t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.managerGetAuthenticators=function(){return this.navAccountManager.getAuthenticators()},i.filterKaiAccounts=function(e){for(var t=[],n=0;n<e.length;n++)"kaiaccount"!==e[n].authenticatorId&&t.push(e[n]);return t},i.managerGetAccounts=function(){var e=this;return new Promise(function(t,n){window.cryptoInfo?e.managerGetAccountsInfo().then(function(n){t(e.filterKaiAccounts(n))},function(e){n(e)}):new Promise(function(e,t){window.crypto.subtle.generateKey({name:o,modulusLength:1024,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["wrapKey","unwrapKey"]).then(function(n){window.crypto.subtle.exportKey("jwk",n.publicKey).then(function(t){e({keyPair:n,exportedKey:t})},function(e){console.error("generateKey exportedKey error: "+e),t(e)})},function(e){t(e)})}).then(function(r){window.cryptoInfo||(window.cryptoInfo=r),e.managerGetAccountsInfo().then(function(n){t(e.filterKaiAccounts(n))},function(e){n(e)})})})},i.managerGetAccountsInfo=function(){return new Promise(function(e,t){new WebActivity("account-manager",{action:"getAccounts",publicKey:window.cryptoInfo.exportedKey}).start().then(function(t){s(t,window.cryptoInfo.keyPair).then(function(t){console.log("WebActivity getAccounts Success: ",t),e(t)})},function(e){console.error("WebActivity getAccounts Failure: ",e),t(e)})})},i.managerShowLoginPage=function(e){var t=this;new WebActivity("account-manager",{authenticatorId:e.authenticatorId,action:"showLoginPage",publicKey:window.cryptoInfo.exportedKey}).start().then(function(e){s(e,window.cryptoInfo.keyPair).then(function(e){window.calendarSync[e.authenticatorId+":"+e.accountId]=!0,t._logger.success("showLoginPage resolved: "+JSON.stringify(e)),t.emit("account-add-success",e)})},function(e){t._logger.error("showLoginPage rejected: "+e),t.emit("account-add-failed",e)})},i.managerGetCredentials=function(e){return new Promise(function(t,n){new WebActivity("account-manager",{account:{authenticatorId:e.authenticatorId,accountId:e.accountId},action:"getCredential",publicKey:window.cryptoInfo.exportedKey}).start().then(function(e){s(e,window.cryptoInfo.keyPair).then(function(e){console.log("getCredential Success",e),t(e)})},function(e){console.error("getCredential Failure",e),n(e)})})},i.managerRefreshCredential=function(e){return new Promise(function(t,n){new WebActivity("account-manager",{action:"refreshCredential",account:{authenticatorId:e.authenticatorId,accountId:e.accountId},publicKey:window.cryptoInfo.exportedKey}).start().then(function(e){s(e,window.cryptoInfo.keyPair).then(function(e){console.log("refreshCredential Success",e),t(e)})},function(e){console.error("refreshCredential Failure",e),n(e)})})},i.managerLogout=function(e){var t=this;new WebActivity("account-manager",{account:{authenticatorId:e.authenticatorId,accountId:e.accountId},action:"revokeCredential",publicKey:window.cryptoInfo.exportedKey}).start().then(function(n){s(n,window.cryptoInfo.keyPair).then(function(n){console.log("revokeCredential Success",n),t.emit("account-logout-success",e)})},function(e){console.error("revokeCredential Failure",e),t.emit("account-logout-failed",e)})},i.managerChangePassword=function(e,t){var n=this;this.navAccountManager.reauthenticate(e,{password:t}).then(function(e){n._logger.success("change password succ: "+JSON.stringify(e)),n.emit("account-change-password-success")},function(e){n._logger.error("change password failed: "+e),n.emit("account-change-password-failed",e)})},a}(a.a));t.a=u},164:function(e,t,n){"use strict";var r=new(function(e){var t,n;function r(){var t;return(t=e.call(this)||this)._initEvents(),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.init=function(){this._preHour12=window.api.hour12},a._initEvents=function(){var e=this;window.addEventListener("visibilitychange",function(){e._preHour12!==window.api.hour12&&(e._preHour12=window.api.hour12,e.emit("settings-time-format-changed"))})},r}(n(49).a));t.a=r},19:function(e,t,n){"use strict";n.d(t,"c",function(){return y}),n.d(t,"d",function(){return w}),n.d(t,"a",function(){return S}),n.d(t,"b",function(){return A});var r=n(2),a=n(3),o=n.n(a),i=n(4),s=n.n(i),c=n(76),l=n.n(c),u=n(26),d=n(81),h=n.n(d);function f(e,t){f=function(e,t){return new o(e,t)};var n=p(RegExp),r=RegExp.prototype,a=new WeakMap;function o(e,t){var r=n.call(this,e);return a.set(r,t),r}function i(e,t){var n=a.get(t);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(o,n),o.prototype.exec=function(e){var t=r.exec.call(this,e);return t&&(t.groups=i(t,this)),t},o.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var n=a.get(this);return r[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+n[t]}))}if("function"==typeof t){var o=this;return r[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!=typeof e[e.length-1]&&e.push(i(e,o)),t.apply(this,e)})}return r[Symbol.replace].call(this,e,t)},f.apply(this,arguments)}function p(e){var t="function"==typeof Map?new Map:void 0;return(p=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return v(e,arguments,g(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),m(r,e)})(e)}function v(e,t,n){return(v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&m(a,n.prototype),a}).apply(null,arguments)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){var n={entrypoint:"/",calendarHome:"",domain:e.url,password:e.password,user:e.user,providerType:"Caldav",preset:"caldav"},r=new h.a.Connection(n);r.getAccount(null,function(e,a){if(r.disconnect(),e)return console.warn("caldav get account failed: "+e),void(t&&t(e));n.calendarTag=a,function(e,t){var n=e;n.domain=n.domain+n.calendarTag;var r=new h.a.Connection(n);r.getCalendar(null,function(e,n){r.disconnect(),t&&t(e,n)})}(n,t)})}function w(e){var t=b(e.account.calendarItems),n={entrypoint:"/",calendarItem:t,domain:e.account.url+t,password:e.account.password,user:e.account.user,providerType:"Caldav",preset:"caldav"},a=e.cached||[],i=e.callback,s=e.toastId,c=window.selectedDate,l=new Date(c.valueOf()),d=new Date(l.setMonth(l.getMonth()-1)),f=o()(d,"YYYYMM")+"01T000000000Z",p=new h.a.Connection(n);p.getCaldavEvents({startDate:f},function(t,n){p.disconnect(),t?i&&i(t):(!function(e){var t=e.events,n=e.cached,a=e.user;if(!t||0===t.length)return void u.a.deleteAllEvent(n,!0);for(var o=[],i=[],s=0;s<t.length;s++)o.push(D(t[s],a));if(0===n.length)return void u.a.newAllEvent(o);var c=n;if(o.forEach(function(e){var t=c.findIndex(function(t){return t.uuid===e.uuid});-1!==t&&Object(r.U)(e,c[t])||i.push(e),-1!==t&&c.splice(t,1)}),0===c.length&&i.length>0)u.a.newAllEvent(i);else{var l=[];c.forEach(function(e){a===e.account&&l.push(e)}),u.a.deleteAllEvent(l),u.a.newAllEvent(i)}}({events:n,cached:a,user:e.account.user}),s&&u.a.showToaster(s),i&&i())})}function b(e){for(var t=e[0],n=0;n<e.length;n++)if(-1===e[n].toLowerCase().lastIndexOf("holiday")){t=e[n];break}return t}function E(e){var t=new Date;return t.setUTCFullYear(parseInt(e.substring(0,4))),t.setUTCMonth(parseInt(e.substring(4,6))-1),t.setUTCDate(parseInt(e.substring(6,8))),8===e.length?t.setUTCHours(0,0,0):(t.setUTCHours(parseInt(e.substring(9,11))),t.setUTCMinutes(parseInt(e.substring(11,13))),t.setUTCSeconds(parseInt(e.substring(13,15)))),t.setUTCMilliseconds(0),t}function D(e,t){var n=E(e.DTSTART),a=E(e.DTEND),i=8===e.DTSTART.length;if(i){var c=60*(new Date).getTimezoneOffset()*1e3;n=new Date(n.valueOf()+c),a=new Date(a.valueOf()+c),a=(a=l()(a,1)).setUTCHours(23,59)}var u=function(e){if(!e)return"none";var t="none",n=null;switch(e[e.length-1]){case"S":t=parseInt(f(/PT(.*)S$/,{min:1}).exec(e).groups.min);break;case"M":t=60*parseInt(f(/PT(.*)M$/,{min:1}).exec(e).groups.min);break;case"H":(n=f(/PT(.*)H$/,{hour:1}).exec(e))?t=60*parseInt(n.groups.hour)*60:f(/P(.*)DT(.*)H$/,{day:1,hour:2}).exec(e)&&(n=f(/P(.*)DT(.*)H$/,{day:1,hour:2}).exec(e),t=60*parseInt(n.groups.day)*60*24+60*parseInt(n.groups.hour)*60);break;case"D":t=60*parseInt(f(/P(.*)D$/,{min:1}).exec(e).groups.min)*60*24}var r="-"===e[0]?-1:1;return"none"===t?t:(r*t).toString()}(e.TRIGGER);u=Object(r.A)(u,i);var d=e.RRULE?function(e){var t=e,n=t.indexOf("UNTIL");if(-1===n)return null;var r=(t=t.substring(n)).substring(6,22);return s()(r,"YYYYMMDD'T'HHmmss'Z'")}(e.RRULE):null,h=e.DESCRIPTION?e.DESCRIPTION.replace(/\\n/g,"\n"):"";return{uuid:e.UID,title:e.SUMMARY||"",location:e.LOCATION||"",allDayEvent:i,startDate:o()(n,"MM/DD/YYYY"),endDate:o()(a,"MM/DD/YYYY"),startTime:i?"00:00":Object(r.n)(new Date(n.valueOf())),endTime:i?"23:59":Object(r.n)(new Date(a.valueOf())),repeat:Object(r.B)(e.RRULE),reminder:u,description:h,eventSDate:n,eventEDate:a,repeatSDate:n,repeatEDate:d,account:t,serverId:null,authenticatorId:"caldav"}}function S(e,t){var n=function(e){var t=60*(new Date).getTimezoneOffset()*1e3,n=new Date(e.eventSDate.valueOf()+t),a=new Date(e.eventEDate.valueOf()+t),i=o()(n,"YYYYMMDD")+"T"+o()(n,"HHmmssSSS")+"Z",s=o()(a,"YYYYMMDD")+"T"+o()(a,"HHmmssSSS")+"Z";if(e.allDayEvent){i=o()(e.eventSDate,"YYYYMMDD");var c=Math.round((e.eventEDate.valueOf()-e.eventSDate.valueOf())/864e5);a=new Date(e.eventSDate.valueOf()+864e5*c),s=o()(a,"YYYYMMDD")}var l="";if(l+="BEGIN:VCALENDAR\r\n",l+="PRODID:-//Mozilla//FirefoxOS\r\n",l+="VERSION:2.0\r\n",l+="BEGIN:VEVENT\r\n",l+="UID:"+e.uuid+"\r\n",l+="SUMMARY:"+e.title+"\r\n",l+="DESCRIPTION:"+(e.description&&e.description.replace(/\n/g,"\\n"))+"\r\n",l+="LOCATION:"+e.location+"\r\n",l+="SEQUENCE:1\r\n",e.allDayEvent?(l+="DTSTART;VALUE=DATE:"+i+"\r\n",l+="DTEND;VALUE=DATE:"+s+"\r\n"):(l+="DTSTART:"+i+"\r\n",l+="DTEND:"+s+"\r\n"),"never"!==e.repeat&&(l+="RRULE:"+Object(r.w)(e,!0)+"\r\n"),l+="BEGIN:VALARM\r\n",l+="ACTION:DISPLAY\r\n","none"!==e.reminder){var u=parseInt(e.reminder);l+=u<0?"TRIGGER;RELATIVE=START:-PT"+Math.abs(u)/60+"M\r\n":"TRIGGER;RELATIVE=START:PT"+Math.abs(u)/60+"M\r\n"}return l+="END:VALARM\r\n",l+="END:VEVENT\r\n",l+="END:VCALENDAR\r\n"}(e.event),a=b(e.account.calendarItems),i={entrypoint:"/",calendarItem:a,domain:e.account.url+a+e.event.uuid+".ics",password:e.account.password,user:e.account.user,providerType:"Caldav",preset:"caldav"},s=new h.a.Connection(i);s.createEvent({event:n},function(e){s.disconnect(),e?console.log("createCaldavEvent err: "+e):t&&t()})}function A(e,t){var n=b(e.account.calendarItems),r={entrypoint:"/",calendarItem:n,domain:e.account.url+n+e.event.eventId+".ics",password:e.account.password,user:e.account.user,providerType:"Caldav",preset:"caldav"},a=new h.a.Connection(r);a.deleteEvent(null,function(e,n){a.disconnect(),t&&t()})}},2:function(e,t,n){"use strict";n.d(t,"a",function(){return ie}),n.d(t,"z",function(){return se}),n.d(t,"j",function(){return le}),n.d(t,"l",function(){return ue}),n.d(t,"c",function(){return de}),n.d(t,"X",function(){return he}),n.d(t,"Q",function(){return fe}),n.d(t,"F",function(){return pe}),n.d(t,"S",function(){return ve}),n.d(t,"T",function(){return me}),n.d(t,"N",function(){return ge}),n.d(t,"M",function(){return ye}),n.d(t,"L",function(){return we}),n.d(t,"K",function(){return be}),n.d(t,"n",function(){return Ee}),n.d(t,"o",function(){return De}),n.d(t,"e",function(){return Ae}),n.d(t,"f",function(){return Te}),n.d(t,"V",function(){return _e}),n.d(t,"W",function(){return Ie}),n.d(t,"r",function(){return Oe}),n.d(t,"x",function(){return ke}),n.d(t,"s",function(){return Ce}),n.d(t,"O",function(){return Me}),n.d(t,"y",function(){return xe}),n.d(t,"h",function(){return Re}),n.d(t,"v",function(){return Ne}),n.d(t,"u",function(){return Le}),n.d(t,"J",function(){return Fe}),n.d(t,"p",function(){return Pe}),n.d(t,"b",function(){return Ue}),n.d(t,"g",function(){return je}),n.d(t,"R",function(){return We}),n.d(t,"C",function(){return Be}),n.d(t,"k",function(){return He}),n.d(t,"t",function(){return Ye}),n.d(t,"q",function(){return qe}),n.d(t,"d",function(){return Ke}),n.d(t,"i",function(){return Ge}),n.d(t,"G",function(){return ze}),n.d(t,"I",function(){return Xe}),n.d(t,"B",function(){return Je}),n.d(t,"w",function(){return Qe}),n.d(t,"H",function(){return Ze}),n.d(t,"P",function(){return $e}),n.d(t,"D",function(){return tt}),n.d(t,"E",function(){return nt}),n.d(t,"U",function(){return rt}),n.d(t,"A",function(){return at}),n.d(t,"m",function(){return ot});var r=n(63),a=n.n(r),o=n(117),i=n.n(o),s=n(229),c=n.n(s),l=n(230),u=n.n(l),d=n(78),h=n.n(d),f=n(116),p=n.n(f),v=n(33),m=n.n(v),g=n(160),y=n.n(g),w=n(76),b=n.n(w),E=n(45),D=n.n(E),S=(n(162),n(157)),A=n.n(S),T=n(231),_=n.n(T),I=n(115),O=n.n(I),k=n(90),C=n.n(k),M=n(232),x=n.n(M),R=n(44),N=n.n(R),L=n(91),F=n.n(L),P=n(233),U=n.n(P),j=n(79),W=n.n(j),B=n(234),H=n.n(B),Y=n(235),q=n.n(Y),V=n(3),K=n.n(V),G=n(236),z=n.n(G),X=n(225),J=n.n(X),Q=n(237),Z=n.n(Q),$=n(238),ee=n.n($),te=n(77),ne=n.n(te),re=n(11),ae=n(48);function oe(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}var ie=window.api.l10n.get;function se(){return"true"===localStorage.getItem("isLowMemoryDevice")}function ce(e,t){return a()(e,function(e){var n=new Date(e.allDayEvent?""+e.startDate:e.startDate+" "+e.startTime),r=new Date(e.allDayEvent?""+e.endDate:e.endDate+" "+e.endTime),a=new Date(t.valueOf());return a=new Date(a.setHours(0,0,0,0)),D()(t,new Date(e.startDate))||D()(t,new Date(e.endDate))&&e.allDayEvent||D()(t,new Date(e.endDate))&&r.valueOf()!==t.valueOf()&&e.busytimeEDate.valueOf()!==a.valueOf()||A()(n,t)&&_()(r,t)})}function le(e){return a()(e,function(e){return"google"===e.authenticatorId||"activesync"===e.authenticatorId})}function ue(e){var t=J()(e,(new Date).getHours());return t=Z()(t,(new Date).getMinutes()),{startTime:t=ee()(t,(new Date).getSeconds()),endTime:N()(t,7)}}function de(e,t){var n=O()(e),r=C()(n),a=[];r=new Date(r.valueOf()+72e5),r=new Date(r.valueOf()-12096e5);for(var o=0;o<9;o++)for(var i=0;i<7;i++){var s=ce(t,r);a.push({day:r,dayEvents:s}),r=N()(r,1)}return a}function he(){var e=Date.now();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:11&n).toString(16)})}function fe(){document.querySelectorAll("#sync-progress").forEach(function(e){if(!e.querySelector("gaia-progress")){var t=document.createElement("gaia-progress");t.setAttribute("id","progress-indicator"),e.appendChild(t)}})}function pe(){if(0===window.syncNum)for(var e=document.querySelectorAll("#sync-progress"),t=0;t<e.length;t++){var n=e[t];n.children&&n.children.length>0&&n.removeChild(n.children[0])}}function ve(){window.syncNum++}function me(){window.syncNum--,window.syncNum<0&&(window.typesyncNum=0),0===window.syncNum&&(pe(),Toaster.showToast({messageL10nId:"calendar-sync-up-to-date"}))}function ge(e){window.selectedDate=e}function ye(e){window.displayAccount=e,Me("display-accounts",e)}function we(e){var t=!1,n=xe("caldav-accounts");(n=JSON.parse(n))||(n=[]);for(var r=0;r<n.length;r++)n[r].user===e.user&&(t=!0,n[r].password=e.password,n[r].url=e.url,n[r].calendarItems=e.calendarItems,n[r].syncSwitch=e.syncSwitch);t||n.push(e),Me("caldav-accounts",n)}function be(e){var t=xe("caldav-accounts"),n=(t=JSON.parse(t)).findIndex(function(t){return t.user===e.accountId});-1!==n&&(t.splice(n,1),Me("caldav-accounts",t)),ne()(window.displayAccount,function(t){return t.value===e.accountId}),ye(window.displayAccount),delete window.calendarSync["caldav:"+e.accountId]}function Ee(e){var t=window.api.l10n.DateTimeFormat(),n=window.api.hour12?"%I:%M %p":"%H:%M";return t.localeFormat(e,n)}function De(e){return window.api.l10n.DateTimeFormat().localeFormat(e,"%H:%M")}function Se(e){return 3*e/60+"rem"}function Ae(e,t){var n=new Date(e.startDate),r=new Date(e.endDate),a=C()(t),o=x()(t),i=H()(n,r,a,o);return i<=0&&(i=1),A()(n,a)?{marginLeft:"0",width:"calc(100% / 7 * "+i+")"}:{marginLeft:"calc(100% / 7 * "+q()(n,a)+")",width:"calc(100% / 7 * "+i+")"}}function Te(e,t){var n=F()(t),r=U()(t),a=new Date(e.startDate+" "+e.startTime),o=new Date(e.endDate+" "+e.endTime),i=D()(a,t),s=D()(o,t);return i&&s?{top:Se(W()(a,n)),height:Se(W()(o,a))}:i&&!s?{top:Se(W()(a,n)),height:Se(W()(r,a))}:!i&&s?{top:0,height:Se(W()(o,n))}:{top:0,height:0}}function _e(e,t,n,r){return z()(e,t,n,r)}function Ie(e){return e.replace(/(\d\d)\/(\d\d)\/(\d{4})/,"$3-$1-$2")}function Oe(e,t){return"0"===e?t:"-300"===e?p()(t,5):"-900"===e?p()(t,15):"-1800"===e?p()(t,30):"-3600"===e?y()(t,1):"-7200"===e?y()(t,2):"-86400"===e?b()(t,1):"none"}function ke(e){var t=e;return"0"===t?ie("alarm-at-event-standard",{}):"-300"===t?ie("minutes-before",{value:5}):"-900"===t?ie("minutes-before",{value:15}):"-1800"===t?ie("minutes-before",{value:30}):"-3600"===t?ie("hours-before",{value:1}):"-7200"===t?ie("hours-before",{value:2}):"-86400"===t?ie("days-before",{value:1}):ie("none",{})}function Ce(e){var t=e;return"32400"===t?ie("alarm-at-event-allday",{}):"-54000"===t?ie("days-before",{value:1}):"-140400"===t?ie("days-before",{value:2}):"-572400"===t?ie("weeks-before",{value:1}):"-1177200"===t?ie("weeks-before",{value:2}):ie("none",{})}function Me(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){console.error("Error name: "+e.name+" message: "+e.message)}}function xe(e){return localStorage.getItem(e)}function Re(e,t,n){var r=a()(e,function(e){return e.allDayEvent===t}),o=0,i=null;if(n&&(o=60*n.getTimezoneOffset()*1e3,i=new Date(n.valueOf()-o)),t){if(!i)return r;for(var s=[],l=parseInt(i.valueOf()/864e5),d=0;d<e.length;d++)if(e[d].allDayEvent)s.push(e[d]);else{var h=parseInt(e[d].busytimeSDate.valueOf()/864e5),f=parseInt(e[d].busytimeEDate.valueOf()/864e5);h<l&&l<f&&s.push(e[d])}return s}for(var p=function(e,t){for(var n=[],r=parseInt(t.valueOf()/864e5),a=0;a<e.length;a++){var o=parseInt(e[a].busytimeSDate.valueOf()/864e5),i=parseInt(e[a].busytimeEDate.valueOf()/864e5);o!==i&&o!==r&&i!==r||n.push(e[a])}return n}(r,i),v=c()(p,function(e){return e.startDate&&e.startTime&&e.endDate&&e.endTime}),m=u()(v),g=[],y=0;y<m.length;y++){var w=m[y];2===w.length?(g.push([w[0]]),g.push([w[1]])):g.push(w)}return g}function Ne(e){var t=[];return i()(7,function(n){var r=e.getDay()-n,a=new Date;a=r>=0?b()(e,r):N()(e,Math.abs(r)),t.push(a)}),t}function Le(e,t){var n=[],r=null;return i()(7,function(a){r=t?N()(e,a):b()(e,a),n.push(r)}),n}function Fe(e){var t=h()(window.displayAccount,function(t){return t.value===e.account});return-1===t&&(t=0),ae.a.COLOR.accountColor[t%21]}function Pe(e,t){var n=e.substr(0,10).split("-"),r=n[0],a=n[1],o=n[2];return r=parseInt(r),a=parseInt(a),o=parseInt(o),K()(new Date(r,a-1,t?o-1:o),"MM/DD/YYYY")}function Ue(e){var t=null;switch(e){case"no network":t="error-account-offline";break;case"timeout":t="error-account-timeout";break;case"access denied":t="error-account-access-denied";break;case"incorrect password":t="error-account-wrong-name-pwd";break;case"duplicate_account":t="error-account-exist";break;case"error":t="error-account-default"}return t}function je(e,t){return e.account===t.account&&e.allDayEvent===t.allDayEvent&&m()(e.busytimeEDate,t.eventEDate)&&m()(e.busytimeSDate,t.eventSDate)&&e.description===t.description&&e.location===t.location&&e.reminder===t.reminder&&e.repeat===t.repeat&&e.title===t.title}function We(e){return e.sort(function(e,t){var n=e.allDayEvent?new Date(e.startDate+" 9:00 AM"):new Date(e.startDate+" "+e.startTime),r=t.allDayEvent?new Date(t.startDate+" 9:00 AM"):new Date(t.startDate+" "+t.startTime);return 0===n-r?t.title.localeCompare(e.title):n-r})}function Be(e){var t={weekday:"short",month:"long",day:"numeric",year:"numeric"};return e.allDayEvent||(t.hour="numeric",t.minute="numeric",t.hour12=window.api.hour12),e.busytimeSDate.toLocaleString(navigator.language,t)}function He(e){var t=window.displayAccount;if(!e||!t||!t.length)return e;var n=[];return e.forEach(function(e){var r=t.findIndex(function(t){return t.value===e.account});-1===n.findIndex(function(t){return t.busytimeId===e.busytimeId})&&-1!==r&&t[r].checked&&n.push(e)}),n}function Ye(e){var t=window.displayAccount;if(!e||!t||!t.length)return e;var n=[];return e.forEach(function(e){e.dayEvents.forEach(function(e){var r=t.findIndex(function(t){return t.value===e.account});-1===n.findIndex(function(t){return t.busytimeId===e.busytimeId})&&-1!==r&&t[r].checked&&n.push(e)})}),de(window.selectedDate,n)}function qe(){return Ve.apply(this,arguments)}function Ve(){var e;return e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"calendarSyncEnable",e.next=3,SettingsObserver.getValue("calendarSyncEnable");case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}},e)}),(Ve=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){oe(o,r,a,i,s,"next",e)}function s(e){oe(o,r,a,i,s,"throw",e)}i(void 0)})}).apply(this,arguments)}function Ke(){for(var e=[],t=document.querySelector(".cache-route-uncached .calendarId-select").children,n=0;n<t.length;n++){var r=t[n],a=r.value,o=r.selected,i=a;ie("calendar-local")===a&&(i="calendar-local"),e.push({value:i,checked:o,authenticatorId:t[n].dataset.authenticatorId}),t[n].checked=o}window.displayAccount=e,ye(window.displayAccount)}function Ge(){var e=document.querySelector(".cache-route-uncached .calendarId-select");e.innerHTML="";for(var t=0;t<window.displayAccount.length;t++){var n=document.createElement("option");n.selected=window.displayAccount[t].checked,n.textContent=window.displayAccount[t].value,"calendar-local"===window.displayAccount[t].value&&(n.setAttribute("data-l10n-id","calendar-local"),n.textContent=ie("calendar-local")),n.setAttribute("aria-hidden","true"),n.dataset.authenticatorId=window.displayAccount[t].authenticatorId,e.appendChild(n)}}function ze(e){return!re.a.query("isShowOptionMenu")&&!!document.querySelector("#softkeyPanel #software-keys-"+e).textContent}function Xe(e){return re.a.query("isShowOptionMenu")}function Je(e){if(!e)return"never";var t=function(e){var t=e,n=t.indexOf("FREQ");if(-1===n)return null;n=-1===(n=(t=t.substring(n)).indexOf(";"))?t.length:n;var r=t.substring(5,n);return-1===(n=t.indexOf("INTERVAL"))?{freq:r}:(n=-1===(n=(t=t.substring(n)).indexOf(";"))?t.length:n,{freq:r,interval:t.substring(9,n)})}(e),n="never";return t?"DAILY"===t.freq&&"1"===t.interval?n="every day":"WEEKLY"===t.freq&&"2"===t.interval?n="every 2 weeks":"WEEKLY"===t.freq&&"1"===t.interval?n="every week":"MONTHLY"===t.freq&&"1"===t.interval&&(n="every month"):n="never",n}function Qe(e,t){var n="";switch(e.repeat){case"every day":n="FREQ=DAILY;INTERVAL=1";break;case"every week":n="FREQ=WEEKLY";break;case"every 2 weeks":n="FREQ=WEEKLY;INTERVAL=2";break;case"every month":n="FREQ=MONTHLY"}var r=e.repeatEDate?new Date(e.repeatEDate.valueOf()-864e5):e.repeatEDate,a="";if(t){var o=e.repeatEDate;a=K()(o,"YYYYMMDD")+"T"+K()(o,"HHmmss")+"Z;"}else a=K()(r,"YYYYMMDD");return n&&e.repeatEDate&&(n=n+";UNTIL="+a),n}function Ze(){return navigator.connection&&("cellular"===navigator.connection.type||"wifi"===navigator.connection.type)}var $e=function(e){re.a.request("showDialog",e)};function et(e){return e>9?""+e:"0"+e}function tt(){var e=(new Date).getTimezoneOffset(),t="UTC+";return e>0&&(e-=60,t="UTC-"),""+t+et(e/60)+":"+et(e%60)}function nt(e){var t=new Date(e);t.setMonth(0),t.setDate(1),t.setHours(0,0,0,0);var n=(e.valueOf()-t.valueOf())/864e5+1,r=t.getDay()||7,a=null;return 7===r?a=Math.ceil(n/r):(n-=7-r+1,a=Math.ceil(n/7)+1),a}function rt(e,t){return e.account===t.account&&e.allDayEvent===t.allDayEvent&&m()(e.eventEDate,t.eventEDate)&&m()(e.eventSDate,t.eventSDate)&&m()(e.repeatEDate,t.repeatEDate)&&e.description===t.description&&e.location===t.location&&e.reminder===t.reminder&&e.repeat===t.repeat&&e.title===t.title}function at(e,t){var n=JSON.parse(xe("cal-settings")),r=n?n.standardAlarm:"-300",a=n?n.alldayAlarm:"32400",o=e.toString();return"none"===e?"none":t?["32400","-54000","-140400","-572400","-1177200"].includes(o)?o:a:["0","-300","-900","-1800","-3600","-7200","-86400"].includes(o)?o:r}function ot(e){var t=e.element,n=e.item,r=e.queryStr,a=e.alignToTop,o=t.querySelector(r);(n.offsetTop<o.scrollTop||n.offsetTop+n.clientHeight>o.scrollTop+o.clientHeight)&&n.scrollIntoView(a)}},21:function(e,t,n){"use strict";function r(e){if(!e||"string"!=typeof e)throw new Error("Event name should be a valid non-empty string!")}function a(e){if("function"!=typeof e)throw new Error("Handler should be a function!")}var o=new(function(e){var t,n;function r(){for(var t,n,r,a,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,n=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),a="SoftKeyStore",(r="name")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.start=function(){this.currentKeys={},this.registeredDOMMap=new Map},a.register=function(e,t){var n=this.registeredDOMMap.get(t),r=this;n?n.updateKeys(e):(n={start:function(){t.addEventListener("focus",this,!0),this.updateKeys(e)},stop:function(){t.removeEventListener("focus",this,!0)},handleEvent:function(){},check:function(e){if(document.activeElement===t||t.contains(document.activeElement)){var n=r.recount(e);r.store(n)}},updateKeys:function(e){this.keys=e,this.check(e)}},this.registeredDOMMap.set(t,n),n.start())},a.generateKeysInfo=function(e){var t=[];for(var n in e){var r={};switch(n){case"left":r.code="SoftLeft";break;case"center":r.code="Enter";break;case"right":r.code="SoftRight"}r.options={name:e[n]},t.push(r)}return t},a.registerSoftkeys=function(e){var t=this.generateKeysInfo(e);t.length&&window.registerSoftkeys&&window.registerSoftkeys(t)},a.store=function(e){this.currentKeys=e,this.registerSoftkeys(e),this.emit("change",{details:e})},a.recount=function(e){var t={};for(var n in e)n in t||(t[n]=e[n]);return t},a.unregister=function(e){var t=this.registeredDOMMap.get(e);t&&(t.stop(),this.registeredDOMMap.delete(e),this.store(this.recount()))},r}(function(){function e(){}var t=e.prototype;return t.on=function(e,t){r(e),a(t),this.listeners||(this.listeners=new Map);var n=this.listeners.get(e);n||(n=new Set,this.listeners.set(e,n)),n.add(t)},t.off=function(e,t){r(e),a(t);var n=this.listeners.get(e);n&&(n.delete(t),n.size||this.listeners.delete(e))},t.offAll=function(e){if(void 0!==e){r(e);var t=this.listeners.get(e);t&&(t.clear(),this.listeners.delete(e))}else this.listeners.clear()},t.emit=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r(e),this.listeners||(this.listeners=new Map);var o=this.listeners.get(e);o&&o.forEach(function(e){try{e.apply(null,n)}catch(e){console.error(e)}})},e}()));o.start();t.a=o},226:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";t={};var r=0,a=1,o=2,i=3,s=4,c=64,l=67,u=128,d=131,h=192,f=195,p={message:"THIS IS AN INTERNAL CONTROL FLOW HACK THAT YOU SHOULD NOT SEE"};var v=function(e,t,n){function r(){var e=this instanceof r?this:Object.create(r.prototype),t=Error(),a=1;if(e.stack=t.stack.substring(t.stack.indexOf("\n")+1),e.message=arguments[0]||t.message,n){a+=n.length;for(var o=0;o<n.length;o++)e[n[o]]=arguments[o+1]}var i=/@(.+):(.+)/.exec(e.stack);return e.fileName=arguments[a]||i&&i[1]||"",e.lineNumber=arguments[a+1]||i&&i[2]||0,e}return r.prototype=Object.create((t||Error).prototype),r.prototype.name=e,r.prototype.constructor=r,r}("WBXML.ParseError");function m(e,t){this.strings=[],this.offsets={};for(var n=0,r=0;r<e.length;r++)0===e[r]&&(this.offsets[n]=this.strings.length,this.strings.push(t.decode(e.subarray(n,r))),n=r+1)}t.ParseError=v,m.prototype={get:function(e){if(e in this.offsets)return this.strings[this.offsets[e]];if(e<0)throw new v("offset must be >= 0");for(var t=0,n=0;n<this.strings.length;n++){if(e<t+this.strings[n].length+1)return this.strings[n].slice(e-t);t+=this.strings[n].length+1}throw new v("invalid offset")}},t.CompileCodepages=function(e){for(var t in e.__nsnames__={},e.__tagnames__={},e.__attrdata__={},e){var n=e[t];if(!t.match(/^__/)){if(n.Tags){var r,a;for(r in n.Tags){a=n.Tags[r],e.__nsnames__[a>>8]=t;break}for(r in n.Tags)a=n.Tags[r],e.__tagnames__[a]=r}if(n.Attrs)for(var o in n.Attrs){var i=n.Attrs[o];"name"in i||(i.name=o),e.__attrdata__[i.value]=i,n.Attrs[o]=i.value}}}};var g={3:"US-ASCII",4:"ISO-8859-1",5:"ISO-8859-2",6:"ISO-8859-3",7:"ISO-8859-4",8:"ISO-8859-5",9:"ISO-8859-6",10:"ISO-8859-7",11:"ISO-8859-8",12:"ISO-8859-9",13:"ISO-8859-10",106:"UTF-8"},y={};for(var w in g){y[g[w]]=w}function b(e,t,n){if(this.ownerDocument=e,this.type=t,this._attrs={},"string"==typeof n){var r=n.split(":");1===r.length?this.localTagName=r[0]:(this.namespaceName=r[0],this.localTagName=r[1])}else this.tag=n,Object.defineProperties(this,{namespace:{get:function(){return this.tag>>8}},localTag:{get:function(){return 255&this.tag}},namespaceName:{get:function(){return this.ownerDocument._codepages.__nsnames__[this.namespace]}},localTagName:{get:function(){return this.ownerDocument._codepages.__tagnames__[this.tag]}}})}function E(e){this.ownerDocument=e}function D(e,t){this.ownerDocument=e,this.textContent=t}function S(e,t,n,r){this.ownerDocument=e,this.subtype=t,this.index=n,this.value=r}function A(e){this.ownerDocument=e}function T(e,t){this.ownerDocument=e,this.data=t}function _(e,t){this._data=e instanceof I?e.bytes:e,this._codepages=t,this.rewind()}function I(e,t,n,r,a){this._blobs="blob"===a?[]:null,this.dataType=a||"arraybuffer",this._rawbuf=new ArrayBuffer(1024),this._buffer=new Uint8Array(this._rawbuf),this._pos=0,this._codepage=0,this._tagStack=[],this._rootTagValue=null;var o=e.split(".").map(function(e){return parseInt(e)}),i=(o[0]-1<<4)+o[1],s=n;if("string"==typeof n&&void 0===(s=y[n]))throw new Error("unknown charset "+n);var c=this._encoder=new TextEncoder(n);if(this._write(i),this._write(t),this._write(s),r){var l=r.map(function(e){return c.encode(e)}),u=l.reduce(function(e,t){return e+t.length+1},0);this._write_mb_uint32(u);for(var d=0;d<l.length;d++){var h=l[d];this._write_bytes(h),this._write(0)}}else this._write(0)}function O(){this.listeners=[],this.onerror=function(e){throw e}}return t.Element=b,b.prototype={get tagName(){var e=this.namespaceName;return(e=e?e+":":"")+this.localTagName},getAttributes:function(){var e=[];for(var t in this._attrs){var n=this._attrs[t],r=t.split(":");e.push({name:t,namespace:r[0],localName:r[1],value:this._getAttribute(n)})}return e},getAttribute:function(e){return"number"==typeof e?e=this.ownerDocument._codepages.__attrdata__[e].name:e in this._attrs||null===this.namespace||-1!==e.indexOf(":")||(e=this.namespaceName+":"+e),this._getAttribute(this._attrs[e])},_getAttribute:function(e){for(var t="",n=[],r=0;r<e.length;r++){var a=e[r];a instanceof S?(t&&(n.push(t),t=""),n.push(a)):t+="number"==typeof a?this.ownerDocument._codepages.__attrdata__[a].data||"":a}return t&&n.push(t),1===n.length?n[0]:n},_addAttribute:function(e){if("string"==typeof e){if(e in this._attrs)throw new v("attribute "+e+" is repeated");return this._attrs[e]=[]}var t=e>>8,n=255&e,r=this.ownerDocument._codepages.__attrdata__[n].name,a=this.ownerDocument._codepages.__nsnames__[t]+":"+r;if(a in this._attrs)throw new v("attribute "+a+" is repeated");return this._attrs[a]=[e]}},t.EndTag=E,E.prototype={get type(){return"ETAG"}},t.Text=D,D.prototype={get type(){return"TEXT"}},t.Extension=S,S.prototype={get type(){return"EXT"}},t.ProcessingInstruction=A,A.prototype={get type(){return"PI"},get target(){return"string"==typeof this.targetID?this.targetID:this.ownerDocument._codepages.__attrdata__[this.targetID].name},_setTarget:function(e){return this.targetID=e,this._data="string"==typeof e?[]:[e]},_getAttribute:b.prototype._getAttribute,get data(){return this._getAttribute(this._data)}},t.Opaque=T,T.prototype={get type(){return"OPAQUE"}},t.Reader=_,_.prototype={_get_uint8:function(){if(this._index===this._data.length)throw p;return this._data[this._index++]},_get_mb_uint32:function(){var e,t=0;do{t=128*t+(127&(e=this._get_uint8()))}while(128&e);return t},_get_slice:function(e){var t=this._index;return this._index+=e,this._data.subarray(t,this._index)},_get_c_string:function(){for(var e=this._index;this._get_uint8(););return this._data.subarray(e,this._index-1)},rewind:function(){this._index=0;var e=this._get_uint8();this.version=(1+(240&e)).toString()+"."+(15&e).toString(),this.pid=this._get_mb_uint32(),this.charset=g[this._get_mb_uint32()]||"unknown",this._decoder=new TextDecoder(this.charset);var t=this._get_mb_uint32();this.strings=new m(this._get_slice(t),this._decoder),this.document=this._getDocument()},_getDocument:function(){var e,t,n=0,h=1,m=2,g=n,y=0,w=0,_=!1,I=[],O=function(r){g===n?e?e.textContent+=r:e=new D(this,r):t.push(r)}.bind(this);try{for(;;){var k=this._get_uint8();if(k===r){if(!((y=this._get_uint8())in this._codepages.__nsnames__))throw new v("unknown codepage "+y)}else if(k===a)if(g===n&&w-- >0)e&&(I.push(e),e=null),I.push(new E(this));else{if(g!==h&&g!==m)throw new v("unexpected END token");g=n,I.push(e),e=null,t=null}else if(k===o){if(g===n&&0===w)throw new v("unexpected ENTITY token");var C;O("&#"+this._get_mb_uint32()+";")}else if(k===i){if(g===n&&0===w)throw new v("unexpected STR_I token");O(this._decoder.decode(this._get_c_string()))}else if(k===l){if(g!==n)throw new v("unexpected PI token");g=m,e&&I.push(e),e=new A(this)}else if(k===d){if(g===n&&0===w)throw new v("unexpected STR_T token");var M=this._get_mb_uint32();O(this.strings.get(M))}else if(k===f){if(g!==n)throw new v("unexpected OPAQUE token");var x=this._get_mb_uint32(),R=this._get_slice(x);e&&(I.push(e),e=null),I.push(new T(this,R))}else if((64&k||128&k)&&(63&k)<3){var N,L,F=192&k,P=63&k;F===c?(N="string",L=this._decoder.decode(this._get_c_string())):F===u?(N="integer",L=this._get_mb_uint32()):(N="byte",L=null);var U=new S(this,N,P,L);g===n?(e&&(I.push(e),e=null),I.push(U)):t.push(U)}else if(g===n){if(0===w){if(_)throw new v("multiple root nodes found");_=!0}var j=(y<<8)+(63&k);if((63&k)===s){M=this._get_mb_uint32();j=this.strings.get(M)}e&&I.push(e),e=new b(this,64&k?"STAG":"TAG",j),64&k&&w++,128&k?g=h:(g=n,I.push(e),e=null)}else{var W=(y<<8)+k;if(128&k)t.push(W);else{if(k===s){M=this._get_mb_uint32();W=this.strings.get(M)}if(g===m){if(t)throw new v("unexpected attribute in PI");t=e._setTarget(W)}else t=e._addAttribute(W)}}}}catch(C){if(C!==p)throw C}return I},dump:function(e,t){var n="";void 0===e&&(e=2);var r=function(t){return new Array(t*e+1).join(" ")},a=[];t&&(n+="Version: "+this.version+"\n",n+="Public ID: "+this.pid+"\n",n+="Charset: "+this.charset+"\n",n+='String table:\n  "'+this.strings.strings.join('"\n  "')+'"\n\n');for(var o=this.document,i=o.length,s=0;s<i;s++){var c=o[s];if("TAG"===c.type||"STAG"===c.type){n+=r(a.length)+"<"+c.tagName;for(var l=c.getAttributes(),u=0;u<l.length;u++){var d=l[u];n+=" "+d.name+'="'+d.value+'"'}"STAG"===c.type?(a.push(c.tagName),n+=">\n"):n+="/>\n"}else if("ETAG"===c.type){var h=a.pop();n+=r(a.length)+"</"+h+">\n"}else if("TEXT"===c.type)n+=r(a.length)+c.textContent+"\n";else if("PI"===c.type)n+=r(a.length)+"<?"+c.target,c.data&&(n+=" "+c.data),n+="?>\n";else{if("OPAQUE"!==c.type)throw new Error('Unknown node type "'+c.type+'"');n+=r(a.length)+"<![CDATA["+c.data+"]]>\n"}}return n}},t.Writer=I,I.Attribute=function(e,t){if(this.isValue="number"==typeof e&&128&e,this.isValue&&void 0!==t)throw new Error("Can't specify a value for attribute value constants");this.name=e,this.value=t},I.StringTableRef=function(e){this.index=e},I.Entity=function(e){this.code=e},I.Extension=function(e,t,n){var r={string:{value:c,validator:function(e){return"string"==typeof e}},integer:{value:u,validator:function(e){return"number"==typeof e}},byte:{value:h,validator:function(e){return null==e}}}[e];if(!r)throw new Error("Invalid WBXML Extension type");if(!r.validator(n))throw new Error("Data for WBXML Extension does not match type");if(0!==t&&1!==t&&2!==t)throw new Error("Invalid WBXML Extension index");this.subtype=r.value,this.index=t,this.data=n},I.a=function(e,t){return new I.Attribute(e,t)},I.str_t=function(e){return new I.StringTableRef(e)},I.ent=function(e){return new I.Entity(e)},I.ext=function(e,t,n){return new I.Extension(e,t,n)},I.prototype={_write:function(e){if(this._pos===this._buffer.length-1){this._rawbuf=new ArrayBuffer(2*this._rawbuf.byteLength);for(var t=new Uint8Array(this._rawbuf),n=0;n<this._buffer.length;n++)t[n]=this._buffer[n];this._buffer=t}this._buffer[this._pos++]=e},_write_mb_uint32:function(e){var t=[];for(t.push(e%128);e>=128;)e>>=7,t.push(128+e%128);for(var n=t.length-1;n>=0;n--)this._write(t[n])},_write_bytes:function(e){for(var t=0;t<e.length;t++)this._write(e[t])},_write_str:function(e){this._write_bytes(this._encoder.encode(e))},_setCodepage:function(e){this._codepage!==e&&(this._write(r),this._write(e),this._codepage=e)},_writeTag:function(e,t,n){if(void 0===e)throw new Error("unknown tag");var r=0;if(t&&(r+=64),n.length&&(r+=128),e instanceof I.StringTableRef?(this._write(s+r),this._write_mb_uint32(e.index)):(this._setCodepage(e>>8),this._write((255&e)+r),this._rootTagValue||(this._rootTagValue=e)),n.length){for(var o=0;o<n.length;o++){var i=n[o];this._writeAttr(i)}this._write(a)}},_writeAttr:function(e){if(!(e instanceof I.Attribute))throw new Error("Expected an Attribute object");if(e.isValue)throw new Error("Can't use attribute value constants here");e.name instanceof I.StringTableRef?(this._write(s),this._write(e.name.index)):(this._setCodepage(e.name>>8),this._write(255&e.name)),this._writeText(e.value,!0)},_writeText:function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];this._writeText(r,t)}else if(e instanceof I.StringTableRef)this._write(d),this._write_mb_uint32(e.index);else if(e instanceof I.Entity)this._write(o),this._write_mb_uint32(e.code);else if(e instanceof I.Extension)this._write(e.subtype+e.index),e.subtype===c?(this._write_str(e.data),this._write(0)):e.subtype===u&&this._write_mb_uint32(e.data);else if(e instanceof I.Attribute){if(!e.isValue)throw new Error("Unexpected Attribute object");if(!t)throw new Error("Can't use attribute value constants outside of attributes");this._setCodepage(e.name>>8),this._write(255&e.name)}else null!=e&&(this._write(i),this._write_str(e.toString()),this._write(0))},tag:function(e){var t=arguments.length>1?arguments[arguments.length-1]:null;if(null===t||t instanceof I.Attribute){var n=Array.prototype.slice.call(arguments,1);return this._writeTag(e,!1,n),this}var r=Array.prototype.slice.call(arguments,0,-1);return this.stag.apply(this,r).text(t).etag()},stag:function(e){var t=Array.prototype.slice.call(arguments,1);return this._writeTag(e,!0,t),this._tagStack.push(e),this},etag:function(e){if(0===this._tagStack.length)throw new Error("Spurious etag() call!");var t=this._tagStack.pop();if(void 0!==e&&e!==t)throw new Error("Closed the wrong tag");return this._write(a),this},text:function(e){return this._writeText(e),this},pi:function(e,t){return this._write(l),this._writeAttr(I.a(e,t)),this._write(a),this},ext:function(e,t,n){return this.text(I.ext(e,t,n))},opaque:function(e){if(this._write(f),e instanceof Blob){if(!this._blobs)throw new Error("Writer not opened in blob mode");this._write_mb_uint32(e.size),this._blobs.push(this.bytes),this._blobs.push(e),this._rawbuf=new ArrayBuffer(1024),this._buffer=new Uint8Array(this._rawbuf),this._pos=0}else if("string"==typeof e)this._write_mb_uint32(e.length),this._write_str(e);else{this._write_mb_uint32(e.length);for(var t=0;t<e.length;t++)this._write(e[t])}return this},get buffer(){return this._rawbuf.slice(0,this._pos)},get bytes(){return new Uint8Array(this._rawbuf,0,this._pos)},get blob(){if(!this._blobs)throw new Error("No blobs!");var e=this._blobs;return this._pos&&(e=e.concat([this.bytes])),new Blob(e)},get rootTag(){return this._rootTagValue}},t.EventParser=O,O.prototype={addEventListener:function(e,t){this.listeners.push({path:e,callback:t})},_pathMatches:function(e,t){return e.length===t.length&&e.every(function(e,n){return"*"===t[n]||(Array.isArray(t[n])?-1!==t[n].indexOf(e):e===t[n])})},run:function(e){for(var t,n,r=[],a=[],o=0,i=e.document,s=i.length,c=this.listeners,l=0;l<s;l++){var u=i[l];if("TAG"===u.type){for(r.push(u.tag),t=0;t<c.length;t++)if(n=c[t],this._pathMatches(r,n.path)){u.children=[];try{n.callback(u)}catch(e){this.onerror&&this.onerror(e)}}r.pop()}else if("STAG"===u.type)for(r.push(u.tag),t=0;t<c.length;t++)n=c[t],this._pathMatches(r,n.path)&&o++;else if("ETAG"===u.type){for(t=0;t<c.length;t++)if(n=c[t],this._pathMatches(r,n.path)){o--;try{n.callback(a[a.length-1])}catch(e){this.onerror&&this.onerror(e)}}r.pop()}o&&("STAG"===u.type?(u.type="TAG",u.children=[],a.length&&a[a.length-1].children.push(u),a.push(u)):"ETAG"===u.type?a.pop():(u.children=[],a[a.length-1].children.push(u)))}},runGetNum:function(e){for(var t,n,r=[],a=0,o=0,i=e.document,s=i.length,c=this.listeners,l=0;l<s;l++){var u=i[l];if("TAG"===u.type){for(r.push(u.tag),t=0;t<c.length;t++)if(n=c[t],this._pathMatches(r,n.path)){u.children=[];try{n.callback(o)}catch(e){this.onerror&&this.onerror(e)}}r.pop()}else if("STAG"===u.type)for(r.push(u.tag),t=0;t<c.length;t++)n=c[t],this._pathMatches(r,n.path)&&a++;else if("ETAG"===u.type){for(t=0;t<c.length;t++)if(n=c[t],this._pathMatches(r,n.path)){a--;try{n.callback(o)}catch(e){this.onerror&&this.onerror(e)}}r.pop()}a&&"STAG"===u.type&&7===u.tag&&o++}}},t}.call(t,n,t,e))||(e.exports=r)},245:function(e,t,n){n(246),e.exports=n(592)},26:function(e,t,n){"use strict";var r=n(92),a=n.n(r),o=n(18),i=n.n(o),s=n(80),c=n.n(s),l=n(63),u=n.n(l),d=n(78),h=n.n(d),f=n(77),p=n.n(f),v=n(45),m=n.n(v),g=n(239),y=n.n(g),w=n(44),b=n.n(w),E=n(3),D=n.n(E),S=n(115),A=n.n(S),T=n(240),_=n.n(T),I=n(49),O=n(94),k=n(95),C=n(51),M=new(function(){function e(){}var t=e.prototype;return t.sendNotification=function(e){navigator.serviceWorker.controller.postMessage({type:"notification",data:e})},t.getApp=function(){var e=window.cachedApp;return e||(e=new Promise(function(e,t){var n=navigator.mozApps.getSelf();n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){t(e)}})),e},t.launch=function(e,t){if(this.closeNotifications(t),performance.isComplete("moz-app-loaded"))return this.foreground(e);window.addEventListener("moz-app-loaded",function t(){return window.removeEventListener("moz-app-loaded",t),this.foreground(e)})},t.foreground=function(e){return this.getApp().then(function(t){return C.a.push("/eventDetails",{item:e}),t&&t.launch()})},t.closeNotifications=function(e){var t="/alarm-display/"+e.busytimeId;"never"!==e.repeat?(t="/alarm-display/"+e.eventId,Notification.get().then(function(e){e.filter(function(e){return e.tag.includes(t)}).forEach(function(e){return e.close()})})):Notification.get({tag:t}).then(function(e){e.forEach(function(e){return e.close()})})},t.closeNotificationList=function(e){Notification.get().then(function(t){e.forEach(function(e){var n="/alarm-display/"+e.uuid;t.filter(function(e){return e.tag.includes(n)}).forEach(function(e){return e.close()})})})},e}()),x=n(163),R=n(33),N=n.n(R),L=n(93),F=n.n(L),P=n(2);function U(e,t,n,r){var a=new F.a.Connection(t.configInfo.deviceId,0,"",{workerHelper:Te,format:D.a,formatHourMinute:P.o,uuid:P.X,getLocalStorageItem:P.y,isEqual:N.a});a.open(t.configInfo.server,t.username,t.password,t.username),a.timeout=3e4,a.connect(function(e){"calendar-sync-up-to-date"===r&&Object(P.T)(),e&&401===e.status||a.getSyncData(n,function(){a.disconnect(),Te.successFetchRemoteEvents(r||"calendar-sync-up-to-date")})})}function j(e,t){var n=e.account,r=e.credential,a=e.item,o=e.toastId,i=new F.a.Connection(r.configInfo.deviceId,0,"",{workerHelper:Te,format:D.a,formatHourMinute:P.o,uuid:P.X,getLocalStorageItem:P.y,isEqual:N.a});i.open(r.configInfo.server,r.username,r.password,r.username),i.timeout=3e4,i.connect(function(){i.addEvent(n,a,function(n){i.disconnect(),"1"===n?function(e,t,n){var r=e.credential,a=e.cached,o=new F.a.Connection(r.configInfo.deviceId,0,"",{workerHelper:Te,format:D.a,formatHourMinute:P.o,uuid:P.X,getLocalStorageItem:P.y,isEqual:N.a}),i=a||[];o.open(r.configInfo.server,r.username,r.password,r.username),o.timeout=3e4,o.connect(function(){o.getSyncData(i,function(){o.disconnect(),t&&t(),Te.successFetchRemoteEvents(n)})})}(e,t,o||"event-added"):n&&"1"!==n&&"never"!==a.repeat&&Te.showToaster("create-activesync-repeat-event-error")})})}function W(e,t,n,r){var a=new F.a.Connection(t.configInfo.deviceId,0,"",{workerHelper:Te,format:D.a,formatHourMinute:P.o,uuid:P.X,getLocalStorageItem:P.y,isEqual:N.a});a.open(t.configInfo.server,t.username,t.password,t.username),a.timeout=3e4,a.connect(function(){a.deleteEvent(e,n,function(){a.disconnect(),r&&r()})})}var B=n(19),H=n(4),Y=n.n(H);function q(e,t){var n=i()(e.start.dateTime)?Object(P.p)(e.start.date,!1):D()(new Date(e.start.dateTime),"MM/DD/YYYY"),r=i()(e.start.dateTime)?Object(P.n)(new Date(e.start.date)):Object(P.n)(new Date(e.start.dateTime)),a=i()(e.end.dateTime)?Object(P.p)(e.end.date,!1):D()(new Date(e.end.dateTime),"MM/DD/YYYY"),o=i()(e.end.dateTime)?Object(P.n)(new Date(e.end.date)):Object(P.n)(new Date(e.end.dateTime)),s=e.recurrence?function(e){var t=function(e){var t=e,n=t.indexOf("FREQ");if(-1===n)return null;t=t.substring(n),n=-1===(n=t.indexOf(";"))?t.length:n;var r=t.substring(5,n);if(-1===(n=t.indexOf("INTERVAL")))return{freq:r};t=t.substring(n),n=-1===(n=t.indexOf(";"))?t.length:n;var a=t.substring(9,n);return{freq:r,interval:a}}(e),n="never";t?"DAILY"===t.freq?n="every day":"WEEKLY"===t.freq&&"2"===t.interval?n="every 2 weeks":"WEEKLY"===t.freq?n="every week":"MONTHLY"===t.freq&&(n="every month"):n="never";return n}(e.recurrence[0]):"never",c=function(e){var t=e.reminders,n=i()(e.end.dateTime),r="none",a=JSON.parse(Object(P.y)("cal-settings")),o=a?a.standardAlarm:"-300",s=a?a.alldayAlarm:"32400";if(t&&(t.useDefault||t.overrides)){if(t.useDefault)r="-1800";else if(t.overrides&&void 0!==t.overrides[0].minutes){var c=60*t.overrides[0].minutes*-1;c=c.toString(),r=n?["32400","-54000","-140400","-572400","-1177200"].includes(c)?c:s:["0","-300","-900","-1800","-3600","-7200","-86400"].includes(c)?c:o}}else r="none";return r}(e),l=e.recurrence?function(e){var t=e,n=t.indexOf("UNTIL");if(-1===n)return null;return(t=t.substring(n)).substring(6,t.length)}(e.recurrence[0]):null,u=null;l&&(u=Y()(l,"YYYYMMDD",new Date));var d=i()(e.end.dateTime);if(d){var h=new Date(e.start.date),f=new Date(e.end.date).valueOf()-new Date(e.start.date).valueOf()-1e3;f=Math.max(0,f),a=new Date(h.valueOf()+f+60*h.getTimezoneOffset()*1e3),a=D()(a,"MM/DD/YYYY"),r="00:00",o="23:59"}return{title:i()(e.summary)?"":e.summary,location:i()(e.location)?"":e.location,description:i()(e.description)?"":e.description,allDayEvent:d,uuid:e.id,reminder:c,startDate:n,endDate:a,startTime:r,endTime:o,eventSDate:new Date(n+" "+r),eventEDate:new Date(a+" "+o),account:t,type:"remote",repeat:s,repeatSDate:new Date(n+" "+r),repeatEDate:u,authenticatorId:"google"}}function V(e){var t=Object(P.D)(),n=e.allDayEvent?{date:Object(P.W)(e.startDate),timeZone:t}:{dateTime:e.eventSDate,timeZone:t},r=e.allDayEvent?{date:Object(P.W)(e.endDate),timeZone:t}:{dateTime:e.eventEDate,timeZone:t},a=e.account,o=function(e){var t={};if(e&&"none"!==e&&"32400"!==e){var n=-1*parseInt(e,10)/60,r={method:"popup",minutes:n};t.useDefault=!1,t.overrides=[r]}else t.useDefault=!1;return t}(e.reminder),i={summary:e.title,location:e.location,description:e.description,start:n,end:r,reminders:o};return"never"!==e.repeat&&(i.recurrence=[K(e)]),{calendarId:a,content:i}}function K(e){var t="";switch(e.repeat){case"every day":t="RRULE:FREQ=DAILY";break;case"every week":t="RRULE:FREQ=WEEKLY";break;case"every 2 weeks":t="RRULE:FREQ=WEEKLY;INTERVAL=2";break;case"every month":t="RRULE:FREQ=MONTHLY"}var n=e.repeatEDate?new Date(e.repeatEDate.valueOf()):e.repeatEDate;return t&&e.repeatEDate&&(t=t+";UNTIL="+D()(n,"YYYYMMDD")),t}var G=n(48);function z(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function X(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){z(o,r,a,i,s,"next",e)}function s(e){z(o,r,a,i,s,"throw",e)}i(void 0)})}}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Q=Symbol("getAllStoreLocalEvents"),Z=Symbol("getAllSearchEvents"),$=Symbol("addLocalEvent"),ee=Symbol("importFiles"),te=Symbol("startRemoteWorker"),ne=Symbol("startSyncFrequencyWorker"),re=Symbol("getAllRemoteCalendarList"),ae=Symbol("getAllRemoteEvents"),oe=Symbol("deleteLocalEvent"),ie=Symbol("updateLocalEvent"),se=Symbol("updateAllLocalEvent"),ce=Symbol("updateFutureLocalEvent"),le=Symbol("addNewAlarm"),ue=Symbol("addAlarmItem"),de=Symbol("getAlarmItem"),he=Symbol("findAndDeleteAlarm"),fe=Symbol("successFetchRemoteEvents"),pe=Symbol("failedFetchRemoteEvents"),ve=Symbol("deleteRemoteEvent"),me=Symbol("addRemoteEvent"),ge=Symbol("updateRemoteEvent"),ye=Symbol("getAllActivesyncEvents"),we=Symbol("getAllGoogleEvents"),be=Symbol("getAllCaldavEvents"),Ee=Symbol("deleteAllEvent"),De=Symbol("newAllEvent"),Se=Symbol("updateSyncFrequency"),Ae=new(function(e){var t,n;function r(){var t,n,r,a;return t=e.call(this)||this,n=J(t),a=void 0,(r="openDbSuccFlag")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.openDbSuccFlag=!1,t._allLocalEvents=[],t._logger=new k.a("WorkerHelper","trace"),t._accountManager=x.a,t.arrangeEvents=Object(P.c)(new Date,[]),t.allSearchEvents=[],t.arrangeSearchEvents=Object(P.c)(new Date,[]),t[te](),t[ne](),t.handleSyncCalendar=t.handleSyncCalendar.bind(J(t)),O.a.on("synccalendar",t.handleSyncCalendar),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.handleSyncCalendar=function(e){var t=!!e&&!!e.manualSyncMode;this.syncCalendar(!0,t)},o.syncCalendar=function(e,t){if(!(window.displayAccount.length<2||"{}"===JSON.stringify(window.calendarSync))){var n=this.isAllSyncSwitchOn();if(Object(P.H)()){var r=window.selectedDate;"off"===n?this.showToaster("sync-switch-close"):"on"===n&&(Object(P.Q)(),this.pullRemoteEvents(r,e,!0))}else!document.hidden&&n&&(t?this.showToaster("error-account-offline"):this.showToaster("error-auto-sync-account-offline"))}},o.initDisplayAccount=function(){var e=JSON.parse(localStorage.getItem("display-accounts")),t=[{value:"calendar-local",checked:!0}];i()(e)||(t=e),window.displayAccount=t,this._accountManager.managerGetAccounts().then(function(e){for(var n=function(n){var r=e[n];-1===h()(t,function(e){return r.accountId===e.value})&&t.push({value:r.accountId,checked:!0,authenticatorId:r.authenticatorId})},r=0;r<e.length;r++)n(r);for(var a=function(n){if("calendar-local"===t[n].value||"caldav"===t[n].authenticatorId)return"continue";-1===h()(e,function(e){return e.accountId===t[n].value})&&t.splice(n,1)},o=t.length-1;o>=0;o--)a(o);Object(P.M)(t)})},o[ne]=function(){this._syncFrequencyWorker=new Worker("dist/worker/syncFrequencyWorker.js");var e=localStorage.getItem("cal-settings");if(i()(e))this._syncFrequencyWorker.postMessage({action:"start-syncFrequency-daemon",frequency:15});else{var t=JSON.parse(e).syncFrequency;"null"===t?this._syncFrequencyWorker.postMessage({action:"stop-syncFrequency-daemon"}):this._syncFrequencyWorker.postMessage({action:"start-syncFrequency-daemon",frequency:parseInt(t,10)})}var n=this;this._syncFrequencyWorker.addEventListener("message",function(e){"timer-start-syncFrequency-daemon"===e.data.msgType&&(n._logger.info("frequency task from child thread.start sync from remote!"),n.syncCalendar(!0))},!0)},o.saveAddAccountInfo=function(e){-1===window.displayAccount.findIndex(function(t){return t.value===e.accountId})&&(window.displayAccount.push({value:e.accountId,checked:!0,authenticatorId:e.authenticatorId}),Object(P.M)(window.displayAccount))},o[te]=function(){var e=this;this._remoteWorker=new Worker("dist/worker/remoteWorker.js"),this.initDisplayAccount(),this._accountManager.on("account-add-success",function(t){e.saveAddAccountInfo(t),e.emit("account-add-success")}),this._accountManager.on("account-add-failed",function(t){e.emit("account-add-fail",t)}),this._accountManager.on("account-logout-success",function(t){p()(window.displayAccount,function(e){return e.value===t.accountId}),Object(P.M)(window.displayAccount),e.emit("account-logout-success")}),this._accountManager.on("account-logout-failed",function(t){e.emit("account-logout-failed",t)})},o[Se]=function(e){"null"===e?this._syncFrequencyWorker.postMessage({action:"stop-syncFrequency-daemon"}):this._syncFrequencyWorker.postMessage({action:"start-syncFrequency-daemon",frequency:parseInt(e,10)})},o[le]=function(e){var t=Object(P.r)(e.reminder,e.busytimeSDate),n=new Date,r=b()(n,2);"none"!==t&&y()(t,n,r)&&navigator.mozAlarms.add(t,"ignoreTimezone",{e:e,type:"calNotification"})},o[Q]=function(e,t,n){this._localWorker.postMessage({timeChange:n,selectedMonth:e,action:"fetch-events"});var r=function(a){"fetch-events-success"===a.data.msgType&&(self._allLocalEvents=a.data.busytimes,this.arrangeEvents=Object(P.c)(e,a.data.busytimes),this._logger.info("fetch-events-success"),this.emit("fetch-events-success"),(t||n)&&this.registerAlarm(),this._localWorker.removeEventListener("message",r,!0))}.bind(this);this._localWorker.addEventListener("message",r,!0)},o[Z]=function(e){var t=this;this._localWorker.postMessage({selectedMonth:e,action:"fetch-search-events"});this._localWorker.addEventListener("message",function n(r){"fetch-search-events-success"===r.data.msgType&&(t.allSearchEvents=r.data.busytimes,t.arrangeSearchEvents=Object(P.c)(e,r.data.busytimes),t._logger.info("fetch-search-events-success"),t.emit("fetch-search-events-success"),t._localWorker.removeEventListener("message",n,!0))},!0)},o[$]=function(e,t){this._localWorker.postMessage({item:e,action:"new-event"});var n=function(e){var r=e.data;this._logger.info("new-event-success"),"new-event-success"===r.msgType?(this.pullAllLocalEvents(window.selectedDate,!0),window.performance.getEntriesByName("calendar-save-new-event-start","mark").length>0&&(window.performance.mark("calendar-save-new-event-end"),window.performance.measure("performance-calendar-save-new-event","calendar-save-new-event-start","calendar-save-new-event-end"),window.performance.clearMeasures("performance-calendar-save-new-event"),window.performance.clearMarks("calendar-save-new-event-start"),window.performance.clearMarks("calendar-save-new-event-end")),t&&this.showToaster("event-added"),this.emit("new-event-success"),this._localWorker.removeEventListener("message",n,!0)):"new-event-failed"===r.msgType&&(this.emit("new-event-failed"),this._localWorker.removeEventListener("message",n,!0))}.bind(this);this._localWorker.addEventListener("message",n,!0)},o[ee]=function(){var e=document.location.protocol+"//"+document.location.host;window.api.l10n&&(e=document.location.protocol+"//"+document.location.host+"/dist"),this._localWorker.postMessage({url:e,action:"import-file"})},o[oe]=function(e,t){this._localWorker.postMessage({busytimeItem:e,action:"delete-event"});var n=function(){var r=X(regeneratorRuntime.mark(function r(a){var o,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:"delete-event-success"===(o=a.data).msgType?(this.showToaster("event-deleted"),t?(i=this.getEventByBusytime(e,t),this[$](i)):(this.pullAllLocalEvents(e.busytimeSDate),this.closeNotification(e),this.emit("delete-event-success"))):"delete-event-failed"===o.msgType&&this.emit("delete-event-failed"),this._localWorker.removeEventListener("message",n,!0);case 3:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}().bind(this);this._localWorker.addEventListener("message",n,!0)},o[ie]=function(e){this._localWorker.postMessage({item:e,action:"update-event"});var t=function(){var n=X(regeneratorRuntime.mark(function n(r){var a,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a=r.data,this._logger.info("update-event-success"),"update-event-success"===a.msgType?(this.pullAllLocalEvents(window.selectedDate,!0),o="never"!==e.repeat?"events-updated":"event-updated",this.showToaster(o),this.emit("update-event-success")):"update-event-failed"===a.msgType&&this.emit("update-event-failed"),this._localWorker.removeEventListener("message",t,!0);case 4:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}().bind(this);this._localWorker.addEventListener("message",t,!0)},o[ce]=function(e){this._localWorker.postMessage({item:e,action:"update-event-all-future"});var t=function(){var n=X(regeneratorRuntime.mark(function n(r){var a,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a=r.data,this._logger.info("update-event-all-future-success"),"update-event-all-future-success"===a.msgType?(this.pullAllLocalEvents(e.startDate,!0),o="never"!==e.repeat?"events-updated":"event-updated",this.showToaster(o),this.emit("update-event-all-future-success")):"update-event-all-future-failed"===a.msgType&&this.emit("update-event-all-future-failed"),this._localWorker.removeEventListener("message",t,!0);case 4:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}().bind(this);this._localWorker.addEventListener("message",t,!0)},o[se]=function(e){this._localWorker.postMessage({item:e,action:"update-event-all"});var t=function(){var n=X(regeneratorRuntime.mark(function n(r){var a,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a=r.data,this._logger.info("update-event-all-success"),"update-event-all-success"===a.msgType?(this.pullAllLocalEvents(e.startDate,!0),o="never"!==e.repeat?"events-updated":"event-updated",this.showToaster(o),this.emit("update-event-all-success")):"update-event-all-failed"===a.msgType&&this.emit("update-event-all-failed"),this._localWorker.removeEventListener("message",t,!0);case 4:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}().bind(this);this._localWorker.addEventListener("message",t,!0)},o[ue]=function(e){this._localWorker.postMessage({item:e,action:"add-alarm-item"});var t=function(){var e=X(regeneratorRuntime.mark(function e(n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.data,this._logger.info("add-alarm-item-success"),"add-alarm-item-success"===r.msgType?this.emit("add-alarm-item-success"):"add-alarm-item-failed"===r.msgType&&this.emit("add-alarm-item-failed"),this._localWorker.removeEventListener("message",t,!0);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}().bind(this);this._localWorker.addEventListener("message",t,!0)},o[de]=function(){this._localWorker.postMessage({action:"get-alarm-item"});var e=function(){var t=X(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n.data,this._logger.info("get-alarm-item-success"),"get-alarm-item-success"===r.msgType?(this.handleGetAlarms(r.data),this.emit("get-alarm-item-success"),this.emit("process-next-alarm-item"),this._localWorker.removeEventListener("message",e,!0)):"get-alarm-item-failed"===r.msgType&&(this.emit("get-alarm-item-failed"),this.emit("process-next-alarm-item"),this._localWorker.removeEventListener("message",e,!0));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}().bind(this);this._localWorker.addEventListener("message",e,!0)},o[he]=function(e){window.DUMP("enter _findAndDeleteAlarm item: "+JSON.stringify(e)),this._localWorker.postMessage({item:e,action:"find-delete-alarm"});var t=function(){var n=X(regeneratorRuntime.mark(function n(r){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a=r.data,this._logger.info("find-delete-alarm-success"),window.DUMP("_findAndDeleteAlarm msgType: "+a.msgType),"find-delete-alarm-success"===a.msgType?(this.sendNotification(e),this[de](),this.emit("find-delete-alarm-success"),this._localWorker.removeEventListener("message",t,!0)):"find-delete-alarm-failed"===a.msgType&&(this.emit("find-delete-alarm-failed"),this.emit("process-next-alarm-item"),this._localWorker.removeEventListener("message",t,!0));case 4:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}().bind(this);this._localWorker.addEventListener("message",t,!0)},o[ve]=function(e,t,n){var r=this,o=this,s=e.account,c=a()(this.mAccounts,function(e){return e.accountId===s});if(!i()(c)&&window.calendarSync[c.authenticatorId+":"+c.accountId]){var l="google"===c.authenticatorId;this.getCredentials(c,l).then(function(a){if("google"===c.authenticatorId&&t&&"futureEvent"===t)r.deleteFutureForGoogle(e);else if("google"===c.authenticatorId){var i=G.a.GOOGLEAPIADD,l=i.PROTOCOL,u=i.EVENTSLIST,d=i.EVENTSLISTSUFFIX,h=""+l+u+s+"/"+d+"/"+e.eventId;o._remoteWorker.postMessage({credential:a,fetchURL:h,action:"delete-remote-calendar-event",callBackActionSuccess:"delete-remote-calendar-event-success",callBackActionFailed:"delete-remote-calendar-event-failed"}),o._remoteWorker.addEventListener("message",function t(n){"delete-remote-calendar-event-success"===n.data.msgType?o[oe](e,null):"delete-remote-calendar-event-failed"===n.data.msgType&&o._logger.error("delete remote event failed!"),o._remoteWorker.removeEventListener("message",t,!0)},!0)}else"activesync"===c.authenticatorId&&W(c,a,e,function(){r.closeNotification(e),r[ye]().then(function(o){if("futureEvent"===t){var i=r.getEventByBusytime(e,n);j({account:c,credential:a,item:i,cached:o})}else U(0,a,o,"event-deleted")})})})}},o[me]=function(e,t){var n=this,r=this,o=a()(this.mAccounts,function(t){return t.accountId===e.account});if(!i()(o)&&window.calendarSync[o.authenticatorId+":"+o.accountId]){var s="google"===o.authenticatorId;this.getCredentials(o,s).then(function(a){if("google"===o.authenticatorId){e.authenticatorId="google";var i=V(e),s=G.a.GOOGLEAPIADD,c=s.PROTOCOL,l=s.EVENTSLIST,u=s.EVENTSLISTSUFFIX,d=""+c+l+i.calendarId+"/"+u;r._remoteWorker.postMessage({credential:a,fetchURL:d,newGEvent:i,action:"new-remote-calendar-event",callBackActionSuccess:"new-remote-calendar-event-success",callBackActionFailed:"new-remote-calendar-event-failed"});n._remoteWorker.addEventListener("message",function r(a){"new-remote-calendar-event-success"===a.data.msgType?(e.uuid=a.data.responseJson.id,t?t():(n.showToaster("event-added"),n.syncCalendar(!1))):"new-remote-calendar-event-failed"===a.data.msgType&&n._logger.error("add new remote event failed!"),n._remoteWorker.removeEventListener("message",r,!0)},!0)}else"activesync"===o.authenticatorId&&(e.authenticatorId="activesync",j({account:o,credential:a,item:e}))})}},o[ge]=function(e,t,n){var r=this,o=this,s=a()(this.mAccounts,function(t){return t.accountId===e.account}),c=t;if("futureEvent"===c&&e.busytime.busytimeSDate.valueOf()===e.oldRepeatSDate.valueOf()&&(c="allEvent",e.oldRepeatSDate=null),!i()(s)&&window.calendarSync[s.authenticatorId+":"+s.accountId]){var l="google"===s.authenticatorId;this.getCredentials(s,l).then(function(a){if("google"===s.authenticatorId&&c&&"futureEvent"===c)r.updateFutureForGoogle(e);else if("google"===s.authenticatorId){var i=e;"allEvent"===c&&(i=r.getUpdateAllEventItem(i));var l=V(i),u=G.a.GOOGLEAPIADD,d=u.PROTOCOL,h=u.EVENTSLIST,f=u.EVENTSLISTSUFFIX,p=""+d+h+l.calendarId+"/"+f+"/"+e.uuid;o._remoteWorker.postMessage({credential:a,fetchURL:p,updatedEvent:l,action:"update-remote-calendar-event",callBackActionSuccess:"update-remote-calendar-event-success",callBackActionFailed:"update-remote-calendar-event-failed"}),o._remoteWorker.addEventListener("message",function r(a){"update-remote-calendar-event-success"===a.data.msgType?("allEvent"===c?o[se](e):n&&n.deleteFlag?o.delFutureEventForRemote(n.eventInfo):"future"===t?(o.showToaster("events-updated"),o.syncCalendar(!1)):o[ie](e),o._logger.success("update remote event success!")):"update-remote-calendar-event-failed"===a.data.msgType&&o._logger.error("update remote event failed!"),o._remoteWorker.removeEventListener("message",r,!0)},!0)}else"activesync"===s.authenticatorId&&W(s,a,e,function(){r[ye]().then(function(t){if("futureEvent"===c)r.updateFutureForActivesync({account:s,credential:a,item:e,cached:t});else if("allEvent"===c){var n=r.getEventForUpdateAllEvent(e);j({account:s,credential:a,item:n,cached:t,toastId:"event-updated"})}else j({account:s,credential:a,item:e,cached:t,toastId:"event-updated"})})})})}else if("caldav"===e.authenticatorId){var u=JSON.parse(localStorage.getItem("caldav-accounts"));u||(u=[]);var d=u.findIndex(function(t){return t.user===e.account});-1!==d&&Object(B.b)({event:e.busytime,account:u[d]},function(){r.closeNotification(e),r[be]().then(function(t){if("futureEvent"===c)r.updateFutureForCaldav({cached:t,event:e,account:u[d],toastId:"event-updated"});else if("allEvent"===c){var n=r.getEventForUpdateAllEvent(e);n.uuid=Object(P.X)(),Object(B.a)({event:n,account:u[d]},function(){Object(B.d)({account:u[d],cached:t,toastId:"event-updated"})})}else Object(B.a)({event:e,account:u[d]},function(){Object(B.d)({account:u[d],cached:t,toastId:"event-updated"})})})})}},o.updateFutureForCaldav=function(e){var t=e.cached,n=e.event,r=e.account,a=e.toastId,o=this.getFirstEventForUpdateFuture(n.busytime);o.uuid=Object(P.X)(),Object(B.a)({event:o,account:r},function(){n.uuid=Object(P.X)(),Object(B.a)({event:n,account:r},function(){Object(B.d)({account:r,cached:t,toastId:a})})})},o[ye]=function(){var e=this;return new Promise(function(t){e._localWorker.postMessage({action:"get-all-activesync-event"});var n=function(e){var r=e.data;"get-all-activesync-event-success"===r.msgType?(t(r.list),this.emit("get-all-activesync-event-success")):"get-all-activesync-event-failed"===r.msgType&&(t(null),this.emit("get-all-activesync-event-failed")),this._localWorker.removeEventListener("message",n,!0)}.bind(e);e._localWorker.addEventListener("message",n,!0)})},o[we]=function(){var e=this;return new Promise(function(t){e._localWorker.postMessage({action:"get-all-google-event"});var n=function(e){var r=e.data;"get-all-google-event-success"===r.msgType?(t(r.list),this.emit("get-all-google-event-success"),this._localWorker.removeEventListener("message",n,!0)):"get-all-google-event-failed"===r.msgType&&(t(null),this.emit("get-all-google-event-failed"),this._localWorker.removeEventListener("message",n,!0))}.bind(e);e._localWorker.addEventListener("message",n,!0)})},o[be]=function(){var e=this;return new Promise(function(t){e._localWorker.postMessage({action:"get-all-caldav-event"});var n=function(e){var r=e.data;"get-all-caldav-event-success"===r.msgType?(t(r.list),this.emit("get-all-caldav-event-success"),this._localWorker.removeEventListener("message",n,!0)):"get-all-caldav-event-failed"===r.msgType&&(t(null),this.emit("get-all-caldav-event-failed"),this._localWorker.removeEventListener("message",n,!0))}.bind(e);e._localWorker.addEventListener("message",n,!0)})},o[Ee]=function(e,t){this._localWorker.postMessage({action:"delete-all-event",list:e});var n=function(r){var a=r.data;"delete-all-event-success"===a.msgType?(t&&this.pullAllLocalEvents(window.selectedDate),this.closeEventsNotification(e),this.emit("delete-all-event-success"),this._localWorker.removeEventListener("message",n,!0)):"delete-all-event-failed"===a.msgType&&(this.emit("delete-all-event-failed"),this._localWorker.removeEventListener("message",n,!0))}.bind(this);this._localWorker.addEventListener("message",n,!0)},o[De]=function(e){this._localWorker.postMessage({action:"new-all-event",list:e});var t=function(e){var n=e.data;"new-all-event-success"===n.msgType?(this.pullAllLocalEvents(window.selectedDate,!0),this.emit("new-all-event-success"),this._localWorker.removeEventListener("message",t,!0)):"new-all-event-failed"===n.msgType&&(this.pullAllLocalEvents(window.selectedDate),this.emit("new-all-event-failed"),this._localWorker.removeEventListener("message",t,!0))}.bind(this);this._localWorker.addEventListener("message",t,!0)},o.isAllSyncSwitchOn=function(){var e=window.calendarSync,t="off";if(e)for(var n in e)if(e[n]){t="on";break}var r=window.displayAccount;for(var a in r)if("caldav"===r[a].authenticatorId){t="on";break}return t},o.changeSyncFrequency=function(e){this[Se](e)},o.deleteFutureForGoogle=function(e){var t=this.getFirstEventForUpdateFuture(e),n={deleteFlag:!0,eventInfo:e};this[ge](t,null,n)},o.getUpdateAllEventItem=function(e){var t=new Date(e.startDate+" "+e.startTime),n=new Date(e.endDate+" "+e.endTime),r=n.valueOf()-t.valueOf(),a=e.oldRepeatSDate||e.repeatSDate,o=D()(a,"MM/DD/YYYY");t=new Date(o+" "+e.startTime),n=new Date(t.valueOf()+r);var i=D()(n,"MM/DD/YYYY");return{uuid:e.uuid,title:e.title,location:e.location,allDayEvent:e.allDayEvent,startDate:o,endDate:i,startTime:e.startTime,endTime:e.endTime,repeat:e.repeat,reminder:e.reminder,description:e.description,eventSDate:t,eventEDate:n,repeatSDate:a,repeatEDate:e.repeatEDate,oldRepeatSDate:e.oldRepeatSDate,account:e.account,selectedDate:e.selectedDate,uuidNew:e.uuidNew,serverId:e.serverId,authenticatorId:e.authenticatorId,busytime:e.busytime}},o.updateFutureForGoogle=function(e){var t=this,n=this.getFirstEventForUpdateFuture(e.busytime);this[me](n,function(){t[ge](e,"future")})},o.updateFutureForActivesync=function(e){var t=e.account,n=e.credential,r=e.item,a=e.cached;j({account:t,credential:n,item:this.getFirstEventForUpdateFuture(r.busytime),cached:a,toastId:"event-updated"},function(){j(e)})},o.deleteAllEvent=function(e,t){!e||e.length<=0?window.DUMP("deleteAllEvent eventlist is null"):this[Ee](e,t)},o.newAllEvent=function(e){if(!e||e.length<=0)return window.DUMP("deleteAllEvent eventlist is null"),void this.pullAllLocalEvents(window.selectedDate);this[De](e)},o.startLocalWorker=function(){var e=this;this._localWorker=new Worker("dist/worker/localWorker.js"),this[ee]();var t=function(e){var n=e.data;"open-db-success"===n.msgType?(this.openDbSuccFlag=!0,this.emit("open-db-success")):"open-db-failed"===n.msgType&&window.close(),this._localWorker.removeEventListener("message",t,!0)}.bind(this);this._localWorker.addEventListener("message",t,!0),SettingsObserver.observe("debug.gaia.enabled","",function(t){e._localWorker.postMessage({debugGaia:t,action:"debug-switch"})},!0)},o.pullAllLocalEvents=function(e,t,n){this[Q](new Date(e),t,n)},o.pullAllSearchEvents=function(e){this[Z](new Date(e))},o.add=function(e){var t=this;"calendar-local"!==e.account?this.getOnlineAccounts().then(function(){t.addOnlineEvent(e)}):this[$](e,!0)},o.getOnlineAccounts=function(){var e=this;return new Promise(function(t,n){e.mAccounts?t():e._accountManager.managerGetAccounts().then(function(n){e.mAccounts=n,t()},function(t){e._logger.error("getAccounts rejected: "+t),n(t)})})},o.addOnlineEvent=function(e){var t=JSON.parse(localStorage.getItem("caldav-accounts"));t||(t=[]);for(var n=0;n<t.length;n++)if(e.account===t[n].user)return void this.createEventForCaldav({event:e,account:t[n],toastId:"event-added"});this[me](e)},o.createEventForCaldav=function(e){var t=this;Object(B.a)(e,function(){t[be]().then(function(t){Object(B.d)({account:e.account,cached:t,toastId:e.toastId})})})},o.addLocal=function(e){this[$](e)},o.getSingleDayEvents=function(e){return a()(this.arrangeEvents,function(t){return m()(e,t.day)})},o.getEventByBusytime=function(e,t){var n=e.busytimeEDate-e.busytimeSDate,r=new Date(e.repeatSDate.valueOf()+n);return{uuid:e.eventId,title:e.title,location:e.location,description:e.description,allDayEvent:e.allDayEvent,startDate:D()(e.repeatSDate,"MM/DD/YYYY"),endDate:D()(r,"MM/DD/YYYY"),startTime:e.startTime,endTime:e.endTime,repeat:e.repeat,reminder:e.reminder,eventSDate:e.repeatSDate,eventEDate:r,repeatSDate:e.repeatSDate,repeatEDate:t,account:e.account,serverId:e.serverId,authenticatorId:e.authenticatorId}},o.getFirstEventForUpdateFuture=function(e){var t=new Date(e.busytimeEDate.valueOf());t=new Date(t.setHours(0,0,0,0).valueOf());var n=e.busytimeEDate.valueOf()-e.busytimeSDate.valueOf(),r=new Date(e.repeatSDate.valueOf()+n);return{uuid:e.eventId,title:e.title,location:e.location,description:e.description,allDayEvent:e.allDayEvent,startDate:D()(e.repeatSDate,"MM/DD/YYYY"),endDate:D()(r,"MM/DD/YYYY"),startTime:e.startTime,endTime:e.endTime,repeat:e.repeat,reminder:e.reminder,eventSDate:e.repeatSDate,eventEDate:r,repeatSDate:e.repeatSDate,repeatEDate:t,account:e.account,serverId:e.serverId,authenticatorId:e.authenticatorId}},o.getEventForUpdateAllEvent=function(e){var t=e.eventEDate.valueOf()-e.eventSDate.valueOf(),n=e.oldRepeatSDate||e.repeatSDate,r=D()(n,"MM/DD/YYYY"),a=new Date(r+" "+e.startTime),o=new Date(a.valueOf()+t),i=D()(o,"MM/DD/YYYY");return"never"===e.repeat&&(r=e.startDate,i=e.endDate,a=new Date(e.eventSDate),o=new Date(e.eventEDate)),{uuid:e.uuid,title:e.title,location:e.location,allDayEvent:e.allDayEvent,startDate:r,endDate:i,startTime:e.startTime,endTime:e.endTime,repeat:e.repeat,reminder:e.eventsReminder||e.reminder,description:e.description,eventSDate:a,eventEDate:o,repeatSDate:n,repeatEDate:e.repeatEDate,account:e.account,uuidNew:e.uuidNew,serverId:e.serverId,authenticatorId:e.authenticatorId}},o.delFutureEventForRemote=function(e){var t=new Date(e.busytimeSDate.valueOf()-864e5);this[oe](e,t)},o.del=function(e,t){var n=this,r=null;"futureEvent"===t&&(r=e.allDayEvent?new Date(e.busytimeSDate.valueOf()-1):new Date(e.busytimeSDate.valueOf()-864e5)),"calendar-local"!==e.account?this.getOnlineAccounts().then(function(){n.delOnlineEvent(e,t,r)}):this[oe](e,r)},o.deleteEventForCaldav=function(e){var t=this;Object(B.b)(e,function(){t.closeNotification(e.event),t[be]().then(function(n){if("futureEvent"===e.value){var r=t.getEventByBusytime(e.event,e.endRepeatDate);r.uuid=Object(P.X)(),Object(B.a)({event:r,account:e.account},function(){Object(B.d)({account:e.account,cached:n,toastId:"event-deleted"})})}else Object(B.d)({account:e.account,cached:n,toastId:"event-deleted"})})})},o.delOnlineEvent=function(e,t,n){var r=JSON.parse(localStorage.getItem("caldav-accounts"));r||(r=[]);for(var a=0;a<r.length;a++)if(e.account===r[a].user)return void this.deleteEventForCaldav({event:e,account:r[a],value:t,endRepeatDate:n});this[ve](e,t,n)},o.update=function(e){"calendar-local"!==e.account?this[ge](e):this[ie](e)},o.updateFuture=function(e){"calendar-local"!==e.account?this[ge](e,"futureEvent"):this[ce](e)},o.updateAll=function(e){"calendar-local"!==e.account?this[ge](e,"allEvent"):this[se](e)},o.registerAlarm=function(){this[de]()},o.deleteAlarmItem=function(e){var t=navigator.mozAlarms;if(t){var n=t.getAll();n.onsuccess=function(t){for(var n=t.target.result,r=0;r<n.length;r++)if(n[r].data&&"calendarNotice"===n[r].data.type&&e.busytimeId===n[r].data.item.busytimeId){navigator.mozAlarms.remove(n[r].id);break}},n.onerror=function(){console.log("CALENDAR:","failed to get alarms")}}},o.findAndDeleteAlarm=function(e){this[he](e)},o.handleGetAlarms=function(e){if(e)for(var t=new Date,n=0;n<e.length;n++){var r=new Date(e[n].busytimeEDate.valueOf());if(e[n].allDayEvent&&(r=new Date(r.setHours(0,0,0,0)+864e5)),t>=e[n].triggleDate&&t<=r)this.findAndDeleteAlarm(e[n]);else if(t<e[n].triggleDate){var a={date:e[n].triggleDate,data:{item:e[n],type:"calendarNotice"},ignoreTimezone:!0};navigator.b2g.alarmManager.add(a)}}},o.closeEventsNotification=function(e){this.delAlarms(e),M.closeNotificationList(e)},o.sendNotification=function(e){M.sendNotification(e)},o.closeNotification=function(e){this.delAlarms([e]),M.closeNotifications(e)},o.delAlarms=function(e){navigator.b2g.alarmManager.getAll().then(function(t){t&&0!==t.length&&e.forEach(function(e){if("never"===e.repeat){var n=t.findIndex(function(t){return t.data.item.busytimeId===e.busytimeId});-1!==n&&navigator.b2g.alarmManager.remove(t[n].id)}else for(var r=0;r<t.length;r++)e.eventId===t[r].data.item.eventId&&navigator.b2g.alarmManager.remove(t[r].id)})})},o.showToaster=function(e){"event-updated"===e?this.emit("update-event-success"):"event-deleted"===e&&this.emit("delete-event-success"),e&&Toaster.showToast({messageL10nId:e})},o.pullRemoteEvents=function(e,t,n){this[re](e,t,n)},o.successFetchRemoteEvents=function(e){this[fe](e)},o[pe]=function(e){Object(P.F)(),this.showToaster(Object(P.b)(e))},o[fe]=function(e){this._logger.info("fetch remote events success!!!!!!!!!!!!!!"),e&&Object(P.F)(),e&&"calendar-sync-up-to-date"!==e&&(this.showToaster(e),this.emit("succ-fetch-remote-events"))},o[re]=function(e,t,n){var r=this,a=this;this.mCalendarList=[],this._accountManager.managerGetAccounts().then(function(o){r.mAccounts=o,c()(u()(r.mAccounts,function(e){return"google"===e.authenticatorId||"activesync"===e.authenticatorId}),function(o){if(window.calendarSync[o.authenticatorId+":"+o.accountId]){var i="google"===o.authenticatorId;a.getCredentials(o,i).then(function(i){if("google"===o.authenticatorId)if(i.expire_timestamp<(new Date).getTime())a._logger.error("access-token EXPIRED!!!!!!!"),a[pe]("");else{a._logger.error("access-token success!!!!!!!");var s=G.a.GOOGLEAPIADD,c=s.PROTOCOL,l=s.CALENDARLIST;a._remoteWorker.postMessage({credential:i,protocol:c,calendarList:l,action:"fetch-remote-calendar-list",callBackAction:"fetch-remote-calendar-list-"+o.accountId});a._remoteWorker.addEventListener("message",function n(r){if("fetch-remote-calendar-list-"+o.accountId===r.data.msgType){var i=r.data,s=i.token,c=i.tokenType,l=i.responseJson;a.mCalendarList.push({calendarList:l,token:s,tokenType:c}),a[we]().then(function(n){a[ae](new Date(e),t,n)}),a._remoteWorker.removeEventListener("message",n,!0)}},!0)}else"activesync"===o.authenticatorId&&n&&r[ye]().then(function(e){Object(P.S)(),U(0,i,e,"calendar-sync-up-to-date")})},function(e){a._logger.error("getCredentials rejected: "+e),a[pe](e)})}}),r.getRemoteCaldavEvent()},function(e){r._logger.error("getAccounts rejected: "+e),r[pe](e),r.getRemoteCaldavEvent()})},o.getRemoteCaldavEvent=function(){var e=this,t=JSON.parse(localStorage.getItem("caldav-accounts"));t&&this[be]().then(function(n){t.forEach(function(t){Object(P.S)(),Object(B.d)({account:t,cached:n,callback:function(t){Object(P.T)(),t||e.successFetchRemoteEvents("calendar-sync-up-to-date")}})})})},o[ae]=function(e,t,n){var r=this,a=n||[];c()(this.mCalendarList,function(n){var o=n.calendarList.items;c()(o,function(o){var i=G.a.GOOGLEAPIADD,s=i.PROTOCOL,l=i.EVENTSLIST,u=i.EVENTS,d=A()(e).toISOString(),h=_()(e).toISOString(),f=(encodeURIComponent(h),encodeURIComponent(d),""+s+l+encodeURIComponent(o.id)+"/"+u);r._logger.info(f),Object(P.S)(),r._remoteWorker.postMessage({token:n.token,tokenType:n.tokenType,fetchUrl:f,action:"fetch-remote-events",callBackAction:"fetch-remote-events-"+o.id}),r._remoteWorker.addEventListener("message",function e(n){if("fetch-remote-events-"+o.id===n.data.msgType){var i=n.data,s=i.responseJson.accessRole;if(Object(P.T)(),"owner"===s||"write"===s){var l=i.responseJson.items,u=[],d=[];c()(l,function(e){var t=a.findIndex(function(t){return t.uuid===e.id});if("cancelled"!==e.status){var n=q(e,o.id);-1===t||Object(P.U)(a[t],n)||u.push(a[t]),"cancelled"===e.status||-1!==t&&Object(P.U)(a[t],n)||d.push(n)}}),c()(a,function(e){-1===l.findIndex(function(t){return t.id===e.uuid})&&e.account===o.id&&u.push(e)}),r.deleteAllEvent(u),r.newAllEvent(d);var h=t?"calendar-sync-up-to-date":null;r[fe](h)}r._remoteWorker.removeEventListener("message",e,!0)}},!0)})})},o.getAccountEvents=function(e){for(var t=[],n=0;n<this.arrangeEvents.length;n++)for(var r=this.arrangeEvents[n],a=0;a<r.dayEvents.length;a++){var o=r.dayEvents[a];o.account===e&&t.push(o.uuid)}return t},o.delAccoutEvents=function(e,t){var n=[];t.forEach(function(t){e.accountId===t.account&&n.push(t)}),n.length>0&&this[Ee](n)},o.removeAccountEvents=function(e){var t=this;"google"===e.authenticatorId?this[we]().then(function(n){t.delAccoutEvents(e,n)}):"activesync"===e.authenticatorId&&this[ye]().then(function(n){t.delAccoutEvents(e,n)})},o.getCredentials=function(e,t){var n=this;return new Promise(function(r,a){n._accountManager.managerGetCredentials(e,t).then(function(t){var o=(new Date).valueOf();"activesync"===e.authenticatorId||t.expire_timestamp>=o?r(t):n._accountManager.managerRefreshCredential(e).then(function(e){n._accountManager.managerGetCredentials(e).then(function(e){r(e)},function(e){a(e)})},function(e){a(e)})},function(e){a(e)})})},r}(I.a));Ae.startLocalWorker();var Te=t.a=Ae},48:function(e,t,n){"use strict";t.a={SETTINGS:{lowMemory:256},DB:{name:"b2g-calendar",settingStore:"Settings",accountStore:"Accounts",calendarStore:"Calendars",eventStore:"Events",busytimeStore:"Busytimes",componentStore:"Components",alarmStore:"Alarms"},COLOR:{accountColor:["#FF4F1A","#FF8111","#A6482A","#604A4A","#31799C","#E92E20","#DA0051","#AF0779","#840FA2","#8000FF","#2948F3","#0073E6","#00A6FB","#00BBD3","#019688","#00BF60","#75CF0B","#BDD000","#FFC300","#FE9A24"]},ACCOUNT:{accountType:[{name:"Google",type:"google",using:!0},{name:"ActiveSync",type:"activesync",using:!0},{name:"CalDav",type:"caldav",using:!0}]},GOOGLEAPIADD:{PROTOCOL:"https://",CALENDARLIST:"www.googleapis.com/calendar/v3/users/me/calendarList",EVENTSLIST:"www.googleapis.com/calendar/v3/calendars/",EVENTSLISTSUFFIX:"events",EVENTS:"events?maxResults=100000"},MONTHVIEW:{DOTSRENDER:1}}},49:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){this.events={}}var t=e.prototype;return t.on=function(e,t){var n=this;return"object"!=typeof this.events[e]&&(this.events[e]=[]),this.events[e].push(t),function(){return n.removeListener(e,t)}},t.removeListener=function(e,t){if("object"==typeof this.events[e]){var n=this.events[e].indexOf(t);n>-1&&this.events[e].splice(n,1)}},t.emit=function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];"object"==typeof this.events[e]&&this.events[e].forEach(function(e){return e.apply(t,r)})},t.once=function(e,t){var n=this,r=this.on(e,function(){r();for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];t.apply(n,a)})},e}()},509:function(e,t,n){var r=n(510);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(66)(r,a);r.locals&&(e.exports=r.locals)},51:function(e,t,n){"use strict";var r=n(22);t.a=Object(r.d)({})},510:function(e,t,n){(e.exports=n(65)(!1)).push([e.i,".hidden {\n  display: none !important; }\n",""])},512:function(e,t,n){var r=n(513);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(66)(r,a);r.locals&&(e.exports=r.locals)},513:function(e,t,n){(e.exports=n(65)(!1)).push([e.i,'.option-menu-container {\n  z-index: 9999;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  bottom: var(--softkeybar-height, 3rem);\n  left: 0;\n  border-top: var(--statusbar-height, 2.6rem) solid transparent;\n  background-color: rgba(0, 0, 0, 0.85); }\n\n.option-menu-container .option-menu {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  max-height: 100%; }\n\n.option-menu-container .option-menu .header {\n  padding: 0.5rem 1rem;\n  background-color: var(--color-gs20);\n  color: var(--color-gs90);\n  text-align: center; }\n\n.option-menu-container .option-menu .content {\n  overflow-y: auto;\n  background-color: var(--color-gs00);\n  color: var(--color-gs90); }\n\n.option-menu-container .option-menu .content .menu-item {\n  min-height: 4.8rem;\n  display: flex;\n  align-items: center;\n  padding-top: .5rem;\n  padding-bottom: .5rem;\n  box-sizing: border-box; }\n\n.option-menu-container .option-menu .content .menu-item .icon {\n  width: 3.2rem;\n  height: 3.2rem; }\n\n.option-menu-container .option-menu .content .menu-item .content {\n  background-color: transparent;\n  padding: 0 1rem;\n  overflow: unset; }\n\n.option-menu-container .option-menu .content .menu-item [data-icon]:before {\n  content: none; }\n\n.option-menu-container .option-menu .content .menu-item [data-icon]:after {\n  font-family: "gaia-icons";\n  content: attr(data-icon);\n  display: inline-block;\n  font-weight: 500;\n  font-style: normal;\n  text-decoration: inherit;\n  text-transform: none;\n  font-size: 3.2rem;\n  position: absolute;\n  right: 0;\n  color: var(--color-gs45); }\n\n.option-menu-container .option-menu .content .menu-item .checked[data-icon]:after {\n  color: var(--highlight-color); }\n\n.option-menu-container .option-menu .content .menu-item:focus {\n  background-color: var(--highlight-color);\n  color: white; }\n\n.option-menu-container .option-menu .content .menu-item:focus .content,\n.option-menu-container .option-menu .content .menu-item:focus .checked[data-icon]:after {\n  color: var(--color-gs00); }\n\nhtml[dir="rtl"] .option-menu-container .option-menu .content .menu-item [data-icon="radio-on"]:after {\n  right: auto;\n  left: 0; }\n\nhtml[dir="rtl"] .option-menu-container .option-menu .content .menu-item [data-icon="radio-on"] [data-icon="radio-off"]:after {\n  right: auto;\n  left: 0; }\n',""])},514:function(e,t,n){var r=n(515);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(66)(r,a);r.locals&&(e.exports=r.locals)},515:function(e,t,n){(e.exports=n(65)(!1)).push([e.i,":root {\n  --softkeybar-background-color: var(--color-gs20, #ccc);\n  --softkey-color: var(--color-gs90, #323232);\n  --softkey-color--icon: var(--color-gs70, #6a6a6a);\n  --softkey-color--disabled: var(--color-eta, #c7c7c7);\n  --softkey-background-color--active: #0ac;\n  --softkey-font-size: 1.4rem;\n  --softkey-icon-size: 2rem;\n  --softkey-font-weight: 600; }\n\n.skbar {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: var(--z-index--softkey, 99999);\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  outline: none;\n  text-align: center;\n  white-space: nowrap;\n  color: var(--softkey-color);\n  direction: ltr;\n  background-color: var(--softkeybar-background-color); }\n\n.skbar:not(.visible) {\n  display: none; }\n\n.skbar > * {\n  min-width: 1rem;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem; }\n\n.skbar > *:first-child {\n  text-align: left; }\n\n.skbar > *:nth-child(2) {\n  --softkey-font-size: 1.6rem;\n  --softkey-font-weight: 700;\n  flex-shrink: 0;\n  min-width: 1rem;\n  text-transform: uppercase; }\n\n.skbar > *:last-child {\n  text-align: right; }\n\n.sk-button {\n  display: block;\n  max-width: 100%;\n  height: var(--softkeybar-height, 3rem);\n  line-height: var(--softkeybar-height, 3rem);\n  border: unset;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: inherit;\n  font-size: var(--softkey-font-size);\n  font-weight: var(--softkey-font-weight);\n  letter-spacing: -0.04rem;\n  color: var(--softkey-color);\n  background: unset; }\n\n.sk-button:-moz-dir(rtl) {\n  direction: rtl; }\n\n.sk-button:active,\n.sk-button.active {\n  background-color: var(--softkey-background-color--active); }\n\n.sk-button[disabled] {\n  --softkey-color: var(--softkey-color--disabled);\n  background-color: transparent;\n  pointer-events: auto; }\n\n.sk-button[data-icon] {\n  --softkey-font-size: var(--softkey-icon-size); }\n\n.sk-button[data-icon]:empty {\n  --softkey-color: var(--softkey-color--icon); }\n\n.sk-button[data-icon][data-icon=\"ok\"] {\n  --softkey-icon-size: 2.4rem; }\n\n.sk-button[data-icon]::before {\n  content: unset; }\n\n.sk-button[data-icon]::after {\n  content: attr(data-icon);\n  font-family: 'gaia-icons';\n  display: inline-block;\n  font-weight: 500;\n  font-style: normal;\n  text-decoration: inherit;\n  text-transform: none;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  letter-spacing: initial; }\n",""])},518:function(e,t,n){var r=n(519);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(66)(r,a);r.locals&&(e.exports=r.locals)},519:function(e,t,n){(e.exports=n(65)(!1)).push([e.i,".dialog-container {\n  z-index: 9999;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.85); }\n\n.dialog-container .dialog {\n  width: 100%;\n  position: absolute;\n  bottom: 3rem;\n  left: 0;\n  max-height: calc(100% - 2rem - var(--statusbar-height));\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column; }\n\n.dialog-container .dialog > .header {\n  padding: 0.5rem 1rem;\n  background-color: var(--color-gs20);\n  color: var(--color-gs90);\n  text-align: center; }\n\n.dialog-container .dialog > .content {\n  height: auto;\n  overflow-y: auto;\n  word-wrap: break-word;\n  white-space: pre-line;\n  padding: 1rem;\n  background-color: var(--color-gs00);\n  color: var(--color-gs90); }\n\n.dialog-container .dialog > .content input {\n  display: block;\n  width: 100%;\n  height: 3.6rem;\n  line-height: 3.6rem;\n  padding: 0 1rem;\n  box-sizing: border-box; }\n\n.dialog-container .dialog > .content p {\n  margin: 0.4rem 0 0 0;\n  color: var(--color-gs70); }\n\n.dialog-container .dialog > .content progress {\n  width: 100%;\n  height: 0.6rem;\n  border: none;\n  border-radius: 0.5rem;\n  background: var(--color-gs45); }\n\n.dialog-container .dialog > .content progress::-moz-progress-bar {\n  background-color: var(--highlight-color, #f6529b);\n  border-radius: 0.5rem; }\n",""])},559:function(e,t,n){var r;void 0===(r=function(e,t,r){"use strict";var a=n(226),o={Common:n(560),AirSync:n(561),Contacts:n(562),Email:n(563),Calendar:n(564),Move:n(565),ItemEstimate:n(566),FolderHierarchy:n(567),MeetingResponse:n(568),Tasks:n(569),ResolveRecipients:n(570),ValidateCert:n(571),Contacts2:n(572),Ping:n(573),Provision:n(574),Search:n(575),GAL:n(576),AirSyncBase:n(577),Settings:n(578),DocumentLibrary:n(579),ItemOperations:n(580),ComposeMail:n(581),Email2:n(582),Notes:n(583),RightsManagement:n(584)};return a.CompileCodepages(o),o}.call(t,n,t,e))||(e.exports=r)},560:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Enums:{Status:{InvalidContent:"101",InvalidWBXML:"102",InvalidXML:"103",InvalidDateTime:"104",InvalidCombinationOfIDs:"105",InvalidIDs:"106",InvalidMIME:"107",DeviceIdMissingOrInvalid:"108",DeviceTypeMissingOrInvalid:"109",ServerError:"110",ServerErrorRetryLater:"111",ActiveDirectoryAccessDenied:"112",MailboxQuotaExceeded:"113",MailboxServerOffline:"114",SendQuotaExceeded:"115",MessageRecipientUnresolved:"116",MessageReplyNotAllowed:"117",MessagePreviouslySent:"118",MessageHasNoRecipient:"119",MailSubmissionFailed:"120",MessageReplyFailed:"121",AttachmentIsTooLarge:"122",UserHasNoMailbox:"123",UserCannotBeAnonymous:"124",UserPrincipalCouldNotBeFound:"125",UserDisabledForSync:"126",UserOnNewMailboxCannotSync:"127",UserOnLegacyMailboxCannotSync:"128",DeviceIsBlockedForThisUser:"129",AccessDenied:"130",AccountDisabled:"131",SyncStateNotFound:"132",SyncStateLocked:"133",SyncStateCorrupt:"134",SyncStateAlreadyExists:"135",SyncStateVersionInvalid:"136",CommandNotSupported:"137",VersionNotSupported:"138",DeviceNotFullyProvisionable:"139",RemoteWipeRequested:"140",LegacyDeviceOnStrictPolicy:"141",DeviceNotProvisioned:"142",PolicyRefresh:"143",InvalidPolicyKey:"144",ExternallyManagedDevicesNotAllowed:"145",NoRecurrenceInCalendar:"146",UnexpectedItemClass:"147",RemoteServerHasNoSSL:"148",InvalidStoredRequest:"149",ItemNotFound:"150",TooManyFolders:"151",NoFoldersFounds:"152",ItemsLostAfterMove:"153",FailureInMoveOperation:"154",MoveCommandDisallowedForNonPersistentMoveAction:"155",MoveCommandInvalidDestinationFolder:"156",AvailabilityTooManyRecipients:"160",AvailabilityDLLimitReached:"161",AvailabilityTransientFailure:"162",AvailabilityFailure:"163",BodyPartPreferenceTypeNotSupported:"164",DeviceInformationRequired:"165",InvalidAccountId:"166",AccountSendDisabled:"167",IRM_FeatureDisabled:"168",IRM_TransientError:"169",IRM_PermanentError:"170",IRM_InvalidTemplateID:"171",IRM_OperationNotPermitted:"172",NoPicture:"173",PictureTooLarge:"174",PictureLimitReached:"175",BodyPart_ConversationTooLarge:"176",MaximumDevicesReached:"177",InvalidMimeBodyCombination:"178",InvalidSmartForwardParameters:"179",InvalidRecipients:"183",OneOrMoreExceptionsFailed:"184"}}}}.call(t,n,t,e))||(e.exports=r)},561:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{Sync:5,Responses:6,Add:7,Change:8,Delete:9,Fetch:10,SyncKey:11,ClientId:12,ServerId:13,Status:14,Collection:15,Class:16,Version:17,CollectionId:18,GetChanges:19,MoreAvailable:20,WindowSize:21,Commands:22,Options:23,FilterType:24,Truncation:25,RtfTruncation:26,Conflict:27,Collections:28,ApplicationData:29,DeletesAsMoves:30,NotifyGUID:31,Supported:32,SoftDelete:33,MIMESupport:34,MIMETruncation:35,Wait:36,Limit:37,Partial:38,ConversationMode:39,MaxItems:40,HeartbeatInterval:41},Enums:{Status:{Success:"1",InvalidSyncKey:"3",ProtocolError:"4",ServerError:"5",ConversionError:"6",MatchingConflict:"7",ObjectNotFound:"8",OutOfSpace:"9",HierarchyChanged:"12",IncompleteRequest:"13",InvalidInterval:"14",InvalidRequest:"15",Retry:"16"},FilterType:{NoFilter:"0",OneDayBack:"1",ThreeDaysBack:"2",OneWeekBack:"3",TwoWeeksBack:"4",OneMonthBack:"5",ThreeMonthsBack:"6",SixMonthsBack:"7",IncompleteTasks:"8"},Conflict:{ClientReplacesServer:"0",ServerReplacesClient:"1"},MIMESupport:{Never:"0",SMIMEOnly:"1",Always:"2"},MIMETruncation:{TruncateAll:"0",Truncate4K:"1",Truncate5K:"2",Truncate7K:"3",Truncate10K:"4",Truncate20K:"5",Truncate50K:"6",Truncate100K:"7",NoTruncate:"8"}}}}.call(t,n,t,e))||(e.exports=r)},562:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{Anniversary:261,AssistantName:262,AssistantPhoneNumber:263,Birthday:264,Body:265,BodySize:266,BodyTruncated:267,Business2PhoneNumber:268,BusinessAddressCity:269,BusinessAddressCountry:270,BusinessAddressPostalCode:271,BusinessAddressState:272,BusinessAddressStreet:273,BusinessFaxNumber:274,BusinessPhoneNumber:275,CarPhoneNumber:276,Categories:277,Category:278,Children:279,Child:280,CompanyName:281,Department:282,Email1Address:283,Email2Address:284,Email3Address:285,FileAs:286,FirstName:287,Home2PhoneNumber:288,HomeAddressCity:289,HomeAddressCountry:290,HomeAddressPostalCode:291,HomeAddressState:292,HomeAddressStreet:293,HomeFaxNumber:294,HomePhoneNumber:295,JobTitle:296,LastName:297,MiddleName:298,MobilePhoneNumber:299,OfficeLocation:300,OtherAddressCity:301,OtherAddressCountry:302,OtherAddressPostalCode:303,OtherAddressState:304,OtherAddressStreet:305,PagerNumber:306,RadioPhoneNumber:307,Spouse:308,Suffix:309,Title:310,WebPage:311,YomiCompanyName:312,YomiFirstName:313,YomiLastName:314,CompressedRTF:315,Picture:316,Alias:317,WeightedRank:318}}}.call(t,n,t,e))||(e.exports=r)},563:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{Attachment:517,Attachments:518,AttName:519,AttSize:520,Att0Id:521,AttMethod:522,AttRemoved:523,Body:524,BodySize:525,BodyTruncated:526,DateReceived:527,DisplayName:528,DisplayTo:529,Importance:530,MessageClass:531,Subject:532,Read:533,To:534,Cc:535,From:536,ReplyTo:537,AllDayEvent:538,Categories:539,Category:540,DTStamp:541,EndTime:542,InstanceType:543,BusyStatus:544,Location:545,MeetingRequest:546,Organizer:547,RecurrenceId:548,Reminder:549,ResponseRequested:550,Recurrences:551,Recurrence:552,Recurrence_Type:553,Recurrence_Until:554,Recurrence_Occurrences:555,Recurrence_Interval:556,Recurrence_DayOfWeek:557,Recurrence_DayOfMonth:558,Recurrence_WeekOfMonth:559,Recurrence_MonthOfYear:560,StartTime:561,Sensitivity:562,TimeZone:563,GlobalObjId:564,ThreadTopic:565,MIMEData:566,MIMETruncated:567,MIMESize:568,InternetCPID:569,Flag:570,Status:571,ContentClass:572,FlagType:573,CompleteTime:574,DisallowNewTimeProposal:575},Enums:{Importance:{Low:"0",Normal:"1",High:"2"},InstanceType:{Single:"0",RecurringMaster:"1",RecurringInstance:"2",RecurringException:"3"},BusyStatus:{Free:"0",Tentative:"1",Busy:"2",Oof:"3"},Recurrence_Type:{Daily:"0",Weekly:"1",MonthlyNthDay:"2",Monthly:"3",YearlyNthDay:"5",YearlyNthDayOfWeek:"6"},Sensitivity:{Normal:"0",Personal:"1",Private:"2",Confidential:"3"},Status:{Cleared:"0",Complete:"1",Active:"2"}}}}.call(t,n,t,e))||(e.exports=r)},564:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{TimeZone:1029,AllDayEvent:1030,Attendees:1031,Attendee:1032,Email:1033,Name:1034,Body:1035,BodyTruncated:1036,BusyStatus:1037,Categories:1038,Category:1039,CompressedRTF:1040,DtStamp:1041,EndTime:1042,Exception:1043,Exceptions:1044,Deleted:1045,ExceptionStartTime:1046,Location:1047,MeetingStatus:1048,OrganizerEmail:1049,OrganizerName:1050,Recurrence:1051,Type:1052,Until:1053,Occurrences:1054,Interval:1055,DayOfWeek:1056,DayOfMonth:1057,WeekOfMonth:1058,MonthOfYear:1059,Reminder:1060,Sensitivity:1061,Subject:1062,StartTime:1063,UID:1064,AttendeeStatus:1065,AttendeeType:1066,Attachment:1067,Attachments:1068,AttName:1069,AttSize:1070,AttOid:1071,AttMethod:1072,AttRemoved:1073,DisplayName:1074,DisallowNewTimeProposal:1075,ResponseRequested:1076,AppointmentReplyTime:1077,ResponseType:1078,CalendarType:1079,IsLeapMonth:1080,FirstDayOfWeek:1081,OnlineMeetingConfLink:1082,OnlineMeetingExternalLink:1083}}}.call(t,n,t,e))||(e.exports=r)},565:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{MoveItems:1285,Move:1286,SrcMsgId:1287,SrcFldId:1288,DstFldId:1289,Response:1290,Status:1291,DstMsgId:1292},Enums:{Status:{InvalidSourceID:"1",InvalidDestID:"2",Success:"3",SourceIsDest:"4",MoveFailure:"5",ItemLocked:"7"}}}}.call(t,n,t,e))||(e.exports=r)},566:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{GetItemEstimate:1541,Version:1542,Collections:1543,Collection:1544,Class:1545,CollectionId:1546,DateTime:1547,Estimate:1548,Response:1549,Status:1550},Enums:{Status:{Success:"1",InvalidCollection:"2",NoSyncState:"3",InvalidSyncKey:"4"}}}}.call(t,n,t,e))||(e.exports=r)},567:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{Folders:1797,Folder:1798,DisplayName:1799,ServerId:1800,ParentId:1801,Type:1802,Response:1803,Status:1804,ContentClass:1805,Changes:1806,Add:1807,Delete:1808,Update:1809,SyncKey:1810,FolderCreate:1811,FolderDelete:1812,FolderUpdate:1813,FolderSync:1814,Count:1815},Enums:{Type:{Generic:"1",DefaultInbox:"2",DefaultDrafts:"3",DefaultDeleted:"4",DefaultSent:"5",DefaultOutbox:"6",DefaultTasks:"7",DefaultCalendar:"8",DefaultContacts:"9",DefaultNotes:"10",DefaultJournal:"11",Mail:"12",Calendar:"13",Contacts:"14",Tasks:"15",Journal:"16",Notes:"17",Unknown:"18",RecipientCache:"19"},Status:{Success:"1",FolderExists:"2",SystemFolder:"3",FolderNotFound:"4",ParentFolderNotFound:"5",ServerError:"6",InvalidSyncKey:"9",MalformedRequest:"10",UnknownError:"11",CodeUnknown:"12"}}}}.call(t,n,t,e))||(e.exports=r)},568:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{CalendarId:2053,CollectionId:2054,MeetingResponse:2055,RequestId:2056,Request:2057,Result:2058,Status:2059,UserResponse:2060,InstanceId:2062},Enums:{Status:{Success:"1",InvalidRequest:"2",MailboxError:"3",ServerError:"4"},UserResponse:{Accepted:"1",Tentative:"2",Declined:"3"}}}}.call(t,n,t,e))||(e.exports=r)},569:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{Body:2309,BodySize:2310,BodyTruncated:2311,Categories:2312,Category:2313,Complete:2314,DateCompleted:2315,DueDate:2316,UtcDueDate:2317,Importance:2318,Recurrence:2319,Recurrence_Type:2320,Recurrence_Start:2321,Recurrence_Until:2322,Recurrence_Occurrences:2323,Recurrence_Interval:2324,Recurrence_DayOfMonth:2325,Recurrence_DayOfWeek:2326,Recurrence_WeekOfMonth:2327,Recurrence_MonthOfYear:2328,Recurrence_Regenerate:2329,Recurrence_DeadOccur:2330,ReminderSet:2331,ReminderTime:2332,Sensitivity:2333,StartDate:2334,UtcStartDate:2335,Subject:2336,CompressedRTF:2337,OrdinalDate:2338,SubOrdinalDate:2339,CalendarType:2340,IsLeapMonth:2341,FirstDayOfWeek:2342}}}.call(t,n,t,e))||(e.exports=r)},570:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{ResolveRecipients:2565,Response:2566,Status:2567,Type:2568,Recipient:2569,DisplayName:2570,EmailAddress:2571,Certificates:2572,Certificate:2573,MiniCertificate:2574,Options:2575,To:2576,CertificateRetrieval:2577,RecipientCount:2578,MaxCertificates:2579,MaxAmbiguousRecipients:2580,CertificateCount:2581,Availability:2582,StartTime:2583,EndTime:2584,MergedFreeBusy:2585,Picture:2586,MaxSize:2587,Data:2588,MaxPictures:2589},Enums:{Status:{Success:"1",AmbiguousRecipientFull:"2",AmbiguousRecipientPartial:"3",RecipientNotFound:"4",ProtocolError:"5",ServerError:"6",InvalidSMIMECert:"7",CertLimitReached:"8"},CertificateRetrieval:{None:"1",Full:"2",Mini:"3"},MergedFreeBusy:{Free:"0",Tentative:"1",Busy:"2",Oof:"3",NoData:"4"}}}}.call(t,n,t,e))||(e.exports=r)},571:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{ValidateCert:2821,Certificates:2822,Certificate:2823,CertificateChain:2824,CheckCRL:2825,Status:2826},Enums:{Status:{Success:"1",ProtocolError:"2",InvalidSignature:"3",UntrustedSource:"4",InvalidChain:"5",NotForEmail:"6",Expired:"7",InconsistentTimes:"8",IdMisused:"9",MissingInformation:"10",CAEndMismatch:"11",EmailAddressMismatch:"12",Revoked:"13",ServerOffline:"14",ChainRevoked:"15",RevocationUnknown:"16",UnknownError:"17"}}}}.call(t,n,t,e))||(e.exports=r)},572:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{CustomerId:3077,GovernmentId:3078,IMAddress:3079,IMAddress2:3080,IMAddress3:3081,ManagerName:3082,CompanyMainPhone:3083,AccountName:3084,NickName:3085,MMS:3086}}}.call(t,n,t,e))||(e.exports=r)},573:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{Ping:3333,AutdState:3334,Status:3335,HeartbeatInterval:3336,Folders:3337,Folder:3338,Id:3339,Class:3340,MaxFolders:3341},Enums:{Status:{Expired:"1",Changed:"2",MissingParameters:"3",SyntaxError:"4",InvalidInterval:"5",TooManyFolders:"6",SyncFolders:"7",ServerError:"8"}}}}.call(t,n,t,e))||(e.exports=r)},574:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{Provision:3589,Policies:3590,Policy:3591,PolicyType:3592,PolicyKey:3593,Data:3594,Status:3595,RemoteWipe:3596,EASProvisionDoc:3597,DevicePasswordEnabled:3598,AlphanumericDevicePasswordRequired:3599,DeviceEncryptionEnabled:3600,RequireStorageCardEncryption:3600,PasswordRecoveryEnabled:3601,AttachmentsEnabled:3603,MinDevicePasswordLength:3604,MaxInactivityTimeDeviceLock:3605,MaxDevicePasswordFailedAttempts:3606,MaxAttachmentSize:3607,AllowSimpleDevicePassword:3608,DevicePasswordExpiration:3609,DevicePasswordHistory:3610,AllowStorageCard:3611,AllowCamera:3612,RequireDeviceEncryption:3613,AllowUnsignedApplications:3614,AllowUnsignedInstallationPackages:3615,MinDevicePasswordComplexCharacters:3616,AllowWiFi:3617,AllowTextMessaging:3618,AllowPOPIMAPEmail:3619,AllowBluetooth:3620,AllowIrDA:3621,RequireManualSyncWhenRoaming:3622,AllowDesktopSync:3623,MaxCalendarAgeFilter:3624,AllowHTMLEmail:3625,MaxEmailAgeFilter:3626,MaxEmailBodyTruncationSize:3627,MaxEmailHTMLBodyTruncationSize:3628,RequireSignedSMIMEMessages:3629,RequireEncryptedSMIMEMessages:3630,RequireSignedSMIMEAlgorithm:3631,RequireEncryptionSMIMEAlgorithm:3632,AllowSMIMEEncryptionAlgorithmNegotiation:3633,AllowSMIMESoftCerts:3634,AllowBrowser:3635,AllowConsumerEmail:3636,AllowRemoteDesktop:3637,AllowInternetSharing:3638,UnapprovedInROMApplicationList:3639,ApplicationName:3640,ApprovedApplicationList:3641,Hash:3642}}}.call(t,n,t,e))||(e.exports=r)},575:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{Search:3845,Stores:3846,Store:3847,Name:3848,Query:3849,Options:3850,Range:3851,Status:3852,Response:3853,Result:3854,Properties:3855,Total:3856,EqualTo:3857,Value:3858,And:3859,Or:3860,FreeText:3861,DeepTraversal:3863,LongId:3864,RebuildResults:3865,LessThan:3866,GreaterThan:3867,Schema:3868,Supported:3869,UserName:3870,Password:3871,ConversationId:3872,Picture:3873,MaxSize:3874,MaxPictures:3875},Enums:{Status:{Success:"1",InvalidRequest:"2",ServerError:"3",BadLink:"4",AccessDenied:"5",NotFound:"6",ConnectionFailure:"7",TooComplex:"8",Timeout:"10",SyncFolders:"11",EndOfRange:"12",AccessBlocked:"13",CredentialsRequired:"14"}}}}.call(t,n,t,e))||(e.exports=r)},576:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{DisplayName:4101,Phone:4102,Office:4103,Title:4104,Company:4105,Alias:4106,FirstName:4107,LastName:4108,HomePhone:4109,MobilePhone:4110,EmailAddress:4111,Picture:4112,Status:4113,Data:4114}}}.call(t,n,t,e))||(e.exports=r)},577:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{BodyPreference:4357,Type:4358,TruncationSize:4359,AllOrNone:4360,Reserved:4361,Body:4362,Data:4363,EstimatedDataSize:4364,Truncated:4365,Attachments:4366,Attachment:4367,DisplayName:4368,FileReference:4369,Method:4370,ContentId:4371,ContentLocation:4372,IsInline:4373,NativeBodyType:4374,ContentType:4375,Preview:4376,BodyPartPreference:4377,BodyPart:4378,Status:4379,Location:4384},Enums:{Type:{PlainText:"1",HTML:"2",RTF:"3",MIME:"4"},Method:{Normal:"1",EmbeddedMessage:"5",AttachOLE:"6"},NativeBodyType:{PlainText:"1",HTML:"2",RTF:"3"},Status:{Success:"1"}}}}.call(t,n,t,e))||(e.exports=r)},578:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{Settings:4613,Status:4614,Get:4615,Set:4616,Oof:4617,OofState:4618,StartTime:4619,EndTime:4620,OofMessage:4621,AppliesToInternal:4622,AppliesToExternalKnown:4623,AppliesToExternalUnknown:4624,Enabled:4625,ReplyMessage:4626,BodyType:4627,DevicePassword:4628,Password:4629,DeviceInformation:4630,Model:4631,IMEI:4632,FriendlyName:4633,OS:4634,OSLanguage:4635,PhoneNumber:4636,UserInformation:4637,EmailAddresses:4638,SmtpAddress:4639,UserAgent:4640,EnableOutboundSMS:4641,MobileOperator:4642,PrimarySmtpAddress:4643,Accounts:4644,Account:4645,AccountId:4646,AccountName:4647,UserDisplayName:4648,SendDisabled:4649,RightsManagementInformation:4651},Enums:{Status:{Success:"1",ProtocolError:"2",AccessDenied:"3",ServerError:"4",InvalidArguments:"5",ConflictingArguments:"6",DeniedByPolicy:"7"},OofState:{Disabled:"0",Global:"1",TimeBased:"2"}}}}.call(t,n,t,e))||(e.exports=r)},579:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{LinkId:4869,DisplayName:4870,IsFolder:4871,CreationDate:4872,LastModifiedDate:4873,IsHidden:4874,ContentLength:4875,ContentType:4876}}}.call(t,n,t,e))||(e.exports=r)},580:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{ItemOperations:5125,Fetch:5126,Store:5127,Options:5128,Range:5129,Total:5130,Properties:5131,Data:5132,Status:5133,Response:5134,Version:5135,Schema:5136,Part:5137,EmptyFolderContents:5138,DeleteSubFolders:5139,UserName:5140,Password:5141,Move:5142,DstFldId:5143,ConversationId:5144,MoveAlways:5145},Enums:{Status:{Success:"1",ProtocolError:"2",ServerError:"3",BadURI:"4",AccessDenied:"5",ObjectNotFound:"6",ConnectionFailure:"7",InvalidByteRange:"8",UnknownStore:"9",EmptyFile:"10",DataTooLarge:"11",IOFailure:"12",ConversionFailure:"14",InvalidAttachment:"15",ResourceAccessDenied:"16"}}}}.call(t,n,t,e))||(e.exports=r)},581:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{SendMail:5381,SmartForward:5382,SmartReply:5383,SaveInSentItems:5384,ReplaceMime:5385,Source:5387,FolderId:5388,ItemId:5389,LongId:5390,InstanceId:5391,Mime:5392,ClientId:5393,Status:5394,AccountId:5395}}}.call(t,n,t,e))||(e.exports=r)},582:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{UmCallerID:5637,UmUserNotes:5638,UmAttDuration:5639,UmAttOrder:5640,ConversationId:5641,ConversationIndex:5642,LastVerbExecuted:5643,LastVerbExecutionTime:5644,ReceivedAsBcc:5645,Sender:5646,CalendarType:5647,IsLeapMonth:5648,AccountId:5649,FirstDayOfWeek:5650,MeetingMessageType:5651},Enums:{LastVerbExecuted:{Unknown:"0",ReplyToSender:"1",ReplyToAll:"2",Forward:"3"},CalendarType:{Default:"0",Gregorian:"1",GregorianUS:"2",Japan:"3",Taiwan:"4",Korea:"5",Hijri:"6",Thai:"7",Hebrew:"8",GregorianMeFrench:"9",GregorianArabic:"10",GregorianTranslatedEnglish:"11",GregorianTranslatedFrench:"12",JapaneseLunar:"14",ChineseLunar:"15",KoreanLunar:"20"},FirstDayOfWeek:{Sunday:"0",Monday:"1",Tuesday:"2",Wednesday:"3",Thursday:"4",Friday:"5",Saturday:"6"},MeetingMessageType:{Unspecified:"0",InitialRequest:"1",FullUpdate:"2",InformationalUpdate:"3",Outdated:"4",DelegatorsCopy:"5",Delegated:"6"}}}}.call(t,n,t,e))||(e.exports=r)},583:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{Subject:5893,MessageClass:5894,LastModifiedDate:5895,Categories:5896,Category:5897}}}.call(t,n,t,e))||(e.exports=r)},584:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";return{Tags:{RightsManagementSupport:6149,RightsManagementTemplates:6150,RightsManagementTemplate:6151,RightsManagementLicense:6152,EditAllowed:6153,ReplyAllowed:6154,ReplyAllAllowed:6155,ForwardAllowed:6156,ModifyRecipientsAllowed:6157,ExtractAllowed:6158,PrintAllowed:6159,ExportAllowed:6160,ProgrammaticAccessAllowed:6161,Owner:6162,ContentExpiryDate:6163,TemplateID:6164,TemplateName:6165,TemplateDescription:6166,ContentOwner:6167,RemoveRightsManagementDistribution:6168}}}.call(t,n,t,e))||(e.exports=r)},585:function(e,t,n){var r=n(586);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(66)(r,a);r.locals&&(e.exports=r.locals)},586:function(e,t,n){(e.exports=n(65)(!1)).push([e.i,"kai-textfield,\nkai-searchbar {\n  -moz-user-select: text !important; }\n\n#footer {\n  position: absolute;\n  bottom: 0;\n  width: 100%; }\n\n.top-header {\n  position: absolute;\n  top: 0;\n  width: 100%; }\n\n.hr-current-time-slicer {\n  position: absolute;\n  width: 100%;\n  height: 0.2rem;\n  background-color: #a72600;\n  border-bottom: 0.2rem solid var(--color-orange-dark);\n  border-top: none;\n  border-left: none;\n  border-right: none;\n  margin: 0;\n  z-index: 1000; }\n\n.cache-route-uncached {\n  opacity: 1; }\n\n.cache-route-cached {\n  position: absolute;\n  z-index: -9999;\n  opacity: 0;\n  visibility: hidden;\n  pointer-events: none; }\n\n.loading-page {\n  position: absolute;\n  background-color: var(--color-gs00);\n  width: 100%;\n  height: 100%;\n  top: 0;\n  align-self: center;\n  display: flex;\n  align-items: center;\n  justify-content: center; }\n\n.hidden-input {\n  width: 0;\n  height: 0;\n  opacity: 0;\n  -moz-user-select: none;\n  text-indent: 110%;\n  padding: 0;\n  border: none;\n  margin: 0; }\n\nselect {\n  border: none;\n  background: transparent;\n  margin-left: -0.5rem;\n  font-size: 1.4rem; }\n\n.focus select {\n  color: var(--highlight-text-color, #ffffff);\n  background-color: var(--highlight-color, #00B965) !important; }\n",""])},587:function(e,t,n){var r=n(588);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(66)(r,a);r.locals&&(e.exports=r.locals)},588:function(e,t,n){(e.exports=n(65)(!1)).push([e.i,".event-title-wrapper {\n  color: var(--color-gs90);\n  font-weight: bold;\n  font-style: normal;\n  font-stretch: normal;\n  line-height: normal;\n  letter-spacing: normal; }\n\n.day-event-title-wrapper {\n  font-size: 1.4rem; }\n\n.week-event-title-wrapper {\n  font-size: 1.2rem; }\n\n.allday-event-common-wrapper {\n  flex: 1 1 0;\n  border-radius: 0.5rem; }\n\n.all-day-week-event-title-wrapper {\n  color: var(--color-gs90);\n  font-weight: bold;\n  font-style: normal;\n  font-stretch: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  text-align: center;\n  font-size: 1.4rem;\n  align-items: center;\n  display: flex;\n  width: 100%;\n  height: 100%; }\n\n.date-hidden-input {\n  height: 0;\n  position: absolute;\n  top: -1rem; }\n\n.hidden {\n  display: none; }\n",""])},592:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(18),o=n.n(a),i=n(77),s=n.n(i),c=n(11);n(509);function l(e){if(!e||"string"!=typeof e)throw new Error("Event name should be a valid non-empty string!")}function u(e){if("function"!=typeof e)throw new Error("Handler should be a function!")}var d=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.setHierarchy=function(e){e&&r.default.findDOMNode(this).focus()},o.handleEvent=function(e){if("function"==typeof this._pre_handleEvent){if(!1===this._pre_handleEvent(e))return}else this.debug("no handle event pre found. skip");"function"==typeof this["_handle_"+e.type]&&(this.debug("handling "+e.type),this["_handle_"+e.type](e)),"function"==typeof this._post_handleEvent&&this._post_handleEvent(e)},o.open=function(e){},o.close=function(e){},o.show=function(){r.default.findDOMNode(this).classList.remove("hidden"),this.focus(),this.emit("opened")},o.hide=function(){r.default.findDOMNode(this).classList.add("hidden"),this.emit("closed")},o.focus=function(){r.default.findDOMNode(this).focus()},o.respondToHierarchyEvent=function(e){return!this.isActive()},o._changeState=function(e,t){r.default.findDOMNode(this).setAttribute(e+"-state",t.toString())},o.isHidden=function(){return r.default.findDOMNode(this).classList.contains("hidden")},o.isActive=function(){return!r.default.findDOMNode(this).classList.contains("hidden")},o.publish=function(e,t,n){this.broadcast(e,t);var a=new CustomEvent(n?e:this.EVENT_PREFIX+e,{bubbles:!0,detail:t||this});this.debug("publishing external event: "+e+(t?JSON.stringify(t):"")),r.default.findDOMNode(this).dispatchEvent(a)},o.broadcast=function(e,t){if(r.default.findDOMNode(this)){var n=new CustomEvent("_"+e,{bubbles:!1,detail:t||this});r.default.findDOMNode(this).dispatchEvent(n)}},o.debug=function(){this.DEBUG?(console.log("["+this.name+"]["+c.a.currentTime()+"] "+Array.prototype.slice.call(arguments).concat()),this.TRACE&&console.trace()):window.DUMP&&DUMP("["+this.name+"]["+c.a.currentTime()+"] "+Array.prototype.slice.call(arguments).concat())},o.on=function(e,t){l(e),u(t),this.listeners||(this.listeners=new Map);var n=this.listeners.get(e);n||(n=new Set,this.listeners.set(e,n)),n.add(t)},o.off=function(e,t){l(e),u(t);var n=this.listeners.get(e);n&&(n.delete(t),n.size||this.listeners.delete(e))},o.offAll=function(e){if(void 0!==e){l(e);var t=this.listeners.get(e);t&&(t.clear(),this.listeners.delete(e))}else this.listeners.clear()},o.observe=function(e,t){this._settings||(this._settings={}),this._settings[e]=t,"function"==typeof this["_observe_"+e]&&this["_observe_"+e](t)},o.emit=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];l(e),this.listeners||(this.listeners=new Map);var a=this.listeners.get(e);a&&a.forEach(function(e){try{e.apply(null,n)}catch(e){console.error(e)}})},a}(r.default.Component),h=n(21);var f=function(){function e(e,t,n,r){var a,o,i;i=!0,(o="loopable")in(a=this)?Object.defineProperty(a,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[o]=i,this.selector=e,this.element=t,this.scrollSelector=n,this.initialFocusIndex=r||0,this.handleEvents=this.handleEvents.bind(this),this.isHoldingArrowUp=!0,this.isHoldingArrowDown=!0,this._mutationObserver=new MutationObserver(this.refresh.bind(this)),this._mutationObserver.observe(this.element,{childList:!0,subtree:!0,attributes:!0}),this.refresh([])}e.onBeforeKeyDown=function(){};var t=e.prototype;return t.setElement=function(e){this.element||(this.element=e)},t.onBeforeNavDown=function(){},t.onBeforeNavUp=function(){},t.setFocus=function(e,t){this._currentFocus=e,this.element.activeElement=e,t||(this.scrollIntoView(e),e&&e.focus())},t.destroy=function(){document.removeEventListener("keydown",this.handleEvents),document.removeEventListener("keyup",this.handleEvents),document.removeEventListener("focus",this.handleEvents),this._candidates=[],this._mutationObserver.disconnect(),this._currentFocus=null,this.element.activeElement=null,this.element=null},t.updateCandidates=function(){this._candidates=Array.from(this.element.querySelectorAll(this.selector))},t.isAriaHiddenByAncestor=function(){for(var e=!1,t=this.element;t!==document.body;){if("true"===t.getAttribute("aria-hidden")){e=!0;break}t=t.parentNode}return e},t.refresh=function(e){var t=this,n=!1,r=this.initialFocusIndex,a=!1;if(e.forEach(function(e){[].slice.call(e.removedNodes).forEach(function(e){e.contains(t._currentFocus)&&(n=!0,r=t.getElementIndex(t._currentFocus))}),e.addedNodes.length>0&&(n=!0,a=!0)}),this.updateCandidates(),a&&(r=this.getElementIndex(this._currentFocus)),n||(!this._currentFocus||this._currentFocus===this.element)&&this._candidates.length||this.element===document.activeElement){var o=r===this._candidates.length?this._candidates[this.initialFocusIndex]:this._candidates[r];o?(this._currentFocus=o,this.element.activeElement=o):(this._currentFocus=this.element,this.element.activeElement=null)}this.element.contains(document.activeElement)&&(this._currentFocus!==document.activeElement||a)&&(this.scrollIntoView(this._currentFocus),this._currentFocus.focus())},t.handleEvents=function(e){if("keydown"===e.type)this.onKeyDown(e);else if("keyup"===e.type)this.onKeyUp(e);else if("focus"===e.type){if(this._currentFocus&&this._currentFocus!==this.element)return this.scrollIntoView(this._currentFocus),void this._currentFocus.focus();var t=this.findNext();t?(this.scrollIntoView(t),t.focus(),this._currentFocus=t,this.element.activeElement=t):(this._currentFocus=this.element,this.element.activeElement=null)}},t.onKeyUp=function(e){"ArrowUp"===e.key?this.isHoldingArrowUp=!0:"ArrowDown"===e.key&&(this.isHoldingArrowDown=!0)},t.onKeyDown=function(e){this.constructor.onBeforeKeyDown(e);var t=null,n=!1;switch("Enter"===e.key||e.key,e.key){case"ArrowDown":n=!0,t=this.findNext(),!this.isHoldingArrowDown&&this.element.activeElement&&t.offsetTop<this.element.activeElement.offsetTop&&(t=null),this.isHoldingArrowDown=!1;break;case"ArrowUp":n=!0,t=this.findPrev(),!this.isHoldingArrowUp&&this.element.activeElement&&t.offsetTop>this.element.activeElement.offsetTop&&(t=null),this.isHoldingArrowUp=!1}t&&(this.scrollIntoView(t),t.focus(),this._currentFocus=t,this.element.activeElement=t,c.a.request("changeFocus")),n&&(e.stopPropagation(),e.preventDefault())},t.handleClick=function(e){var t=e.target;t.click();for(var n=0;n<t.children.length;n++)t.children[n].click()},t.handleKeydownForMonthView=function(e){var t=null,n=!1,r=null;switch(e){case"ArrowDown":n=!0,r=7;break;case"ArrowUp":n=!0,r=-7;break;case"ArrowLeft":n=!0,r=-1;break;case"ArrowRight":n=!0,r=1}if(!r)return{nextFocus:t,handled:n};var a=this.findNextFocus(null,r);return a.next<0?c.a.request("preMonth"):a.next>0?c.a.request("nextMonth"):t=a.candidateItem,{nextFocus:t,handled:n}},t.scrollIntoView=function(e){if(e)if(this.scrollSelector){for(var t=e,n=!1;t!==document.body;){if(t.matches(this.scrollSelector)){n=!0,t.scrollIntoView(!1);break}t=t.parentNode}n||e.scrollIntoView(!1)}else e.scrollIntoView(!1)},t.getInitialFocus=function(){var e=this._candidates;return e.length?e[this.initialFocusIndex]:null},t.getElementIndex=function(e){var t=this._candidates;if(!t||!t.length||!e)return 0;var n=0;return t.some(function(r,a){return r===e&&(n=a%t.length,!0)}),n},t.findNext=function(e){this.onBeforeNavDown(),e=e||document.activeElement;var t=this._candidates;if(!t.length)return null;var n=0;return t.some(function(r,a){return r===e&&(n=(a+1)%t.length,!0)}),0!==n||this.loopable?t[n]||t[this.initialFocusIndex]:null},t.findPrev=function(e){this.onBeforeNavUp(),e=e||document.activeElement;var t=this._candidates;if(!t.length)return null;var n=null;return t.some(function(r,a){return r===e&&(n=(t.length+a-1)%t.length,!0)}),t.length-1!==n||this.loopable?t[n]||t[this.initialFocusIndex]:null},t.findNextFocus=function(e,t){var n=null,r=this._candidates;if(e=e||document.activeElement,!r.length)return null;var a=0;return r.some(function(n,r){return n===e&&(a=r+t,!0)}),a>=0&&a<r.length&&(n=r[a],a=0),{next:a,candidateItem:n}},e}();n(512);function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n;function a(t){var n;return v(p(n=e.call(this,t)||this),"name","OptionMenu"),v(p(n),"FOCUS_SELECTOR",".menu-item"),n.state={header:"",options:[],onCancel:function(){}},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){this.element=r.default.findDOMNode(this),this.navigator=new f(this.FOCUS_SELECTOR,this.element);var e=this.element.querySelector('[data-index="0"]');e&&this.navigator.setFocus(e),this.updateSoftKeys()},o.componentWillUnmount=function(){this.navigator.destroy(),this.unregisterSoftKeys(),this.element=null},o.componentDidUpdate=function(){var e=this.element.querySelector('[data-index="0"]');e&&this.navigator.setFocus(e),this.isActive()&&(document.activeElement,document.body)},o.componentWillUpdate=function(){var e=this.element.querySelector('[data-index="0"]');e&&this.navigator.setFocus(e)},o.unregisterSoftKeys=function(){h.a.unregister(this.element)},o.updateSoftKeys=function(){var e={left:this.state.hasCancel?"cancel":"",center:"select",right:""};h.a.register(e,document)},o.clear=function(){this.setState({header:"",options:[],onCancel:function(){}})},o.show=function(t){var n=this;this.clear(),this.setState(t,function(){n.updateSoftKeys()}),e.prototype.show.call(this)},o.onKeyDown=function(e){e.target;var t=null;switch(e.key){case"Enter":e.stopPropagation(),e.preventDefault();var n=this.state.options[+e.target.dataset.index];n&&n.callback&&n.callback(),this.hide();break;case"ArrowUp":e.stopPropagation(),e.preventDefault(),t=this.navigator.findPrev();break;case"ArrowDown":e.stopPropagation(),e.preventDefault(),t=this.navigator.findNext();break;case"SoftLeft":if(!this.state.hasCancel)break;case"BrowserBack":case"Backspace":e.stopPropagation(),e.preventDefault(),this.state.onCancel&&this.state.onCancel(),this.hide()}t&&(t.scrollIntoView(!1),t.focus())},o.render=function(){var e=this,t=[];this.state.options.forEach(function(e,n){var a="";e.icon&&(a=r.default.createElement("img",{src:e.icon,className:"icon"}));var o="content"+(e.checked?" checked":"");t.push(r.default.createElement("div",{key:"option-"+n,tabIndex:"-1","data-index":n,className:"menu-item p-pri"},a,r.default.createElement("div",{className:o,"data-l10n-id":e.id||"","data-l10n-args":e.l10nArgs||null,"data-icon":e.dataicon||""},e.label||"")))});var n="option-menu-container";return this.state.customClass&&(n+=" "+n+"--"+this.state.customClass),r.default.createElement("div",{tabIndex:"-1",role:"heading","aria-labelledby":"option-menu-header",className:n,onKeyDown:function(t){return e.onKeyDown(t)}},r.default.createElement("div",{className:"option-menu"},r.default.createElement("div",{id:"option-menu-header",className:"header h1",key:"translated-header","data-l10n-id":this.state.header||"options"}),r.default.createElement("div",{className:"content p-ul"},this.props.children||t)))},a}(d);function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).state={menu:!1,options:null},c.a.register("showOptionMenu",g(n)),c.a.registerState("isShowOptionMenu",g(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.showOptionMenu=function(e){this.setState({menu:!0,options:e})},o.isShowOptionMenu=function(){return this.state.menu},o.componentDidUpdate=function(){var e=this;this.menu?(this.menu.show(this.state.options),this.menu.on("closed",function(t){e.setState({menu:!1}),c.a.request("optionClosed")})):c.a.request("focus")},o.render=function(){var e=this;return r.default.createElement("div",{id:"menu-root"},this.state.menu?r.default.createElement(m,{ref:function(t){e.menu=t}}):null)},a}(d);n(514);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){var t=e.content?{"data-icon":e.content.icon,"data-l10n-id":e.content.text}:null;return r.default.createElement("button",w({id:"software-keys-"+e.pos,className:"sk-button","data-position":e.pos},t))}var E=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).state={left:t.left||"",center:t.center||"",right:t.right||""},n.setRef=n.setRef.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n.softkeys=["left","right","center"],n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){var e=this;h.a.on("change",function(t){var n=h.a.currentKeys;e.softkeys.forEach(function(t){n[t]=e.uniformContent(n[t]||"")}),e.setState(n)})},o.componentWillUpdate=function(e,t){Array.from(this.element.getElementsByTagName("button")).forEach(function(e){t[e.dataset.position].text||(e.textContent="")})},o.uniformContent=function(e){return"string"==typeof e&&(e=e.startsWith("icon=")?{icon:e.replace("icon=","")}:{text:e}),e},o.setRef=function(e){this.element=e},o.render=function(){return r.default.createElement("form",{className:"skbar none-paddings visible focused",id:"softkeyPanel","data-type":"action",ref:this.setRef},r.default.createElement(b,{pos:"left",content:this.state.left}),r.default.createElement(b,{pos:"center",content:this.state.center}),r.default.createElement(b,{pos:"right",content:this.state.right}))},a}(d),D=n(9),S=n.n(D);n(518);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=0,_=function(e){var t,n;function a(t){var n;return A(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n=e.call(this,t)||this),"name","Dialog"),n.dialogContent=r.default.createRef(),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidUpdate=function(e,t){"prompt"===this.props.type&&(r.default.findDOMNode(this.refs.input).value=this.props.initialValue||"")},o.componentDidMount=function(){this.element=r.default.findDOMNode(this),this.content=this.element.querySelector(".content"),c.a.register("show",this),c.a.register("hide",this),this.updateSoftKeys()},o.scrollContent=function(e){if(this.content){var t=this.content.scrollHeight-this.content.clientHeight;if(0==this.content.scrollTop&&e<0||this.content.scrollTop==t&&e>0)return!1;var n,r=this.content.clientHeight-41;return e>0?n=this.content.scrollTop+r:e<0&&(n=this.content.scrollTop-r),n<0?n=0:n>t&&(n=t),this.content.scrollTo(0,n),!0}},o.updateSoftKeys=function(){if("custom"!==this.props.type)"alert"===this.props.type?h.a.register({left:"",center:"ok",right:""},r.default.findDOMNode(this)):"progress"===this.props.type?h.a.register({left:this.props.hideCancel?"":this.props.cancel||"cancel",center:"",right:""},r.default.findDOMNode(this)):h.a.register({left:this.props.cancel||"cancel",center:"",right:this.props.ok||"ok"},r.default.findDOMNode(this));else{var e=this.props.buttons;3===e.length?"alert"!==this.props.type?h.a.register({left:e[0].message,center:e[1].message,right:e[2].message},r.default.findDOMNode(this)):h.a.register({left:"",center:"ok",right:""},r.default.findDOMNode(this)):2===e.length?(h.a.register({left:e[0].message,center:"",right:e[1].message},r.default.findDOMNode(this)),h.a.register({center:"check-on"===r.default.findDOMNode(this.refs.checkbox).dataset.icon?"off":"on"},r.default.findDOMNode(this.refs.checkboxContainer))):1===e.length&&h.a.register({left:"",center:e[0].message,right:""},r.default.findDOMNode(this))}},o.focus=function(){this.focusIfPossible(),this.updateSoftKeys()},o.focusIfPossible=function(){if(!this.isHidden())if("custom"===this.props.type&&this.refs.checkboxContainer)r.default.findDOMNode(this.refs.checkboxContainer).focus();else if("prompt"===this.props.type)r.default.findDOMNode(this.refs.input).focus();else if(!this.props.noFocus){var e=document.querySelector(".dialog-container .content");e?e.focus():this.element.focus()}},o.hide=function(){"prompt"===this.props.type&&(r.default.findDOMNode(this.refs.input).value=this.props.initialValue||""),e.prototype.hide.call(this),c.a.request("focus"),c.a.request("hideDialog")},o.getInstanceID=function(){return this._id||(this._id=T,T++),this._id},o.onKeyDown=function(e){e.target;switch(e.key){case"ArrowDown":e.stopPropagation(),e.preventDefault(),this.scrollContent(1);break;case"ArrowUp":e.stopPropagation(),e.preventDefault(),this.scrollContent(-1);break;case"Enter":if(e.stopPropagation(),e.preventDefault(),"custom"===this.props.type){if(3===this.props.buttons.length){var t={selectedButton:1};if(this.props.showCheckbox){var n=r.default.findDOMNode(this.refs.checkbox).dataset.icon;t.checked="check-on"===n}this.props.onOk&&this.props.onOk(t),this.props.noClose||this.hide()}else if(this.props.showCheckbox&&document.activeElement===r.default.findDOMNode(this.refs.checkboxContainer)){n=r.default.findDOMNode(this.refs.checkbox).dataset.icon;r.default.findDOMNode(this.refs.checkbox).dataset.icon="check-on"===n?"check-off":"check-on",this.updateSoftKeys()}}else"alert"===this.props.type&&(this.props.onOk&&this.props.onOk(),this.props.noClose||this.hide());break;case"F1":case"SoftLeft":if(e.stopPropagation(),e.preventDefault(),"custom"===this.props.type){t={selectedButton:0};this.props.showCheckbox&&(t.checked="check-on"===r.default.findDOMNode(this.refs.checkbox).dataset.icon),this.props.onOk&&this.props.onOk(t)}else if("alert"!==this.props.type){if(this.props.hideCancel)return;this.props.onCancel&&this.props.onCancel()}"alert"!==this.props.type&&this.hide();break;case"F2":case"SoftRight":if(e.stopPropagation(),e.preventDefault(),this.props.hideCancel)return;if("custom"===this.props.type){t={selectedButton:3===this.props.buttons.length?2:1};this.props.showCheckbox&&(t.checked=r.default.findDOMNode(this.refs.checkbox).checked),this.props.onOk&&this.props.onOk(t)}else"prompt"===this.props.type?this.props.onOk&&this.props.onOk(r.default.findDOMNode(this.refs.input).value):"confirm"===this.props.type&&this.props.onOk&&this.props.onOk();this.props.noClose||"alert"===this.props.type||this.hide();break;case"BrowserBack":case"Backspace":case"EndCall":if("INPUT"===document.activeElement.tagName&&document.activeElement.value)return;if(e.stopPropagation(),e.preventDefault(),this.props.hideCancel)return;this.props.onBack&&this.props.onBack(),this.hide()}},o.render=function(){var e=this,t="";return this.props.header&&(t=this.props.translated?r.default.createElement("div",{className:"header h1",key:"no-translated-header",id:"dialog-header-"+this.getInstanceID()},this.props.header):r.default.createElement("div",{className:"header h1",key:"translated-header","data-l10n-id":this.props.header,id:"dialog-header-"+this.getInstanceID()})),r.default.createElement("div",{className:"dialog-container",tabIndex:"-1",onKeyDown:function(t){return e.onKeyDown(t)}},r.default.createElement("div",{role:"heading",className:"dialog","aria-labelledby":"dialog-header-"+this.getInstanceID()},t,this.props.children||r.default.createElement("div",{className:"content p-ul",ref:this.dialogContent,tabIndex:"-1"},this.props.translated?this.props.content:r.default.createElement("div",{"data-l10n-id":this.props.content}),"prompt"===this.props.type?r.default.createElement("input",{ref:"input",type:this.props.inputType,className:"primary",placeholder:this.props.placeholder,defaultValue:this.props.initialValue}):"","custom"===this.props.type&&this.props.showCheckbox?r.default.createElement("div",{tabIndex:"-1",ref:"checkboxContainer"},r.default.createElement("i",{ref:"checkbox","data-icon":this.props.checkboxCheckedByDefault?"check-on":"check-off"}),r.default.createElement("span",null,this.props.checkboxMessage)):"","progress"===this.props.type?r.default.createElement("div",null,r.default.createElement("p",null,this.props.progressValue,"/",this.props.progressMax),r.default.createElement("progress",{value:this.props.progressValue,max:this.props.progressMax})):"")))},a}(d);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}A(_,"defaultProps",{header:"",content:"",type:"confirm",inputType:"text",ok:"",cancel:"",onOk:null,onBack:null,onCancel:null,translated:!1,buttons:[],showCheckbox:!1,checkboxCheckedByDefault:!1,checkboxMessage:"",placeholder:"",initialValue:"",progressValue:"",progressMax:"",noClose:!1,noFocus:!1,hideCancel:!1}),A(_,"propTypes",{header:S.a.string,content:S.a.string,type:S.a.string,inputType:S.a.string,ok:S.a.string,cancel:S.a.string,onOk:S.a.func,onBack:S.a.func,onCancel:S.a.func,translated:S.a.bool,buttons:S.a.array,showCheckbox:S.a.bool,checkboxCheckedByDefault:S.a.bool,checkboxMessage:S.a.string,placeholder:S.a.string,initialValue:S.a.string,progressValue:S.a.string,progressMax:S.a.string});var k=function(e){var t,n;function a(t){var n,a,o,i;return n=e.call(this,t)||this,a=O(n),i=void 0,(o="dialog")in a?Object.defineProperty(a,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[o]=i,n.dialog=r.default.createRef(),n.state={dialog:!1,options:null},c.a.register("showDialog",O(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.showDialog=function(e){var t=this;this.setState({dialog:!0,options:e},function(){t.dialog.current.show()})},o.componentDidMount=function(){},o.render=function(){return r.default.createElement("div",{id:"dialog-root",className:this.state.dialog?"p-pri":"p-pri hidden"},r.default.createElement(_,I({ref:this.dialog},this.state.options)))},a}(d),C=n(13),M=n(227),x=n.n(M),R=n(51),N=Object(r.lazy)(function(){return Promise.all([n.e(1),n.e(0),n.e(3),n.e(5),n.e(8)]).then(n.bind(null,643))}),L=Object(r.lazy)(function(){return Promise.all([n.e(1),n.e(0),n.e(3),n.e(4),n.e(14)]).then(n.bind(null,642))}),F=Object(r.lazy)(function(){return Promise.all([n.e(1),n.e(0),n.e(3),n.e(4),n.e(10)]).then(n.bind(null,644))}),P=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,632))}),U=Object(r.lazy)(function(){return Promise.all([n.e(1),n.e(0),n.e(12)]).then(n.bind(null,645))}),j=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(2),n.e(21)]).then(n.bind(null,633))}),W=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(2),n.e(17)]).then(n.bind(null,634))}),B=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(2),n.e(20)]).then(n.bind(null,635))}),H=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(2),n.e(19)]).then(n.bind(null,636))}),Y=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(2),n.e(18)]).then(n.bind(null,637))}),q=Object(r.lazy)(function(){return n.e(13).then(n.bind(null,638))}),V=Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,639))}),K=Object(r.lazy)(function(){return n.e(15).then(n.bind(null,640))}),G=[{path:"/month",exact:!1,cache:!0,when:"always",Component:N},{path:"/week/",exact:!1,cache:!0,when:"always",Component:L},{path:"/day/",exact:!1,cache:!0,when:"always",Component:F},{path:"/agenda/",exact:!1,cache:!1,when:"always",Component:P},{path:"/settings/",exact:!1,cache:!1,when:"",Component:j},{path:"/addAccount/",exact:!1,cache:!1,when:"",Component:W},{path:"/loginCaldav/",exact:!1,cache:!1,when:"",Component:B},{path:"/deleteAccount/",exact:!1,cache:!1,when:"",Component:H},{path:"/changePassword/",exact:!1,cache:!1,when:"",Component:Y},{path:"/search/",exact:!1,cache:!1,when:"",Component:q},{path:"/eventDetails/",exact:!1,cache:!1,when:"",Component:V},{path:"/modifyEvent/",exact:!1,cache:!1,when:"",Component:U},{path:"/modifyAccount/",exact:!1,cache:!1,when:"",Component:Object(r.lazy)(function(){return Promise.all([n.e(5),n.e(16)]).then(n.bind(null,641))})},{path:"/addAccount/",exact:!1,cache:!1,when:"",Component:K}],z=r.default.createElement("div",{className:"loading-page"}),X=r.default.createElement(C.c,{to:"/month"});var J=n(2),Q=n(26),Z=n(164),$=n(94);n(585),n(587);function ee(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",function(){return ie});var re=r.default.createElement(y,null),ae=r.default.createElement(E,null),oe=r.default.createElement(k,null),ie=function(e){var t,n;function a(t){var n;return ne(te(n=e.call(this,t)||this),"alarms",void 0),ne(te(n),"DEFAULT_FREQUERCY","15"),ne(te(n),"DEFAULT_REMINDER","-300"),ne(te(n),"DEFAULT_ALLDAY_REMINDER","32400"),ne(te(n),"openDbSucc",void 0),n.state={themeFlag:t.themeFlag,dbOpen:!1},n.alarms=[],n.openDbSucc=!1,n.handleLoad=n.handleLoad.bind(te(n)),n.handleAccountChange=n.handleAccountChange.bind(te(n)),navigator.serviceWorker.addEventListener("message",function(e){console.log("Got msg from SW calendar: ",JSON.stringify(e.data));var t=e.data,r=null;switch(t.type){case"alarm":r=t.data.data.item,new Date<=new Date(r.busytimeEDate)&&(n.alarms.length>0?(window.DUMP("receive alarm first: "+JSON.stringify(r)),n.alarms.push(r)):(window.DUMP("receive alarm not first: "+JSON.stringify(r)),n.alarms.push(r),n.openDbSucc&&n.handleAlarmData()));break;case"notificationclick":n.handleNotification(t.data)}}),window.syncNum=0,n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.performance.mark("navigationLoaded"),window.performance.mark("navigationInteractive"),window.performance.mark("contentInteractive"),window.performance.mark("fullyLoaded"),Z.a.init(),window.noticeClick&&this.handleNotification(window.noticeClick),window.addEventListener("largetextenabledchanged",function(){document.body.classList.toggle("large-text",navigator.largeTextEnabled)}),document.body.classList.toggle("large-text",navigator.largeTextEnabled),t=localStorage.getItem("cal-settings"),o()(t)&&Object(J.O)("cal-settings",{standardAlarm:this.DEFAULT_REMINDER,alldayAlarm:this.DEFAULT_ALLDAY_REMINDER,syncFrequency:this.DEFAULT_FREQUERCY}),"calendarSyncEnable",window.calendarSync={},this.initCaldavCalendarSync(),SettingsObserver.getValue("calendarSyncEnable").then(function(e){for(var t in e)window.calendarSync[t]=e[t]},function(e){console.error("get calendarSyncEnable rejected:="+JSON.stringify(e))}),SettingsObserver.observe("calendarSyncEnable","",function(e){if(e)for(var t in e)window.calendarSync[t]=e[t]},!0),AccountManager.observe("activesync",this.handleAccountChange),AccountManager.observe("google",this.handleAccountChange),Q.a.openDbSuccFlag?this.handleLoad():Q.a.on("open-db-success",this.handleLoad);case 18:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ee(o,r,a,i,s,"next",e)}function s(e){ee(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}(),i.initCaldavCalendarSync=function(){var e=JSON.parse(Object(J.y)("caldav-accounts"));e&&e.forEach(function(e){"caldav"===e.authenticatorId&&(window.calendarSync["caldav:"+e.user]=!0)})},i.handleAccountChange=function(e){var t=e.state,n=e.accountId,r=e.authenticatorId;if(document.hidden&&"kaiaccount"!==r){switch(t){case 0:window.displayAccount.push({value:n,checked:!0,authenticatorId:r});break;case 1:window.displayAccount&&s()(window.displayAccount,function(t){return t.value===e.accountId}),delete window.calendarSync[r+":"+n]}Object(J.M)(window.displayAccount)}},i.handleLoad=function(){var e=this;this.openDbSucc=!0,LazyLoader.load(["http://shared.localhost/js/helper/softkey/softkey_register.js"]),this.setState({dbOpen:!0},function(){$.a.emit("synccalendar"),e.handleAlarmData()})},i.handleAlarmData=function(){var e=this;this.alarms.length>0&&(window.DUMP("handleAlarmData length: "+this.alarms.length),Q.a.findAndDeleteAlarm(this.alarms[0]),Q.a.once("process-next-alarm-item",function(){e.alarms.shift(),e.handleAlarmData()}))},i.handleNotification=function(e){var t=document.getElementById("launch-view"),n=document.getElementById("root");t.classList.add("hidden"),n.classList.remove("hidden"),SettingsObserver.getValue("locale.hour12").then(function(t){window.api.hour12=t,R.a.push("/eventDetails",{event:e})},function(t){console.error("get locale.hour12 rejected:="+JSON.stringify(t)),R.a.push("/eventDetails",{event:e})})},i.render=function(){var e=this;return r.default.createElement("div",{tabIndex:"-1",ref:function(t){e.element=t}},r.default.createElement(C.e,{history:R.a},r.default.createElement(r.Suspense,{fallback:z},r.default.createElement(C.d,{exact:!0,path:"/",render:function(){return X}}),G.map(function(e){var t=e.path,n=e.Component,a=e.cache,o=e.when;return a?r.default.createElement(x.a,{path:t,key:t,when:o,behavior:function(e){return e?{className:"cache-route-cached"}:{className:"cache-route-uncached"}},component:n}):r.default.createElement(C.d,{path:t,key:t,component:n})}))),re,ae,oe)},a}(r.default.Component),se=document.getElementById("root");window.selectedDate=new Date,window.firstEnterMonth=!1;var ce=r.default.createElement(ie,{themeFlag:!0});null!==se&&window.api.l10n.once(function(){r.default.render(ce,se)})},81:function(e,t,n){var r;void 0===(r=function(e,t){"use strict";var n={},r=["get-account","get-calendar-home","get-calendar","get-events","create-event","delete-event"];function a(e){var t;for(t in void 0===e&&(e={}),e)Object.hasOwnProperty.call(e,t)&&(this[t]=e[t]);this.headers={"Content-Type":"text/xml",Depth:0},this.callback=function(){console.log("callback not exist")},this.rootTag="propfind",this.rootAttrs={},this.activeNamespaces={},this.proplist=[],this.handleState=null,this.xhr=null,this.calendarArr=[],this.eventArr=[]}return a.prototype={defaultNamespace:"dav",doctype:'<?xml version="1.0" encoding="UTF-8"?>',_nsId:0,xmlns:{dav:"DAV:",calserver:"http://calendarserver.org/ns/",ical:"http://apple.com/ns/ical/",caldav:"urn:ietf:params:xml:ns:caldav"},getTemplate:function(e){var t=this.doctype;return t+=this.tag(this.rootTag,this.rootAttrs,e)},registerTag:function(e,t){if(e in this.xmlns&&(e=this.xmlns[e]),e in this.activeNamespaces)e=this.activeNamespaces[e];else{var n="N"+this._nsId++;this.activeNamespaces[e]=n,this.rootAttrs["xmlns:"+n]=e,e=n}return e+":"+t},tag:function(e,t,n){"string"==typeof t&&(n=t,t={}),void 0===n&&(n=!1),t&&"function"==typeof t.render&&(n=t.render(this),t={}),"string"==typeof e&&(e=[this.defaultNamespace,e]);var r,a=this.registerTag(e[0],e[1]),o="";for(r in o+="<"+a,t)o+=" "+r+'="'+t[r]+'"';return o+=n?">"+n+"</"+a+">":" />"},disconnect:function(){this.headers={},this.callback=function(){console.log("callback not exist")},this.rootTag=null,this.rootAttrs={},this.activeNamespaces={},this.proplist=[],this.handleState=null,this.xhr=null,this.calendarHome=null,this.calendarTag=null,this.entrypoint=null,this.domain=null,this.password=null,this.user=null,this.providerType=null,this.preset=null},credentials:function(e,t){return"Basic "+window.btoa(e+":"+t)},buildXHR:function(){var e,t=this,n=new XMLHttpRequest({mozSystem:!0,mozAnon:!0});for(e in n.open(this.method,this.url,!0),n.setRequestHeader("Authorization",this.credentials(this.user,this.password)),n.responseType="moz-chunked-text",this.headers)Object.hasOwnProperty.call(this.headers,e)&&n.setRequestHeader(e,this.headers[e]);return n.onreadystatechange=function(){4===n.readyState&&(n.status<=199||n.status>=300?t.callback&&t.callback(n.status,n):t.handleResponseText(n.responseText))},n},send:function(){var e=this.buildXHR(),t=this.createPayload();e.send(t)},prop:function(e,t,n){this.proplist.push(this.tag(e,t,n))},createPayload:function(){var e=this.tag("prop",this.proplist.join(""));return this.getTemplate(e)},handleResponseText:function(e){switch(this.handleState){case"get-account":var t=this.handleGetAccountData(e);this.getCalendarhome(t);break;case"get-calendar-home":this.handleGetCalendarHomeData(e),this.callback&&this.callback(null,this.calendarTag);break;case"get-calendar":this.handleGetCalendarData(e),this.callback&&this.callback(null,this.calendarArr);break;case"get-events":this.handleGetEvents(e),this.callback&&this.callback(null,this.eventArr);break;case"create-event":case"delete-event":this.callback&&this.callback()}},handleGetAccountData:function(e){var t=e,n=0,r=0;n=t.indexOf("<DAV:current-user-principal>"),r=t.indexOf("</DAV:current-user-principal>"),-1!==n&&-1!==r&&(n=(t=t.substring(n+"<DAV:current-user-principal>".length,r)).indexOf("<DAV:href>"),r=t.indexOf("</DAV:href>"),-1!==n&&-1!==r&&(this.calendarHome=t.substring(n+"<DAV:href>".length,r)))},handleGetCalendarHomeData:function(e){var t=e,n=0,r=0;n=t.indexOf("<calendar-home-set>"),r=t.indexOf("</calendar-home-set>"),-1!==n&&-1!==r&&(n=(t=t.substring(n+"<calendar-home-set>".length,r)).indexOf("<DAV:href>"),r=t.indexOf("</DAV:href>"),-1!==n&&-1!==r&&(this.calendarTag=t.substring(n+"<DAV:href>".length,r)))},handleGetCalendarData:function(e){for(var t=e,n=t.indexOf("<DAV:response>"),r=-1;-1!==n&&-1!==(r=t.indexOf("</DAV:response>",n+1));){var a=this.getData(t,"DAV:response","DAV:href");a&&a!==this.calendarTag&&this.calendarArr.push(a),t=t.substring(r+"</DAV:response>".length)}},handleGetEvents:function(e){for(var t=e,n=t.indexOf("BEGIN:VCALENDAR"),r=-1;-1!==n&&-1!==(r=t.indexOf("END:VCALENDAR",n+1));){var a=t.substring(n+"BEGIN:VCALENDAR".length,r);this.eventArr.push(this.handleEventString(a)),n=(t=t.substring(r+"END:VCALENDAR".length)).indexOf("BEGIN:VCALENDAR")}},handleEventString:function(e){var t=e.indexOf("BEGIN:VEVENT"),n=e.indexOf("END:VEVENT");for(var r=e.substring(t+"BEGIN:VEVENT".length,n).split("\r\n"),a={},o=0;o<r.length;o++)if(""!==r[o]){var i=r[o].split(":");""===i[0]||i.length<2||(-1!==i[0].indexOf("DTSTART")?a.DTSTART=i[1]:-1!==i[0].indexOf("DTEND")?a.DTEND=i[1]:-1!==i[0].indexOf("TRIGGER")?a.TRIGGER=i[1]:"DESCRIPTION"===i[0]?a[i[0]]=a[i[0]]||i[1]:a[i[0]]=i[1])}return a},getData:function(e,t,n){var r="<"+t+">",a="</"+t+">",o="<"+n+">",i="</"+n+">",s=e,c=0,l=0;if(c=s.indexOf(r),l=s.indexOf(a),-1!==c&&-1!==l)return c=(s=s.substring(c+r.length,l)).indexOf(o),l=s.indexOf(i),-1===c||-1===l?null:s.substring(c+o.length,l)},getAccount:function(e,t){this.callback=t,this.handleState=r[0],this.url=this.domain,this.method="PROPFIND",this.prop("current-user-principal"),this.prop("principal-URL"),this.send()},getCalendarhome:function(){this.handleState=r[1],this.url=this.domain+this.calendarHome,this.method="PROPFIND",this.activeNamespaces={},this.proplist=[],this._nsId=0,this.prop(["caldav","calendar-home-set"]);var e=this.createPayload();this.buildXHR(function(){}).send(e)},getCalendar:function(e,t){this.handleState=r[2],this.callback=t,this.method="PROPFIND",this.headers.Depth=1,this.prop(["ical","calendar-color"]),this.prop(["caldav","calendar-description"]),this.prop("current-user-privilege-set"),this.prop("displayname"),this.prop("resourcetype"),this.prop(["calserver","getctag"]);var n=this.createPayload();this.url=this.domain,this.buildXHR(function(){}).send(n)},getCaldavEvents:function(e,t){this.handleState=r[3],this.callback=t,this.method="REPORT",this.headers.Depth=1,this.url=this.domain;var n='\n        <?xml version="1.0" encoding="UTF-8"?>\n          <N1:calendar-query xmlns:N0="DAV:" xmlns:N1="urn:ietf:params:xml:ns:caldav">\n            <N0:prop>\n              <N0:getetag />\n              <N1:calendar-data>\n                <N1:comp name="VCALENDAR" />\n              </N1:calendar-data>\n            </N0:prop>\n            <N1:filter>\n              <N1:comp-filter name="VCALENDAR">\n                <N1:comp-filter name="VEVENT">\n                  <N1:time-range start="'+e.startDate+'" />\n                </N1:comp-filter>\n              </N1:comp-filter>\n            </N1:filter>\n          </N1:calendar-query>\n      ';n=n.replace(/[\r\n]\s*/g,""),this.buildXHR().send(n)},createEvent:function(e,t){this.handleState=r[4],this.callback=t,this.method="PUT",this.headers={"Content-Type":"text/calendar"},this.url=this.domain,this.buildXHR().send(e.event)},deleteEvent:function(e,t){this.handleState=r[5],this.callback=t,this.method="DELETE",this.headers={"Content-Type":"text/calendar"},this.url=this.domain,this.buildXHR().send()}},n.Connection=a,n}.call(t,n,t,e))||(e.exports=r)},93:function(e,t,n){var r;void 0===(r=function(e,t,r){"use strict";var a=n(226),o=n(559),i=(t={},"KaiOS ActiveSync Client"),s=["0","-300","-900","-1800","-3600","-7200","-86400"],c=["32400","-54000","-140400","-572400","-1177200"];function l(){}function u(e,t,n){function r(){var e=this instanceof r?this:Object.create(r.prototype),t=Error(),a=1;if(e.stack=t.stack.substring(t.stack.indexOf("\n")+1),e.message=arguments[0]||t.message,n){a+=n.length;for(var o=0;o<n.length;o++)e[n[o]]=arguments[o+1]}var i=/@(.+):(.+)/.exec(e.stack);return e.fileName=arguments[a]||i&&i[1]||"",e.lineNumber=arguments[a+1]||i&&i[2]||0,e}return r.prototype=Object.create((t||Error).prototype),r.prototype.name=e,r.prototype.constructor=r,r}var d=u("ActiveSync.AutodiscoverError");t.AutodiscoverError=d;var h=u("ActiveSync.AutodiscoverDomainError",d);t.AutodiscoverDomainError=h;var f=u("ActiveSync.HttpError",null,["status"]);function p(e){var t="http://schemas.microsoft.com/exchange/autodiscover/";return{rq:t+"mobilesync/requestschema/2006",ad:t+"responseschema/2006",ms:t+"mobilesync/responseschema/2006"}[e]||null}function v(e){var t=e.split(".").map(function(e){return parseInt(e)});this.major=t[0],this.minor=t[1]}function m(e,t,n){var r="Basic "+btoa(t+":"+n);e.setRequestHeader("Authorization",r)}function g(e,t,n,r,a){r||(r=l);var o=e.substring(e.indexOf("@")+1);y("autodiscover."+o,e,t,n,a,function(i,s){i instanceof h||i instanceof f?y(o,e,t,n,a,r):r(i,s)})}function y(e,t,n,r,a,o){return w("https://"+e+"/autodiscover/autodiscover.xml",t,n,r,a,o)}function w(e,t,n,r,a,o){var s=new XMLHttpRequest({mozSystem:!0,mozAnon:!0});s.open("POST",e,!0),m(s,t,n),s.setRequestHeader("Content-Type","text/xml"),s.setRequestHeader("User-Agent",i),s.timeout=r,s.upload.onprogress=s.upload.onload=function(){s.timeout=0},s.onload=function(){if(s.status<200||s.status>=300)return o(new f(s.statusText,s.status));var e=Math.random();self.postMessage({uid:e,type:"configparser",cmd:"accountactivesync",args:[s.responseText,a]}),self.addEventListener("message",function t(a){var i=a.data;if("configparser"==i.type&&"accountactivesync"==i.cmd&&i.uid==e){self.removeEventListener(a.type,t);var s=i.args,c=s[0],l=s[1],u=s[2];l?o(new h(l),c):u?g(u,n,r,o,!0):o(null,c)}})},s.ontimeout=s.onerror=function(){o(new f("Error getting Autodiscover URL",null))};var c='<?xml version="1.0" encoding="utf-8"?>\n<Autodiscover xmlns="'+p("rq")+'">\n  <Request>\n    <EMailAddress>'+t+"</EMailAddress>\n    <AcceptableResponseSchema>"+p("ms")+"</AcceptableResponseSchema>\n  </Request>\n</Autodiscover>";s.send(c)}function b(e,t,n,r){this._deviceId=e||"v140Device",this._deviceType=n||"KaiOS",this.timeout=0,this.workerHelper=r.workerHelper,this.format=r.format,this.formatHourMinute=r.formatHourMinute,this.getLocalStorageItem=r.getLocalStorageItem,this.isEqual=r.isEqual,this._connected=!1,this._waitingForConnection=!1,this._connectionError=null,this._connectionCallbacks=[],this.baseUrl=null,this._username=null,this._password=null,this._accountId=null,this._app=null,this.SyncKey=null,this.CollectionId=null,this.versions=[],this.supportedCommands=[],this.currentVersion=null,this.policyKey=t||0,this.onmessage=null}return t.HttpError=f,t.Version=v,v.prototype={eq:function(e){return e instanceof v||(e=new v(e)),this.major===e.major&&this.minor===e.minor},ne:function(e){return!this.eq(e)},gt:function(e){return e instanceof v||(e=new v(e)),this.major>e.major||this.major===e.major&&this.minor>e.minor},gte:function(e){return e instanceof v||(e=new v(e)),this.major>=e.major||this.major===e.major&&this.minor>=e.minor},lt:function(e){return!this.gte(e)},lte:function(e){return!this.gt(e)},toString:function(){return this.major+"."+this.minor}},t.autodiscover=g,t.raw_autodiscover=w,t.Connection=b,b.prototype={_notifyConnected:function(e){e&&this.disconnect();for(var t=0;t<this._connectionCallbacks.length;t++){var n=this._connectionCallbacks[t];n.apply(n,arguments)}this._connectionCallbacks=[]},get connected(){return this._connected},open:function(e,t,n,r,a){this.baseUrl=e,this.baseUrl.endsWith("/Microsoft-Server-ActiveSync")||(this.baseUrl+="/Microsoft-Server-ActiveSync"),this._username=t,this._password=n,this._accountId=r?r.toLowerCase():null,this._app=a},connect:function(e){this.connected?e&&e(null):(e&&this._connectionCallbacks.push(e),this._waitingForConnection||(this._waitingForConnection=!0,this._connectionError=null,this.getOptions(function(t,n){var r=this;if(this._waitingForConnection=!1,this._connectionError=t,t)return console.error("Error connecting to ActiveSync:",t),this._notifyConnected(t,n);this._connected=!0,this.versions=n.versions,this.supportedCommands=n.commands,this.currentVersion=new v(n.versions.slice(-1)[0]),this.enforcement(function(t,i){var s="Error get Security Policy for ActiveSync: ";if(t)return console.error(s,t),r._notifyConnected(t,n);var c=new a.EventParser,l=(o.AirSync.Tags,o.Common.Enums,o.FolderHierarchy.Enums,o.FolderHierarchy.Tags);c.addEventListener([l.FolderSync,l.Changes,[l.Add,l.Delete,l.Update]],function(t){for(var r=this,i={},s=0;s<t.children.length;s++){var c=t.children[s];i[c.localTagName]=c.children[0].textContent}"8"===i.Type&&(this.CollectionId=i.ServerId,this.getSynckey(function(t,i){var s="Error get Security Policy for ActiveSync: ";if(t)return console.error(s,t),r._notifyConnected(t,n);var c=new a.EventParser,l=o.AirSync.Tags;o.Common.Enums,o.FolderHierarchy.Enums,o.FolderHierarchy.Tags;c.addEventListener([l.Sync,l.Collections,l.Collection,l.SyncKey],function(t){this.SyncKey=t.children[0].textContent,e()}.bind(r));try{c.run(i)}catch(e){console.error(s,e)}}.bind(this)))}.bind(r));try{c.run(i)}catch(e){console.error(s,e)}}.bind(this))}.bind(this))))},disconnect:function(){if(this._waitingForConnection)throw new Error("Can't disconnect while waiting for server response");this._connected=!1,this.versions=[],this.supportedCommands=[],this.currentVersion=null,this.SyncKey=null,this.CollectionId=null},getDeviceInfo:function(e){var t=Math.random();self.postMessage({uid:t,type:"deviceInfo",cmd:"get"}),self.addEventListener("message",function n(r){if("deviceInfo"==(o=r.data).type&&"get"==o.cmd&&o.uid==t){self.removeEventListener(r.type,n);var a=o.args,o=a[0],i=a[1];i?e(null,i):e(o)}})},provision:function(e,t){var n=o.Provision.Tags,r=o.Settings.Tags,i=new a.Writer("1.3",1,"UTF-8");i.stag(n.Provision),!e&&this.currentVersion.gte("12.0")?this.getDeviceInfo(function(e,a){a&&t(a),i.stag(r.DeviceInformation).stag(r.Set).tag(r.FriendlyName,e.deviceName).tag(r.Model,e.modelName).tag(r.IMEI,e.imei).tag(r.OS,e.OSName).tag(r.OSLanguage,e.OSLanguage),e.phoneNumber.length>0&&i.tag(r.PhoneNumber,e.phoneNumber),this.currentVersion.gte("14.0")&&i.tag(r.MobileOperator,e.operatorName),i.etag().etag(),i.stag(n.Policies).stag(n.Policy).tag(n.PolicyType,"MS-EAS-Provisioning-WBXML"),i.etag().etag().etag(),this.postCommand(i,t)}.bind(this)):(i.stag(n.Policies).stag(n.Policy).tag(n.PolicyType,"MS-EAS-Provisioning-WBXML"),e&&i.tag(n.PolicyKey,this.policyKey).tag(n.Status,1),i.etag().etag().etag(),this.postCommand(i,t))},enforcementOld:function(e){var t=o.FolderHierarchy.Tags,n=new a.Writer("1.3",1,"UTF-8");n.stag(t.FolderSync).tag(t.SyncKey,"0").etag(),this.postCommand(n,e)},getSynckeyOld:function(e){var t=o.AirSync.Tags,n=new a.Writer("1.3",1,"UTF-8");n.stag(t.Sync).stag(t.Collections).stag(t.Collection).tag(t.SyncKey,"0").tag(t.CollectionId,"1").etag().etag().etag(),this.postCommand(n,e)},getPolicyKey:function(e,t){this.provision(e,function(n,r){n&&t(n);var i=new a.EventParser,s=o.Provision.Tags,c=[s.Provision,s.Policies,s.Policy];i.addEventListener(c.concat(s.PolicyKey),function(e){this.policyKey=e.children[0].textContent,t(null)}.bind(this)),e||i.addEventListener(c.concat([s.Data,s.EASProvisionDoc]),function(e){this.securitySettings(s,e)}.bind(this));try{i.run(r)}catch(e){t(e)}}.bind(this))},securitySettings:function(e,t){for(var n=0;n<t.children.length;n++){var r=t.children[n];r.children.length&&r.children[0].textContent;switch(r.tag){case e.DevicePasswordEnabled:case e.AlphanumericDevicePasswordRequired:case e.PasswordRecoveryEnabled:case e.RequireStorageCardEncryption:case e.AttachmentsEnabled:case e.MinDevicePasswordLength:case e.MaxInactivityTimeDeviceLock:case e.MaxAttachmentSize:case e.MaxDevicePasswordFailedAttempts:case e.AllowSimpleDevicePassword:case e.DevicePasswordExpiration:case e.DevicePasswordHistory:}}},wipeCommand:function(e,t,n){var r=new a.Writer("1.3",1,"UTF-8");r.stag(e.Provision),t&&r.stag(e.RemoteWipe).tag(e.Status,1).etag(),r.etag(),this.postCommand(r,function(t,r){var o=new a.EventParser;t&&n(t),o.addEventListener([e.Provision,e.Status],function(e){var t=e.children[0].textContent;if("1"===t)n(null);else{var r="Remote wipe error, error status: "+t;console.error(r),n(r)}});try{o.run(r)}catch(e){n(e)}})},deviceWipe:function(e){var t=o.Provision.Tags;this.wipeCommand(t,!1,function(n){n?e(n):this.wipeCommand(t,!0,function(t){if(t)e(t);else{e(null);var n=Math.random();self.postMessage({uid:n,type:"deviceInfo",cmd:"reset"})}})}.bind(this))},getOptions:function(e){e||(e=l);var t=this,n=new XMLHttpRequest({mozSystem:!0,mozAnon:!0});n.open("OPTIONS",this.baseUrl,!0),m(n,this._username,this._password),n.setRequestHeader("User-Agent",i),n.timeout=this.timeout,n.upload.onprogress=n.upload.onload=function(){n.timeout=0},n.onload=function(){if(n.status<200||n.status>=300)return console.error("ActiveSync options request failed with response "+n.status),t.onmessage&&t.onmessage("options","error",n,null,null,null,null),void e(new f(n.statusText,n.status));var r={versions:n.getResponseHeader("MS-ASProtocolVersions").split(/\s*,\s*/),commands:n.getResponseHeader("MS-ASProtocolCommands").split(/\s*,\s*/)};t.onmessage&&t.onmessage("options","ok",n,null,null,null,r),e(null,r)},n.ontimeout=n.onerror=function(){var r=new Error("Error getting OPTIONS URL");console.error(r),t.onmessage&&t.onmessage("options","timeout",n,null,null,null,null),e(r)},n.responseType="text",n.send()},supportsCommand:function(e){if(!this.connected)throw new Error("Connection required to get command");return"number"==typeof e&&(e=o.__tagnames__[e]),-1!==this.supportedCommands.indexOf(e)},doCommand:function(){console.warn("doCommand is deprecated. Use postCommand instead."),this.postCommand.apply(this,arguments)},postCommand:function(e,t,n,r,a){if("string"==typeof e||"number"==typeof e)this.postData(e,"application/vnd.ms-sync.wbxml",null,t,n,r);else{var i=o.__tagnames__[e.rootTag];this.postData(i,"application/vnd.ms-sync.wbxml","blob"===e.dataType?e.blob:e.buffer,t,n,r,a)}},postData:function(e,t,n,r,s,c,l){if("number"==typeof e&&(e=o.__tagnames__[e]),!this.supportsCommand(e)){var u=new Error("This server doesn't support the command "+e);return console.error(u),void r(u)}var d=[["Cmd",e],["User",this._username],["DeviceId",this._deviceId],["DeviceType",this._deviceType]];if(s){for(var h in Iterator(d)){if(h[1][0]in s)throw new TypeError("reserved URL parameter found")}for(var p in Iterator(s))d.push(p)}var v=d.map(function(e){return encodeURIComponent(e[0])+"="+encodeURIComponent(e[1])}).join("&"),g=new XMLHttpRequest({mozSystem:!0,mozAnon:!0});if(g.open("POST",this.baseUrl+"?"+v,!0),m(g,this._username,this._password),g.setRequestHeader("MS-ASProtocolVersion",this.currentVersion),g.setRequestHeader("Content-Type",t),g.setRequestHeader("User-Agent",i),c)for(var h in Iterator(c)){var y=h[0],w=h[1];g.setRequestHeader(y,w)}g.timeout=this.timeout,g.upload.onprogress=g.upload.onload=function(){g.timeout=0},g.onprogress=function(e){l&&l(e.loaded,e.total)};var b=this,E=arguments;g.onload=function(){if(451===g.status)return b.baseUrl=g.getResponseHeader("X-MS-Location"),b.onmessage&&b.onmessage(e,"redirect",g,d,c,n,null),void b.postData.apply(b,E);if(g.status<200||g.status>=300)return console.error("ActiveSync command "+e+" failed with response "+g.status),b.onmessage&&b.onmessage(e,"error",g,d,c,n,null),void r(new f(g.statusText,g.status));var t=null;g.response.byteLength>0&&(t=new a.Reader(new Uint8Array(g.response),o)),b.onmessage&&b.onmessage(e,"ok",g,d,c,n,t),r(null,t)},g.ontimeout=g.onerror=function(t){var a=new Error("Command URL "+t.type+" for command "+e+" at baseUrl "+this.baseUrl);console.error(a),b.onmessage&&b.onmessage(e,t.type,g,d,c,n,null),r(a)}.bind(this),g.responseType="arraybuffer",g.send(n)},getSynckey:function(e){var t=o.AirSync.Tags,n=new a.Writer("1.3",1,"UTF-8");n.stag(t.Sync).stag(t.Collections).stag(t.Collection).tag(t.SyncKey,"0").tag(t.CollectionId,this.CollectionId).etag().etag().etag(),this.postCommand(n,e)},enforcement:function(e){var t=o.FolderHierarchy.Tags,n=new a.Writer("1.3",1,"UTF-8");n.stag(t.FolderSync).tag(t.SyncKey,"0").etag(),this.postCommand(n,e)},syncData:function(e){var t=o.AirSync.Tags,n=o.AirSyncBase.Tags,r=o.AirSyncBase.Enums.Type,i=new a.Writer("1.3",1,"UTF-8"),s=o.AirSync.Enums.FilterType.ThreeMonthsBack;i.stag(t.Sync).stag(t.Collections).stag(t.Collection).tag(t.SyncKey,this.SyncKey).tag(t.CollectionId,this.CollectionId).tag(t.DeletesAsMoves).tag(t.GetChanges).stag(t.Options).tag(t.FilterType,s).stag(n.BodyPreference).tag(n.Type,r.PlainText).etag().etag().etag().etag().etag(),this.postCommand(i,e)},dateToTransport:function(e,t,n){var r=Object.create(null);n&&(r.isDate=n),t&&(r.tzid=t);var a=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());if(n||t&&"floating"===t)r.utc=a,r.offset=0,r.tzid="floating";else{var o=a-e.valueOf();r.utc=a,r.offset=o}return r},proSyncDate:function(e){var t=new Date;return t.setUTCFullYear(parseInt(e.substring(0,4))),t.setUTCMonth(parseInt(e.substring(4,6))-1),t.setUTCDate(parseInt(e.substring(6,8))),t.setUTCHours(parseInt(e.substring(9,11))),t.setUTCMinutes(parseInt(e.substring(11,13))),t.setUTCSeconds(parseInt(e.substring(13,15))),t.setUTCMilliseconds(0),t},proAlldayDate:function(e){if(0===e.getUTCHours()&&0===e.getUTCMinutes()&&0===e.getUTCSeconds()){var t=(new Date).getTimezoneOffset();return new Date(e.valueOf()+6e4*t)}return e},addCalendarBusytime:function(e){var t={eventId:e.UID,isException:!1,alarms:[]},n=this.proSyncDate(e.StartTime),r=this.proSyncDate(e.EndTime);"1"===e.AllDayEvent&&(n=this.proAlldayDate(n),r=this.proAlldayDate(r)),t.start=this.dateToTransport(n,null,!1),t.end=this.dateToTransport(r,null,!1),t.recurrenceId=t.start;var a="1"===e.AllDayEvent,o=this.getReminderData(e.Reminder,a);t.alarms.push({action:"DISPLAY",trigger:o,tzid:null}),this.stream.emit("occurrence",t)},addCalendarEvent:function(e){var t={id:e.UID,title:e.Subject,location:e.Location,recurrenceId:null,isRecurring:!1,description:null,serverId:e.serverId,isAllDay:"1"===e.AllDayEvent},n=this.proSyncDate(e.StartTime),r=this.proSyncDate(e.EndTime);"1"===e.AllDayEvent&&(n=this.proAlldayDate(n),r=this.proAlldayDate(r)),t.start=this.dateToTransport(n,null,!1),t.end=this.dateToTransport(r,null,!1);var a=this.getReminderData(e.Reminder,t.isAllDay);t.alarms=[],t.alarms.push({action:"DISPLAY",trigger:a,tzid:null}),this.stream.emit("event",t)},getAddEventItem:function(e){var t=this.proSyncDate(e.StartTime),n=this.proSyncDate(e.EndTime);"1"===e.AllDayEvent&&(t=this.proAlldayDate(t),n=this.proAlldayDate(n),n=new Date(n.valueOf()-1e3));var r="1"===e.AllDayEvent,a=this.getReminderData(e.Reminder,r),o=e.repeat?this.getRecurrenceUntil(e):null;return{uuid:e.UID,title:e.Subject||"",location:e.Location||"",allDayEvent:r,startDate:this.format(t,"MM/DD/YYYY"),endDate:this.format(n,"MM/DD/YYYY"),startTime:r?null:this.formatHourMinute(new Date(t.valueOf())),endTime:r?null:this.formatHourMinute(new Date(n.valueOf())),repeat:this.decodeRecurrenceRule(e),reminder:a,description:e.description?e.description:null,eventSDate:t,eventEDate:n,repeatSDate:t,repeatEDate:o,account:this._username,serverId:e.serverId,authenticatorId:"activesync"}},getReminderData:function(e,t){var n=-1*parseInt(e)*60,r=JSON.parse(this.getLocalStorageItem("cal-settings")),a=r?r.standardAlarm:"-300",o=r?r.alldayAlarm:"32400";return n=n.toString(),this.getLocalStorageItem,e?t?c.includes(n)?n:o:s.includes(n)?n:a:"none"},decodeRecurrenceRule:function(e){var t="never";return"0"===e.Type&&"1"===e.Interval?t="every day":"1"===e.Type&&"1"===e.Interval?t="every week":"1"===e.Type&&"2"===e.Interval?t="every 2 weeks":"2"===e.Type&&"1"===e.Interval&&(t="every month"),t},recurrenceData:function(e){var t={},n=this.decodeRecurrenceRule(e);t.remote={title:e.Subject,id:e.UID,serverId:e.serverId,location:e.Location,repeat:"every day",description:null,recurrenceId:null,isRecurring:!0,isAllDay:"1"===e.AllDayEvent,preset:"activesync"},t.remote.repeat=n;var r=this.proSyncDate(e.StartTime),a=this.proSyncDate(e.EndTime);if(t.remote.isAllDay){var o=60*(new Date).getTimezoneOffset()*1e3;r=new Date(r.valueOf()+o),a=new Date(a.valueOf()+o)}t.remote.startDate=r,t.remote.endDate=a,t.remote.start=this.dateToTransport(r,null,!1),t.remote.end=this.dateToTransport(a,null,!1),t.remote.alarms=[],t.calendarId=this.calendar._id;var i=this.getReminderData(e.Reminder,t.remote.isAllDay);return t.remote.alarms.push({action:"DISPLAY",trigger:i,tzid:null}),t},getRecurrenceUntil:function(e){if(!e.Until)return null;var t=e.Until,n=t.substring(0,4)+"-"+t.substring(4,6)+"-"+t.substring(6,8)+" "+t.substring(9,11)+":"+t.substring(11,13)+":"+t.substring(13,15),r=new Date(n),a=r.valueOf()-6e4*r.getTimezoneOffset();return new Date(a)},addRecurenceCalendar:function(e){if(e.UID!==this._app.actDelForUpdate){var t=this.recurrenceData(e),n=this.getRecurrenceUntil(e);Local.prototype.createEvent(t,null,null,n,"noexpand")}},deleteCalendarEvent:function(e){var t=dayObserver.getEventsToBusytimes().get(e._id);if(t){var n=t[0];dayObserver.findAssociated(n).then(function(e){Local.prototype.deleteEvent.call(self,e.event,e.busytime)})}},eventsSame:function(e,t){return e.account===t.account&&e.allDayEvent===t.allDayEvent&&this.isEqual(e.eventEDate,t.eventEDate)&&this.isEqual(e.eventSDate,t.eventSDate)&&e.description===t.description&&e.location===t.location&&e.reminder===t.reminder&&e.repeat===t.repeat&&e.title===t.title},getSyncData:function(e,t){var n=this,r=!1,i=[];this.syncData(function(s,c){var l="Error get Security Policy for ActiveSync: ";if(s){if(console.error(l,s),449!==s.status)return n._notifyConnected(s,aOptions);!0}if(!c)return n.workerHelper.deleteAllEvent(e,!0),t&&t();var u=o.AirSync.Tags,d=o.AirSync.Enums,h=(o.Common.Enums,o.FolderHierarchy.Enums,0),f=new a.EventParser;f.addEventListener([u.Sync,u.Collections,u.Collection,u.Commands],function(n){var o=this;h=n;var s=new a.EventParser;s.addEventListener([u.Sync,u.Collections,u.Collection,u.SyncKey],function(e){o.SyncKey=e.children[0].textContent}),s.addEventListener([u.Sync,u.Collections,u.Collection,u.MoreAvailable],function(e){r=!0}),s.addEventListener([u.Sync,u.Collections,u.Collection,u.Status],function(e){status=e.children[0].textContent}),s.addEventListener([u.Sync,u.Collections,u.Collection,u.Commands,u.Add],function(n){for(var a={},s={},c=0;c<n.children.length;c++){var l=n.children[c];if(a[l.localTagName]=l.children[0].textContent,"ApplicationData"===l.localTagName)for(var d=0;d<l.children.length;d++){var f=l.children[d];if("Recurrence"===f.localTagName){s.repeat=!0;for(var p=0;p<f.children.length;p++){var v=f.children[p];v.children[0]?s[v.localTagName]=v.children[0].textContent:s[v.localTagName]=null}}else if("Location"===f.localTagName&&f.children[0]&&f.children[0].children[0])s[f.localTagName]=f.children[0].children[0].textContent;else if("Body"===f.localTagName){for(var m=0;m<f.children.length;m++)if("Data"===f.children[m].localTagName){f.children[m].children[0]&&(s.description=f.children[m].children[0].textContent);break}}else f.children[0]?s[f.localTagName]=f.children[0].textContent:s[f.localTagName]=null}}s.serverId=a.ServerId;var g=o.getAddEventItem(s),y=e.findIndex(function(e){return e.uuid===s.UID});if(n.tag!==u.Add||s.OrganizerEmail.toLowerCase()!==o._accountId||-1!==y&&o.eventsSame(g,e[y])||i.push(g),-1!==y&&e.splice(y,1),--h<=0){if(0===e.length&&i.length>0)o.workerHelper.newAllEvent(i);else{var w=[];e.forEach(function(e){o._username===e.account&&w.push(e)}),o.workerHelper.deleteAllEvent(w),o.workerHelper.newAllEvent(i)}r||t&&t()}});try{s.run(c)}catch(e){console.error(l,e)}status===d.Status.Success&&r&&this.getSyncData(function(e){t(e)})}.bind(n));try{f.runGetNum(c)}catch(e){console.error(l,e)}})},dateToString:function(e){var t=e.getUTCFullYear().toString(),n=(e.getUTCMonth()+1).toString(),r=e.getUTCDate().toString(),a=e.getUTCHours().toString(),o=e.getUTCMinutes().toString(),i=e.getUTCSeconds().toString();return 1===n.length&&(n="0"+n),1===r.length&&(r="0"+r),1===a.length&&(a="0"+a),1===o.length&&(o="0"+o),1===i.length&&(i="0"+i),t+n+r+"T"+a+o+i+"Z"},getRecurrenceRule:function(e){var t=null,n=null,r=null,a=null,o={},i=[1,2,4,8,16,32,64];switch(e.repeat){case"every day":t=0,n=1;break;case"every week":t=1,n=1,r=i[e.eventSDate.getDay()];break;case"every 2 weeks":t=1,n=2,r=i[e.eventSDate.getDay()];break;case"every month":t=2,n=1,a=e.eventSDate.getDate()}return o.type=t,o.interval=n,o.dayOfWeek=r,o.dayOfMonth=a,o.firstDayOfWeek=null,o},addEventData:function(e,t){this.isCreateEvent=!1;var n=this.dateToString(e.eventSDate),r=this.dateToString(e.eventEDate),i=o.AirSync.Tags,s=o.AirSyncBase.Tags,c=o.Calendar.Tags,l=o.AirSyncBase.Enums.Type,u=new a.Writer("1.3",1,"UTF-8"),d=this.getRecurrenceRule(e),h=e.allDayEvent?1:0;if(h){var f=60*(new Date).getTimezoneOffset()*1e3;n=new Date(e.startDate);var p=(r=new Date(e.endDate)).valueOf()-n.valueOf();p=864e5===p?p:p+864e5,r=this.dateToString(new Date(n.valueOf()+p-f)),n=this.dateToString(new Date(n.valueOf()-f))}u.stag(i.Sync).stag(i.Collections).stag(i.Collection).tag(i.SyncKey,this.SyncKey).tag(i.CollectionId,this.CollectionId).stag(i.Commands).stag(i.Add).tag(i.ClientId,Date.now().toString()+"@kaios").stag(i.ApplicationData).tag(c.StartTime,n).tag(c.Subject,e.title),null!==d.type&&(u.stag(c.Recurrence).tag(c.Type,d.type).tag(c.Interval,d.interval),d.dayOfWeek&&u.tag(c.DayOfWeek,d.dayOfWeek),d.dayOfMonth&&u.tag(c.DayOfMonth,d.dayOfMonth),e.repeatEDate&&u.tag(c.Until,this.dateToString(new Date(e.repeatEDate))),u.etag()),this.currentVersion.lte("14.1")&&u.tag(c.UID,this._accountId+Date.now().toString()+Math.random().toString()),e.location&&this.currentVersion.gte("16.0")&&u.stag(s.Location).tag(s.DisplayName,e.location).etag(),e.description&&u.stag(s.Body).tag(s.Type,l.PlainText).tag(s.Data,e.description).etag(),e.reminder&&"none"!==e.reminder?u.tag(c.Reminder,Math.abs(parseInt(e.reminder))/60):"none"===e.reminder&&u.tag(c.Reminder),u.tag(c.EndTime,r).tag(c.AllDayEvent,h).etag().etag().etag().etag().etag().etag(),this.postCommand(u,t)},addEvent:function(e,t,n){this.addEventData(t,function(e,t){var r="Error get Security Policy for ActiveSync: ";if(e){if(console.error(r,e),449!==e.status)return this._notifyConnected(e,aOptions);!0}var i=new a.EventParser,s=o.AirSync.Tags;o.Common.Enums,o.FolderHierarchy.Enums;i.addEventListener([s.Sync,s.Collections,s.Collection,s.Responses,[s.Add]],function(e){for(var t={},r=0;r<e.children.length;r++){var a=e.children[r];t[a.localTagName]=a.children[0].textContent}t.Status&&n(t.Status)}.bind(this));try{i.run(t)}catch(e){console.error(r,e),n()}}.bind(this))},deleteEventData:function(e,t){var n=o.AirSync.Tags,r=new a.Writer("1.3",1,"UTF-8");r.stag(n.Sync).stag(n.Collections).stag(n.Collection).tag(n.SyncKey,this.SyncKey).tag(n.CollectionId,this.CollectionId).tag(n.DeletesAsMoves).tag(n.GetChanges).stag(n.Commands).stag(n.Delete).tag(n.ServerId,e.serverId).etag().etag().etag().etag().etag(),this.postCommand(r,t)},deleteEvent:function(e,t,n){this.deleteEventData(t,function(e,t){var r="Error get Security Policy for ActiveSync: ";if(e){if(console.error(r,e),449!==e.status)return this._notifyConnected(e,aOptions);!0}var i=new a.EventParser,s=o.AirSync.Tags;o.Common.Enums,o.FolderHierarchy.Enums;i.addEventListener([s.Sync,s.Collections,s.Collection],function(e){for(var t={},r=0;r<e.children.length;r++){var a=e.children[r];t[a.localTagName]=a.children[0]?a.children[0].textContent:null}t.Status&&"1"===t.Status&&n&&n()}.bind(this));try{i.run(t)}catch(e){console.error(r,e),n&&n()}}.bind(this))}},t}.call(t,n,t,e))||(e.exports=r)},94:function(e,t,n){"use strict";var r=new(n(49).a);t.a=r},95:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(50),a=n.n(r),o=n(161),i=n.n(o);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=Symbol("init"),l=function(){function e(e,t){s(this,"moduleName",void 0),s(this,"level",void 0),this.moduleName=e,this.level=t,this[c](t)}var t=e.prototype;return t[c]=function(e){i.a.reg(a.a),i.a.apply(a.a),this.setLevel(e)},t.info=function(e){a.a.info("%c ["+(new Date).toISOString()+"] INFO "+this.moduleName+":"+e+" ","background: #6E47BE; color: white")},t.warn=function(e){a.a.warn("%c ["+(new Date).toISOString()+"] INFO "+this.moduleName+":"+e+" ","background: #FCA428; color: white")},t.error=function(e){a.a.error("%c ["+(new Date).toISOString()+"] INFO "+this.moduleName+":"+e+" ","background: #B83726; color: white")},t.success=function(e){a.a.info("%c ["+(new Date).toISOString()+"] INFO "+this.moduleName+":"+e+" ","background: #3AA756; color: white")},t.getLevel=function(){return this.level},t.setLevel=function(e){this.level=e,a.a.setLevel(e)},e}()}});