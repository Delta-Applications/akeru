'use strict';(function(exports){function LogoLoader(logoPath){this.videoPath=logoPath.video;this.imagePath=logoPath.image;this._noImage=false;this._noVideo=false;this.ready=false;this.found=false;this.element=null;this.onnotfound=null;this.onload=null;this.timeout=8000;this._initVideo();this._initImage();this._startTimer();}
LogoLoader.prototype={_initVideo:function(){var video=document.createElement('video');video.preload='auto';video.src=this.videoPath;var self=this;video.onloadeddata=function(){self._onLogoLoaded(video);};video.onerror=function(){self._noVideo=true;if(self._noImage&&(typeof self.onnotfound=='function')){self.ready=true;self.onnotfound();}};},_initImage:function(){var self=this;var img=new Image();img.src=this.imagePath;img.onload=function(){self._onLogoLoaded(img);};img.onerror=function(){self._noImage=true;if(self._noVideo&&(typeof self.onnotfound=='function')){self.ready=true;self.onnotfound();}};},_startTimer:function(){var self=this;this._stopTimer();this.timer=window.setTimeout(function(){if(!this.ready&&typeof self.onnotfound=='function'){self.ready=true;self.onnotfound();}},this.timeout);},_stopTimer:function(){window.clearTimeout(this.timer);},_onLogoLoaded:function(element){this._stopTimer();if(!this.ready){this.found=true;this.ready=true;this.element=element;if(this.onload){this.onload(element);}}}};exports.LogoLoader=LogoLoader;}(window));