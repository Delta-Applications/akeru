
(function(e){var t=null,n=[],r=!1,i=function(e){switch(e.type){case"screenchange":e.detail.screenEnabled||t&&t.hide();break;case"lockscreen-appopened":t&&t.hide();break;case"lockscreen-appclosed":case"wake":r&&t&&t.show();break;case"keydown":("Backspace"===e.key||"BrowserBack"===e.key)&&r&&(n.apply(null,[]),e.preventDefault());}};window.addEventListener("keydown",i),window.addEventListener("lockscreen-appopened",i),window.addEventListener("lockscreen-appclosed",i),window.addEventListener("screenchange",i),window.addEventListener("wake",i);var o={applist:[],init:function(e,i){t||(t=new SoftkeyPanel({menuClassName:"menu-button",items:[{name:"create",priority:1,method:function(){}}]})),t.initSoftKeyPanel(e),t.show(),n=i||function(){},r=!0;},updateSoftkey:function(e,n,r){switch(n){case"1":e.items[0].l10nId=r;break;case"3":e.items[1].l10nId=r;}
t&&t.initSoftKeyPanel(e);},show:function(){t&&t.show();},onlyHide:function(){t&&t.hide();},hide:function(e){t&&t.hide(),n=function(){},r=!1;for(var i=0;i<this.applist.length;i++)if(this.applist[i].name==e){this.applist.splice(i,1),0==i&&this.applist.length>0&&void 0!=this.applist[0].appliacation.front&&this.applist[0].appliacation.front();break;}},getSoftkey:function(){return t;},register:function(e,t){for(var n=0;n<this.applist.length;n++)if(this.applist[n].name==t)return;var r={appliacation:e,name:t};this.applist.length>0&&void 0!=this.applist[0].appliacation.back&&this.applist[0].appliacation.back(),this.applist.unshift(r);}};e.SoftkeyHelper=o;})(this);