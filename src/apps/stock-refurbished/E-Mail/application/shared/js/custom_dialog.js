
var CustomDialog=function(){var e=null,t=null,n=null,r=null,i=null,o=null,s=null,a=null,u=null,c=!1,l={cancel:null,confirm:null,accept:null,run:function(e){this[e]&&this[e].callback();}},d=function(e){1===CustomDialog.__version?"undefined"==typeof SoftkeyPanel?LazyLoader.load("/shared/js/softkey_panel.js",function(){SoftkeyHelper.init(e,function(){null!=u&&(SoftkeyHelper.hide(),u());});}.bind(this)):SoftkeyHelper.init(e,function(){null!=u&&(SoftkeyHelper.hide(),u());}):2===CustomDialog.__version?(OptionHelper.softkeyPanel&&OptionHelper.softkeyPanel.menuVisible&&OptionHelper.softkeyPanel.hideMenu(),OptionHelper.saveContext(),OptionHelper.optionParams._for_custom_dialog=e,OptionHelper.show("_for_custom_dialog")):3===CustomDialog.__version&&CustomDialog.softkeyPanel&&CustomDialog.softkeyPanel.initSoftKeyPanel(e);};return{hide:function(){null!==t&&(e||(e=document.body),e.removeChild(t),t=null,n=null,r=null,i=null,s=null,a=null,2===CustomDialog.__version?OptionHelper.returnContext():1===CustomDialog.__version&&SoftkeyHelper.hide(),c=!1,window.dispatchEvent(new CustomEvent("customDialogEvent",{detail:{visibility:!1}})));},show:function(f,h,p,m,g,y,v){function b(e){t.classList.remove("visible"),e.target===s&&m.callback?m.callback():e.target===a&&cancel.callback&&cancel.callback();}
var _={menuClassName:"menu-button",header:{l10nId:""},items:[]};if(e=g||document.body,l.confirm=m,l.cancel=p,l.accept=y,p&&(void 0!=p.backkeyCallback&&(u=p.backkeyCallback),_.items.push({name:"Cancel",l10nId:p.title,priority:1,method:function(){1===CustomDialog.__version&&SoftkeyHelper.hide(),p.callback();}})),y&&_.items.push({name:"",l10nId:y.title,priority:2,method:function(){1===CustomDialog.__version&&SoftkeyHelper.hide(),y.callback();}}),m&&_.items.push({name:"Delete",l10nId:m.title,priority:3,method:function(){1===CustomDialog.__version&&SoftkeyHelper.hide(),o?m.callback(o):m.callback();}}),d(_),null===t){t=document.createElement("form"),t.setAttribute("role","dialog"),t.setAttribute("data-type","confirm"),t.id="dialog-screen",n=document.createElement("section"),t.appendChild(n);var w=function(e,t,n){if("string"==typeof t)return n.setAttribute("data-l10n-id",t),n;var r=t.icon,i=n;if(r&&""!==r){i=document.createElement("span");var o=new Image();o.src=r,o.classList.add("custom-dialog-"+e+"-icon"),n.insertBefore(o,n.firstChild),n.appendChild(i);}
if(t.id)navigator.mozL10n.setAttributes(i,t.id,t.args);else{var s=t[e];i.textContent=s;}
return n;},S=function(e,t){"string"==typeof t&&e.setAttribute("data-l10n-id",t),t.id&&navigator.mozL10n.setAttributes(e,t.id,t.args);};if(r=document.createElement("h1"),r.id="dialog-title",f&&""!==f&&(r=w("title",f,r,n)),n.appendChild(r),i=document.createElement("p"),i.id="dialog-message",i=w("message",h,i,n),n.appendChild(i),v&&(o=document.createElement("input"),o.setAttribute("type",v),o.setAttribute("id","custom-input"),m.input=o,n.appendChild(o)),p){var A=document.createElement("menu");A.dataset.items=1,a=document.createElement("button"),a.type="button",S(a,p.title),a.id="dialog-no",a.addEventListener("click",b),A.appendChild(a),m?(A.dataset.items=2,s=document.createElement("button"),s.type="button",S(s,m.title),s.id="dialog-yes",s.className=m.recommend?"recommend":"danger",s.addEventListener("click",b),A.appendChild(s)):a.classList.add("full");}
e.appendChild(t);}
return t.classList.add("visible"),c=!0,window.dispatchEvent(new CustomEvent("customDialogEvent",{detail:{visibility:!0}})),v&&o.focus(),t;},runConfirm:function(){l.run("confirm");},runCancel:function(){l.cancel?l.run("cancel"):l.run("accept");},__version:1,setVersion:function(e){this.__version=e;},setSoftkeyPanel:function(e){this.softkeyPanel=e;},get isVisible(){return c;}};}();