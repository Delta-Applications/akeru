define(["require","shared/wifi_helper"],function(e){var t=e("shared/wifi_helper"),n=t.getWifiManager(),i={_networks:{},_scanning:!1,_cachedCallbacks:[],get:function(e){this._scanning?this._cachedCallbacks.push(e):e(this._networks)},scan:function(e){var t,i=n.getKnownNetworks();this._scanning=!0,i.onsuccess=function(){this._networks={},this._scanning=!1;var n=i.result;for(t=0;t<n.length;++t){var o=n[t],r=o.ssid;this._networks[r]=o}for(var a;this._cachedCallbacks.length>0;)a=this._cachedCallbacks.pop(),a(this._networks);e&&e(this._networks)}.bind(this),i.onerror=function(e){this._scanning=!1,console.warn("Error : ",e),console.warn("could not retrieve any known network.")}.bind(this)}};return i.scan(),i});