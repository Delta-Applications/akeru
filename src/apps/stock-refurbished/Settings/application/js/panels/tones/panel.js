define(["require","modules/settings_panel","panels/tones/tone_manager"],function(e){var t=e("modules/settings_panel"),n=e("panels/tones/tone_manager");return function(){function e(){var e={menuClassName:"menu-button",header:{l10nId:"message"},items:[{name:"Select",l10nId:"select",priority:2,method:function(){}}]};SettingsSoftkey.init(e),SettingsSoftkey.show()}function i(){"false"===o.value?showToast("vibrate-off"):showToast("vibrate-on")}var o,r=n();return t({onInit:function(e){var t={alertToneSelection:e.querySelector(".alert-tone-selection"),alertToneSelectionDesc:e.querySelector(".alert-tone-selection .desc"),ringToneSelection:e.querySelector(".ring-tone-selection"),ringToneSelectionDesc:e.querySelector(".ring-tone-selection .desc"),ringer:e.querySelector(".ringer"),manageTones:e.querySelector(".manage-tones-button")};o=e.querySelector('select[name="vibration.enabled"]'),r.init(t)},onBeforeShow:function(){e(),o.addEventListener("change",i)},onBeforeHide:function(){o.removeEventListener("change",i)}})}});