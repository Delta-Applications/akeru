define("panels/languages/languages",["require","shared/language_list","modules/date_time"],function(e){var t=e("shared/language_list");e("modules/date_time");var n=function(){};return n.prototype={buildList:function(){t.get(function(e,n){var i=document.createDocumentFragment();for(var o in e){var r=o===n,a=document.createElement("option");a.value=o,a.innerHTML=t.wrapBidi(o,e[o]),a.selected=r,i.appendChild(a)}this.elements.langSel.innerHTML="",this.elements.langSel.appendChild(i)}.bind(this))},updateDateTime:function(){if(this.panel.children.length){var e=new Date;this.panel.querySelector("#region-date").textContent=e.toLocaleString(navigator.language,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.panel.querySelector("#region-time").textContent=e.toLocaleString(navigator.language,{hour:"numeric",minute:"numeric",hour12:navigator.mozHour12})}},showMoreLanguages:function(){SettingsDBCache.getSettings(function(e){var t=e["deviceinfo.os"];new window.MozActivity({name:"marketplace-category",data:{slug:"langpacks",fxos_version:t.split(".").slice(0,2).join(".")}})})},onInit:function(e,t){this.panel=e,this.elements=t},onLocalized:function(){this.updateDateTime()}},function(){return new n}}),define("panels/languages/panel",["require","modules/settings_panel","panels/languages/languages"],function(e){var t=e("modules/settings_panel"),n=e("panels/languages/languages");return function(){var e=n(),i=e.buildList.bind(e),o=document.querySelectorAll("#languages li"),r=function(){var t={menuClassName:"menu-button",header:{l10nId:"message"},items:[{name:"Select",l10nId:"select",priority:2}]};e.onLocalized(),SettingsSoftkey.init(t),SettingsSoftkey.show()};return t({onBeforeShow:function(){e.buildList(),e.updateDateTime(),window.addEventListener("localized",r),document.addEventListener("additionallanguageschange",i),ListFocusHelper.addEventListener(o)},onBeforeHide:function(){window.removeEventListener("localized",r),document.removeEventListener("additionallanguageschange",i),ListFocusHelper.removeEventListener(o)},onInit:function(t){var n={langSel:t.querySelector('select[name="language.current"]')};e.onInit(t,n)}})}});