define("panels/wifi_enter_certificate_nickname/panel",["require","modules/dialog_panel"],function(e){var t=e("modules/dialog_panel");return function(){function e(e){switch(e.key){case"Backspace":u.resetBtn.click()}}function n(e){var t={menuClassName:"menu-button",header:{l10nId:"message"},items:[{name:"Cancel",l10nId:"cancel",priority:1,method:function(){u.resetBtn.click()}}]};e?t.items.push({name:"Save",l10nId:"save",priority:3,method:function(){u.submitButton.click()}}):t.items.slice(1,1),SettingsSoftkey.init(t),SettingsSoftkey.show()}function i(){var e=u.panel.querySelector(".certificate-file-nickname");e.focus(),e.selectionStart=e.value.length}function o(){var e=0!==u.nicknameInput.value.length||!1;n(e)}function r(e,t){var n=new CustomEvent(e,t);window.dispatchEvent(n)}function a(){r("panelready",{detail:{current:"#"+u.panel.id,previous:"#wifi-selectCertificateFile"}})}function s(){document.hidden||r("dialogpanelshow",{detail:{dialogpanel:"#"+u.panel.id}})}function c(){r("dialogpanelhide",{detail:{dialogpanel:"#"+u.panel.id}})}var u={};return t({onInit:function(e){u={panel:e,nickname:e.querySelector(".nickname"),resetBtn:e.querySelector("button[type=reset]"),submitButton:e.querySelector("button[type=submit]"),nicknameInput:e.querySelector(".certificate-file-nickname")}},onSubmit:function(){return Promise.resolve({nickname:u.nicknameInput.value})},onBeforeShow:function(t,i){n(!0),a(),s(),u.nicknameInput.value=i.certificateName,window.addEventListener("keydown",e)},onBeforeHide:function(){c(),window.removeEventListener("keydown",e)},onShow:function(){i(),u.nickname.addEventListener("focus",i),u.nicknameInput.addEventListener("input",o),document.addEventListener("visibilitychange",s)},onHide:function(){u.nickname.removeEventListener("focus",i),u.nicknameInput.removeEventListener("input",o),document.removeEventListener("visibilitychange",s)}})}});