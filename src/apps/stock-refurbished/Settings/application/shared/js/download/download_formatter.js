!function(e){function t(e){if(void 0===e||isNaN(e))return null;for(var t=0;e>=1024&&t<r.length;)e/=1024,++t;var n=navigator.mozL10n.get;return n("fileSize",{size:e.toFixed(o),unit:n("byteUnit-"+r[t])})}function n(e,t){return 0===t?0:parseInt(100*e/t)}var o=1,r=["B","KB","MB","GB","TB"],i={getFormattedSize:function(e){return t(e)},getPercentage:function(e){return n(e.currentBytes,e.totalBytes)},getFileName:function(e){return e.path.split("/").pop()},getTotalSize:function(e){var n=e.totalBytes;return t(n)},getDownloadedSize:function(e){var n=e.currentBytes;return t(n)},getDate:function(e,t){var n;try{n=e.startTime}catch(o){n=new Date,console.error(o)}LazyLoader.load(["shared/js/l10n_date.js"],function(){var e=navigator.mozL10n.DateTimeFormat().fromNow(n);t&&t(e)})},getUUID:function(e){return e.id||this.getFileName(e)}};e.DownloadFormatter=i}(this);