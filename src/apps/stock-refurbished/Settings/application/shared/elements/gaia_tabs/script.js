
window.GaiaTabs=(function(win){var proto=Object.create(HTMLElement.prototype);var indexOf=[].indexOf;var baseurl=window.GaiaTabsBaseurl||'/shared/elements/gaia_tabs/';proto.createdCallback=function(){for(var el=this.firstElementChild;el;el=el.nextElementSibling){el.setAttribute('role','tab');}
this.setAttribute('role','tablist');ComponentUtils.style.call(this,baseurl);this.addEventListener('click',this.onClick);setTimeout(()=>{this.select(this.getAttribute('selected'));});window.addEventListener('largetextenabledchanged',()=>{setTimeout(()=>{this._updateIndicator(this.selected?this.selected:0);})});};proto.attributeChangedCallback=function(attr,oldVal,newVal){if(attr==='selected'){this.select(newVal);}};proto.onClick=function(e){var el=e.target;var i;while(el){i=indexOf.call(this.children,el);if(i>-1){return this.select(i);}
el=el.parentNode;}};proto.select=function(index){if(index===null){return;}
index=Number(index);var el=this.children[index];this.deselect(this.selected);this.selected=index;el.classList.add('selected');var e=new CustomEvent('change');setTimeout(this.dispatchEvent.bind(this,e));this._updateIndicator(index);};proto.addItem=function(child,index){var len=this.children.length;if(!index){index=len-1;}
if(index<0||index>len-1||!child){return;}
this.insertBefore(child,this.children[index]);};proto.removeItem=function(id){var child=document.getElementById(id);if(child){this.removeChild(child);}};proto._updateIndicator=function(index){var isRtl=document.documentElement.dir==='rtl';var offset=0;var tabs=Array.prototype.slice.call(this.children,0,-1);var tabsWidth=this.offsetWidth;var currTabLeft=tabs[index].offsetLeft;var currTabWidth=tabs[index].offsetWidth;var currTabRight=tabsWidth-(currTabLeft+currTabWidth);var lastTabLeft=tabs[tabs.length-1].offsetLeft;var lastTabWidth=tabs[tabs.length-1].offsetWidth;var lastTabRight=tabsWidth-(lastTabLeft+lastTabWidth);if(index===0){offset=0;}else if(index===(tabs.length-1)){if(!isRtl){if(lastTabRight>0){offset=0;}else{offset=lastTabRight;}}else{offset=Math.abs(lastTabLeft);}}else{var targetTabLeft=(currTabLeft+currTabRight)/2;var targetOffset=targetTabLeft-currTabLeft;if(!isRtl){if(targetOffset>0||lastTabRight>0){offset=0;}else if(targetOffset<0&&targetOffset>lastTabRight){offset=targetOffset;}else if(targetOffset<0&&targetOffset<lastTabRight){offset=lastTabRight;}}else{var currAmount=currTabRight+currTabWidth;if(currAmount>tabsWidth){if(currAmount<lastTabRight){targetOffset=Math.abs(targetTabLeft)-currTabLeft;offset=Math.abs(targetOffset);}else{offset=Math.abs(lastTabLeft);}}}}
this.style.transform='translateX('+offset+'px)';};proto.deselect=function(index){var el=this.children[index];if(!el){return;}
el.classList.remove('selected');if(this.current==el){this.selected=null;}};return document.registerElement('gaia-tabs',{prototype:proto});})(window);