'use strict';var ViewHelper={debug:debug.bind(window,'ViewHelper'),back:null,controls:null,delete:null,dirChange:null,focus:0,focusChange:null,navigator:null,options:null,share:null,cropSubView:{back:null,headerId:null,enter:null,undo:null,},editSubView:{back:null,headerId:null,msgId:null,optionsId:null,enter:null,undo:null,},get groupNavigator(){if(null===GroupNavigator.getGroupInfo){GroupNavigator.getGroupInfo=NavigationMap.getGroupInfo;GroupNavigator.columnCount=Gallery.columnCount;BoxNavigator.columnCount=Gallery.columnCount;}
return Settings.GROUPBYDATEANDLOCATION?GroupNavigator:BoxNavigator;},resetGroupNavigator:function(){if([LAYOUT_MODE.list,LAYOUT_MODE.select,LAYOUT_MODE.pick,LAYOUT_MODE.favorite].contains(currentView)&&this.navigator!==this.groupNavigator){this.navigator=this.groupNavigator;}},resetView:function(){this.debug('resetView',currentView);var menu=SoftkeyManager.menuItems;switch(currentView){case LAYOUT_MODE.list:Gallery.subView=null;this.options=menu.listOptions;this.focus=NavigationMap.getListFocusIndex;this.controls=NavigationMap.listControls;this.navigator=this.groupNavigator;this.back=SoftkeyManager.endKeyHandler;this.delete=deleteSingleItem;this.share=shareItems;this.focusChange=Gallery.liveFocusChange;this.dirChange=Gallery.setSelection;break;case LAYOUT_MODE.select:Gallery.subView=null;this.options=menu.selectOptions;this.focus=NavigationMap.getListFocusIndex;this.controls=NavigationMap.listControls;this.navigator=this.groupNavigator;this.back=SoftkeyManager.selectBack;this.delete=deleteSelectedPhotos;this.share=shareItems;this.focusChange=Gallery.selectFocusChange;this.dirChange=null;break;case LAYOUT_MODE.fullscreen:Gallery.subView=FS_SUBVIEW.home;this.options=menu.fullscreenOptions;this.focus=null;this.controls=null;this.navigator=null;this.back=SoftkeyManager.fullscreenBack;this.delete=deleteSingleItem;this.share=shareItems;this.focusChange=null;this.dirChange=Gallery.fsDirChange;break;case LAYOUT_MODE.edit:Gallery.subView=EDIT_SUBVIEW.home;this.options=null;this.focus=NavigationMap.getEditFocusIndex;this.controls=NavigationMap.editControls;this.navigator=HorizontalNavigator;this.back=SoftkeyManager.editBack;this.delete=null;this.share=null;this.focusChange=Gallery.editFocusChange;this.dirChange=Gallery.editDirChange;break;case LAYOUT_MODE.pick:Gallery.subView=null;this.options=null;this.focus=NavigationMap.getListFocusIndex;this.controls=NavigationMap.listControls;this.navigator=this.groupNavigator;this.back=Pick.exit;this.delete=null;this.share=null;this.focusChange=Gallery.pickFocusChange;this.dirChange=null;break;case LAYOUT_MODE.crop:Gallery.subView=CROP_SUBVIEW.pickImage;this.options=null;this.focus=null;this.controls=NavigationMap.cropControls;this.navigator=HorizontalNavigator;this.back=SoftkeyManager.cropBack;this.delete=null;this.share=null;this.focusChange=null;this.dirChange=null;break;case LAYOUT_MODE.favorite:Gallery.subView=null;this.options=menu.listOptions;this.focus=Favorite.getFavoriteListFocusIndex;this.controls=Favorite.getALLFavorites;this.navigator=this.groupNavigator;this.back=Favorite.favoriteBack;this.delete=deleteSingleItem;this.share=shareItems;this.focusChange=Favorite.focusChange;this.dirChange=Gallery.setSelection;break;case LAYOUT_MODE.dongle:Gallery.subView=null;this.options=null;this.focus=NavigationMap.getListFocusIndex;this.controls=NavigationMap.listControls;this.navigator=this.groupNavigator;this.back=Dongle.dongleBackHandle;this.delete=null;this.share=null;this.focusChange=Dongle.dongleFocusChange;this.dirChange=null;break;default:break;};},resetEditSubView:function(){this.debug('resetEditSubView',Gallery.subView);var edit=this.editSubView;switch(Gallery.subView){case EDIT_SUBVIEW.exposure:edit.headerId='kai-edit-exposure';edit.optionsId='exposure-slider';edit.enter=null;break;case EDIT_SUBVIEW.rotate:edit.headerId='kai-edit-rotate';edit.optionsId=null;edit.enter=null;break;case EDIT_SUBVIEW.cropRect:edit.headerId='kai-edit-crop';edit.optionsId=null;edit.enter=null;break;case EDIT_SUBVIEW.filters:edit.headerId='kai-edit-filters';edit.optionsId='edit-filters-options';edit.enter=null;break;case EDIT_SUBVIEW.autoCorrect:edit.headerId='kai-edit-auto-correct';edit.optionsId='edit-auto-correct-options';edit.enter=null;break;}},}