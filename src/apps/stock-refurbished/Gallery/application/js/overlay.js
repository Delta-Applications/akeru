'use strict';var overlaySKParams={header:'Gallery Header',handleDelay:true,items:[{l10nId:'',priority:1,method:null,},]};var overlaySK=new SoftkeyPanel(overlaySKParams);var Overlay={current:null,dialog:null,camera:false,empty:false,hide:function hide(){Overlay.empty=false;SoftkeyManager.softkey&&SoftkeyManager.softkey.show();Overlay.current=null;currentActiveDialog=undefined;$('overlay').classList.add('hidden');document.body.classList.remove('overlay-dialog');overlaySK.hide();},show:function show(id){SoftkeyManager.softkey&&SoftkeyManager.softkey.hide();overlaySK.hide();Overlay.current=id;var title,text,middleId,midcallback,priority=2;switch(id){case null:Overlay.hide();return;case'nocard':title='nocard3-title';text='nocard4-text';middleId='ok';midcallback=function(){window.close();};break;case'pluggedin':title='pluggedin2-title';text='pluggedin2-text';break;case'scanning':title='scanning-title';text='scanning-text';break;case'emptygallery':this.empty=true;title='emptygallery2-title-pick';priority=1;if(picking){text='emptygallery-text-pick';}else{text='emptygallery2-text';}
middleId='camera';midcallback=function(){Overlay.camera=true;launchCameraApp();};break;case'upgrade':title='upgrade-title';text='upgrade-text';break;case'emptyfavorite':title='emptyfavorite-title';text='emptyfavorite-text';middleId='gallery';priority=1;midcallback=function(){Favorite.showThumbnailListView();};break;default:console.warn('Reference to undefined overlay',id);return;}
document.body.classList.add('overlay-dialog');$('overlay-text').setAttribute('data-l10n-id',text);if(id==='scanning')
$('overlay-text').classList.add('scanning');$('overlay').classList.remove('hidden');if(middleId){if(picking){overlaySKParams.items=[{l10nId:'ok',priority:2,method:Gallery.pickCancel}];}else{overlaySKParams.items=[{l10nId:middleId,priority:priority,method:function(){midcallback();},}];}
overlaySK.initSoftKeyPanel(overlaySKParams);overlaySK.show();}},addEventListener:function(type,listener){$('overlay').addEventListener(type,listener);},removeEventListener:function(type,listener){$('overlay').removeEventListener(type,listener);},};